function JC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Rv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zu={exports:{}},$s={},Ju={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function eS(){if(Wg)return me;Wg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,b={};function E(w,A,K){this.props=w,this.context=A,this.refs=b,this.updater=K||C}E.prototype.isReactComponent={},E.prototype.setState=function(w,A){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,A,"setState")},E.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function k(){}k.prototype=E.prototype;function D(w,A,K){this.props=w,this.context=A,this.refs=b,this.updater=K||C}var F=D.prototype=new k;F.constructor=D,P(F,E.prototype),F.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,Y={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function se(w,A,K){var q,X={},J=null,Q=null;if(A!=null)for(q in A.ref!==void 0&&(Q=A.ref),A.key!==void 0&&(J=""+A.key),A)B.call(A,q)&&!ie.hasOwnProperty(q)&&(X[q]=A[q]);var ee=arguments.length-2;if(ee===1)X.children=K;else if(1<ee){for(var ue=Array(ee),we=0;we<ee;we++)ue[we]=arguments[we+2];X.children=ue}if(w&&w.defaultProps)for(q in ee=w.defaultProps,ee)X[q]===void 0&&(X[q]=ee[q]);return{$$typeof:t,type:w,key:J,ref:Q,props:X,_owner:Y.current}}function Te(w,A){return{$$typeof:t,type:w.type,key:A,ref:w.ref,props:w.props,_owner:w._owner}}function Pe(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function tt(w){var A={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return A[K]})}var bt=/\/+/g;function dt(w,A){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):A.toString(36)}function ht(w,A,K,q,X){var J=typeof w;(J==="undefined"||J==="boolean")&&(w=null);var Q=!1;if(w===null)Q=!0;else switch(J){case"string":case"number":Q=!0;break;case"object":switch(w.$$typeof){case t:case e:Q=!0}}if(Q)return Q=w,X=X(Q),w=q===""?"."+dt(Q,0):q,L(X)?(K="",w!=null&&(K=w.replace(bt,"$&/")+"/"),ht(X,A,K,"",function(we){return we})):X!=null&&(Pe(X)&&(X=Te(X,K+(!X.key||Q&&Q.key===X.key?"":(""+X.key).replace(bt,"$&/")+"/")+w)),A.push(X)),1;if(Q=0,q=q===""?".":q+":",L(w))for(var ee=0;ee<w.length;ee++){J=w[ee];var ue=q+dt(J,ee);Q+=ht(J,A,K,ue,X)}else if(ue=x(w),typeof ue=="function")for(w=ue.call(w),ee=0;!(J=w.next()).done;)J=J.value,ue=q+dt(J,ee++),Q+=ht(J,A,K,ue,X);else if(J==="object")throw A=String(w),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return Q}function ft(w,A,K){if(w==null)return w;var q=[],X=0;return ht(w,q,"","",function(J){return A.call(K,J,X++)}),q}function nt(w){if(w._status===-1){var A=w._result;A=A(),A.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=A)}if(w._status===1)return w._result.default;throw w._result}var pe={current:null},$={transition:null},ae={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:$,ReactCurrentOwner:Y};function T(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:ft,forEach:function(w,A,K){ft(w,function(){A.apply(this,arguments)},K)},count:function(w){var A=0;return ft(w,function(){A++}),A},toArray:function(w){return ft(w,function(A){return A})||[]},only:function(w){if(!Pe(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},me.Component=E,me.Fragment=n,me.Profiler=o,me.PureComponent=D,me.StrictMode=i,me.Suspense=h,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,me.act=T,me.cloneElement=function(w,A,K){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var q=P({},w.props),X=w.key,J=w.ref,Q=w._owner;if(A!=null){if(A.ref!==void 0&&(J=A.ref,Q=Y.current),A.key!==void 0&&(X=""+A.key),w.type&&w.type.defaultProps)var ee=w.type.defaultProps;for(ue in A)B.call(A,ue)&&!ie.hasOwnProperty(ue)&&(q[ue]=A[ue]===void 0&&ee!==void 0?ee[ue]:A[ue])}var ue=arguments.length-2;if(ue===1)q.children=K;else if(1<ue){ee=Array(ue);for(var we=0;we<ue;we++)ee[we]=arguments[we+2];q.children=ee}return{$$typeof:t,type:w.type,key:X,ref:J,props:q,_owner:Q}},me.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:l,_context:w},w.Consumer=w},me.createElement=se,me.createFactory=function(w){var A=se.bind(null,w);return A.type=w,A},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:d,render:w}},me.isValidElement=Pe,me.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:nt}},me.memo=function(w,A){return{$$typeof:p,type:w,compare:A===void 0?null:A}},me.startTransition=function(w){var A=$.transition;$.transition={};try{w()}finally{$.transition=A}},me.unstable_act=T,me.useCallback=function(w,A){return pe.current.useCallback(w,A)},me.useContext=function(w){return pe.current.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w){return pe.current.useDeferredValue(w)},me.useEffect=function(w,A){return pe.current.useEffect(w,A)},me.useId=function(){return pe.current.useId()},me.useImperativeHandle=function(w,A,K){return pe.current.useImperativeHandle(w,A,K)},me.useInsertionEffect=function(w,A){return pe.current.useInsertionEffect(w,A)},me.useLayoutEffect=function(w,A){return pe.current.useLayoutEffect(w,A)},me.useMemo=function(w,A){return pe.current.useMemo(w,A)},me.useReducer=function(w,A,K){return pe.current.useReducer(w,A,K)},me.useRef=function(w){return pe.current.useRef(w)},me.useState=function(w){return pe.current.useState(w)},me.useSyncExternalStore=function(w,A,K){return pe.current.useSyncExternalStore(w,A,K)},me.useTransition=function(){return pe.current.useTransition()},me.version="18.3.1",me}var Hg;function Ph(){return Hg||(Hg=1,Ju.exports=eS()),Ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function tS(){if($g)return $s;$g=1;var t=Ph(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var y,v={},x=null,C=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(C=h.ref);for(y in h)i.call(h,y)&&!l.hasOwnProperty(y)&&(v[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:d,key:x,ref:C,props:v,_owner:o.current}}return $s.Fragment=n,$s.jsx=c,$s.jsxs=c,$s}var Gg;function nS(){return Gg||(Gg=1,Zu.exports=tS()),Zu.exports}var m=nS(),R=Ph();const Mv=Rv(R),rS=JC({__proto__:null,default:Mv},[R]);var tl={},ed={exports:{}},Ot={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function iS(){return Kg||(Kg=1,(function(t){function e($,ae){var T=$.length;$.push(ae);e:for(;0<T;){var w=T-1>>>1,A=$[w];if(0<o(A,ae))$[w]=ae,$[T]=A,T=w;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ae=$[0],T=$.pop();if(T!==ae){$[0]=T;e:for(var w=0,A=$.length,K=A>>>1;w<K;){var q=2*(w+1)-1,X=$[q],J=q+1,Q=$[J];if(0>o(X,T))J<A&&0>o(Q,X)?($[w]=Q,$[J]=T,w=J):($[w]=X,$[q]=T,w=q);else if(J<A&&0>o(Q,T))$[w]=Q,$[J]=T,w=J;else break e}}return ae}function o($,ae){var T=$.sortIndex-ae.sortIndex;return T!==0?T:$.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],y=1,v=null,x=3,C=!1,P=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F($){for(var ae=n(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=$)i(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(p)}}function L($){if(b=!1,F($),!P)if(n(h)!==null)P=!0,nt(B);else{var ae=n(p);ae!==null&&pe(L,ae.startTime-$)}}function B($,ae){P=!1,b&&(b=!1,k(se),se=-1),C=!0;var T=x;try{for(F(ae),v=n(h);v!==null&&(!(v.expirationTime>ae)||$&&!tt());){var w=v.callback;if(typeof w=="function"){v.callback=null,x=v.priorityLevel;var A=w(v.expirationTime<=ae);ae=t.unstable_now(),typeof A=="function"?v.callback=A:v===n(h)&&i(h),F(ae)}else i(h);v=n(h)}if(v!==null)var K=!0;else{var q=n(p);q!==null&&pe(L,q.startTime-ae),K=!1}return K}finally{v=null,x=T,C=!1}}var Y=!1,ie=null,se=-1,Te=5,Pe=-1;function tt(){return!(t.unstable_now()-Pe<Te)}function bt(){if(ie!==null){var $=t.unstable_now();Pe=$;var ae=!0;try{ae=ie(!0,$)}finally{ae?dt():(Y=!1,ie=null)}}else Y=!1}var dt;if(typeof D=="function")dt=function(){D(bt)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ft=ht.port2;ht.port1.onmessage=bt,dt=function(){ft.postMessage(null)}}else dt=function(){E(bt,0)};function nt($){ie=$,Y||(Y=!0,dt())}function pe($,ae){se=E(function(){$(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){P||C||(P=!0,nt(B))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function($){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var T=x;x=ae;try{return $()}finally{x=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var T=x;x=$;try{return ae()}finally{x=T}},t.unstable_scheduleCallback=function($,ae,T){var w=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?w+T:w):T=w,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=T+A,$={id:y++,callback:ae,priorityLevel:$,startTime:T,expirationTime:A,sortIndex:-1},T>w?($.sortIndex=T,e(p,$),n(h)===null&&$===n(p)&&(b?(k(se),se=-1):b=!0,pe(L,T-w))):($.sortIndex=A,e(h,$),P||C||(P=!0,nt(B))),$},t.unstable_shouldYield=tt,t.unstable_wrapCallback=function($){var ae=x;return function(){var T=x;x=ae;try{return $.apply(this,arguments)}finally{x=T}}}})(nd)),nd}var qg;function sS(){return qg||(qg=1,td.exports=iS()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function oS(){if(Yg)return Ot;Yg=1;var t=Ph(),e=sS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(r){return h.call(v,r)?!0:h.call(y,r)?!1:p.test(r)?v[r]=!0:(y[r]=!0,!1)}function C(r,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,a,u){if(s===null||typeof s>"u"||C(r,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,a,u,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];E[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function D(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(k,D);E[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(k,D);E[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(k,D);E[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function F(r,s,a,u){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,a,f,u)&&(a=null),u||f===null?x(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,u=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,u?r.setAttributeNS(u,s,a):r.setAttribute(s,a))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Y=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),tt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),$=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var T=Object.assign,w;function A(r){if(w===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);w=s&&s[1]||""}return`
`+w+r}var K=!1;function q(r,s){if(!r||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var u=O}Reflect.construct(r,[],s)}else{try{s.call()}catch(O){u=O}r.call(s.prototype)}else{try{throw Error()}catch(O){u=O}r()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),g=u.stack.split(`
`),_=f.length-1,S=g.length-1;1<=_&&0<=S&&f[_]!==g[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==g[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==g[S]){var N=`
`+f[_].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=_&&0<=S);break}}}finally{K=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?A(r):""}function X(r){switch(r.tag){case 5:return A(r.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return r=q(r.type,!1),r;case 11:return r=q(r.type.render,!1),r;case 1:return r=q(r.type,!0),r;default:return""}}function J(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ie:return"Fragment";case Y:return"Portal";case Te:return"Profiler";case se:return"StrictMode";case dt:return"Suspense";case ht:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case tt:return(r.displayName||"Context")+".Consumer";case Pe:return(r._context.displayName||"Context")+".Provider";case bt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ft:return s=r.displayName||null,s!==null?s:J(r.type)||"Memo";case nt:s=r._payload,r=r._init;try{return J(r(s))}catch{}}return null}function Q(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(s);case 8:return s===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function we(r){var s=ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function be(r){r._valueTracker||(r._valueTracker=we(r))}function De(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=ue(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function Ue(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xe(r,s){var a=s.checked;return T({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function pt(r,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=ee(s.value!=null?s.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Rt(r,s){s=s.checked,s!=null&&F(r,"checked",s,!1)}function Tt(r,s){Rt(r,s);var a=ee(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?rn(r,s.type,a):s.hasOwnProperty("defaultValue")&&rn(r,s.type,ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Gt(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function rn(r,s,a){(s!=="number"||Ue(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var _t=Array.isArray;function $n(r,s,a,u){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+ee(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function is(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $o(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(_t(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ee(a)}}function ss(r,s){var a=ee(s.value),u=ee(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function Go(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function os(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function as(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?os(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ni,ls=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,u,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ni.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Gn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cc=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(r){cc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Tn[s]=Tn[r]})});function Ko(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Tn.hasOwnProperty(r)&&Tn[r]?(""+s).trim():s+"px"}function sp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,f=Ko(a,s[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,f):r[a]=f}}var iw=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(r,s){if(s){if(iw[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function dc(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=null;function fc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pc=null,ri=null,ii=null;function op(r){if(r=Is(r)){if(typeof pc!="function")throw Error(n(280));var s=r.stateNode;s&&(s=ga(s),pc(r.stateNode,r.type,s))}}function ap(r){ri?ii?ii.push(r):ii=[r]:ri=r}function lp(){if(ri){var r=ri,s=ii;if(ii=ri=null,op(r),s)for(r=0;r<s.length;r++)op(s[r])}}function cp(r,s){return r(s)}function up(){}var mc=!1;function dp(r,s,a){if(mc)return r(s,a);mc=!0;try{return cp(r,s,a)}finally{mc=!1,(ri!==null||ii!==null)&&(up(),lp())}}function cs(r,s){var a=r.stateNode;if(a===null)return null;var u=ga(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var gc=!1;if(d)try{var us={};Object.defineProperty(us,"passive",{get:function(){gc=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{gc=!1}function sw(r,s,a,u,f,g,_,S,N){var O=Array.prototype.slice.call(arguments,3);try{s.apply(a,O)}catch(U){this.onError(U)}}var ds=!1,qo=null,Yo=!1,yc=null,ow={onError:function(r){ds=!0,qo=r}};function aw(r,s,a,u,f,g,_,S,N){ds=!1,qo=null,sw.apply(ow,arguments)}function lw(r,s,a,u,f,g,_,S,N){if(aw.apply(this,arguments),ds){if(ds){var O=qo;ds=!1,qo=null}else throw Error(n(198));Yo||(Yo=!0,yc=O)}}function br(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function hp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function fp(r){if(br(r)!==r)throw Error(n(188))}function cw(r){var s=r.alternate;if(!s){if(s=br(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,u=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return fp(f),r;if(g===u)return fp(f),s;g=g.sibling}throw Error(n(188))}if(a.return!==u.return)a=f,u=g;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,u=g;break}if(S===u){_=!0,u=f,a=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===a){_=!0,a=g,u=f;break}if(S===u){_=!0,u=g,a=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function pp(r){return r=cw(r),r!==null?mp(r):null}function mp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=mp(r);if(s!==null)return s;r=r.sibling}return null}var gp=e.unstable_scheduleCallback,yp=e.unstable_cancelCallback,uw=e.unstable_shouldYield,dw=e.unstable_requestPaint,Ke=e.unstable_now,hw=e.unstable_getCurrentPriorityLevel,vc=e.unstable_ImmediatePriority,vp=e.unstable_UserBlockingPriority,Qo=e.unstable_NormalPriority,fw=e.unstable_LowPriority,xp=e.unstable_IdlePriority,Xo=null,vn=null;function pw(r){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Xo,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:yw,mw=Math.log,gw=Math.LN2;function yw(r){return r>>>=0,r===0?32:31-(mw(r)/gw|0)|0}var Zo=64,Jo=4194304;function hs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ea(r,s){var a=r.pendingLanes;if(a===0)return 0;var u=0,f=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var S=_&~f;S!==0?u=hs(S):(g&=_,g!==0&&(u=hs(g)))}else _=a&~f,_!==0?u=hs(_):g!==0&&(u=hs(g));if(u===0)return 0;if(s!==0&&s!==u&&(s&f)===0&&(f=u&-u,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)a=31-sn(s),f=1<<a,u|=r[a],s&=~f;return u}function vw(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xw(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-sn(g),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&u)!==0)&&(f[_]=vw(S,s)):N<=s&&(r.expiredLanes|=S),g&=~S}}function xc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _p(){var r=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),r}function _c(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function fs(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=a}function _w(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-sn(a),g=1<<f;s[f]=0,u[f]=-1,r[f]=-1,a&=~g}}function wc(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-sn(a),f=1<<u;f&s|r[u]&s&&(r[u]|=s),a&=~f}}var Ne=0;function wp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Cp,Cc,Sp,Ep,bp,Sc=!1,ta=[],Kn=null,qn=null,Yn=null,ps=new Map,ms=new Map,Qn=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(r,s){switch(r){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":ps.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(s.pointerId)}}function gs(r,s,a,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Is(s),s!==null&&Cc(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Cw(r,s,a,u,f){switch(s){case"focusin":return Kn=gs(Kn,r,s,a,u,f),!0;case"dragenter":return qn=gs(qn,r,s,a,u,f),!0;case"mouseover":return Yn=gs(Yn,r,s,a,u,f),!0;case"pointerover":var g=f.pointerId;return ps.set(g,gs(ps.get(g)||null,r,s,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ms.set(g,gs(ms.get(g)||null,r,s,a,u,f)),!0}return!1}function Np(r){var s=Tr(r.target);if(s!==null){var a=br(s);if(a!==null){if(s=a.tag,s===13){if(s=hp(a),s!==null){r.blockedOn=s,bp(r.priority,function(){Sp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function na(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=bc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);hc=u,a.target.dispatchEvent(u),hc=null}else return s=Is(a),s!==null&&Cc(s),r.blockedOn=a,!1;s.shift()}return!0}function kp(r,s,a){na(r)&&a.delete(s)}function Sw(){Sc=!1,Kn!==null&&na(Kn)&&(Kn=null),qn!==null&&na(qn)&&(qn=null),Yn!==null&&na(Yn)&&(Yn=null),ps.forEach(kp),ms.forEach(kp)}function ys(r,s){r.blockedOn===s&&(r.blockedOn=null,Sc||(Sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sw)))}function vs(r){function s(f){return ys(f,r)}if(0<ta.length){ys(ta[0],r);for(var a=1;a<ta.length;a++){var u=ta[a];u.blockedOn===r&&(u.blockedOn=null)}}for(Kn!==null&&ys(Kn,r),qn!==null&&ys(qn,r),Yn!==null&&ys(Yn,r),ps.forEach(s),ms.forEach(s),a=0;a<Qn.length;a++)u=Qn[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)Np(a),a.blockedOn===null&&Qn.shift()}var si=L.ReactCurrentBatchConfig,ra=!0;function Ew(r,s,a,u){var f=Ne,g=si.transition;si.transition=null;try{Ne=1,Ec(r,s,a,u)}finally{Ne=f,si.transition=g}}function bw(r,s,a,u){var f=Ne,g=si.transition;si.transition=null;try{Ne=4,Ec(r,s,a,u)}finally{Ne=f,si.transition=g}}function Ec(r,s,a,u){if(ra){var f=bc(r,s,a,u);if(f===null)Uc(r,s,u,ia,a),Tp(r,u);else if(Cw(f,r,s,a,u))u.stopPropagation();else if(Tp(r,u),s&4&&-1<ww.indexOf(r)){for(;f!==null;){var g=Is(f);if(g!==null&&Cp(g),g=bc(r,s,a,u),g===null&&Uc(r,s,u,ia,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else Uc(r,s,u,null,a)}}var ia=null;function bc(r,s,a,u){if(ia=null,r=fc(u),r=Tr(r),r!==null)if(s=br(r),s===null)r=null;else if(a=s.tag,a===13){if(r=hp(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ia=r,null}function Pp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hw()){case vc:return 1;case vp:return 4;case Qo:case fw:return 16;case xp:return 536870912;default:return 16}default:return 16}}var Xn=null,Tc=null,sa=null;function Ip(){if(sa)return sa;var r,s=Tc,a=s.length,u,f="value"in Xn?Xn.value:Xn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var _=a-r;for(u=1;u<=_&&s[a-u]===f[g-u];u++);return sa=f.slice(r,1<u?1-u:void 0)}function oa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function aa(){return!0}function Rp(){return!1}function Ut(r){function s(a,u,f,g,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?aa:Rp,this.isPropagationStopped=Rp,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),s}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=Ut(oi),xs=T({},oi,{view:0,detail:0}),Tw=Ut(xs),kc,Pc,_s,la=T({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_s&&(_s&&r.type==="mousemove"?(kc=r.screenX-_s.screenX,Pc=r.screenY-_s.screenY):Pc=kc=0,_s=r),kc)},movementY:function(r){return"movementY"in r?r.movementY:Pc}}),Mp=Ut(la),Nw=T({},la,{dataTransfer:0}),kw=Ut(Nw),Pw=T({},xs,{relatedTarget:0}),Ic=Ut(Pw),Iw=T({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rw=Ut(Iw),Mw=T({},oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jw=Ut(Mw),Aw=T({},oi,{data:0}),jp=Ut(Aw),Dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fw(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ow[r])?!!s[r]:!1}function Rc(){return Fw}var Vw=T({},xs,{key:function(r){if(r.key){var s=Dw[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Lw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(r){return r.type==="keypress"?oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bw=Ut(Vw),zw=T({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=Ut(zw),Uw=T({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),Ww=Ut(Uw),Hw=T({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$w=Ut(Hw),Gw=T({},la,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Kw=Ut(Gw),qw=[9,13,27,32],Mc=d&&"CompositionEvent"in window,ws=null;d&&"documentMode"in document&&(ws=document.documentMode);var Yw=d&&"TextEvent"in window&&!ws,Dp=d&&(!Mc||ws&&8<ws&&11>=ws),Lp=" ",Op=!1;function Fp(r,s){switch(r){case"keyup":return qw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ai=!1;function Qw(r,s){switch(r){case"compositionend":return Vp(s);case"keypress":return s.which!==32?null:(Op=!0,Lp);case"textInput":return r=s.data,r===Lp&&Op?null:r;default:return null}}function Xw(r,s){if(ai)return r==="compositionend"||!Mc&&Fp(r,s)?(r=Ip(),sa=Tc=Xn=null,ai=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Dp&&s.locale!=="ko"?null:s.data;default:return null}}var Zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zw[r.type]:s==="textarea"}function zp(r,s,a,u){ap(u),s=fa(s,"onChange"),0<s.length&&(a=new Nc("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var Cs=null,Ss=null;function Jw(r){sm(r,0)}function ca(r){var s=hi(r);if(De(s))return r}function eC(r,s){if(r==="change")return s}var Up=!1;if(d){var jc;if(d){var Ac="oninput"in document;if(!Ac){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Ac=typeof Wp.oninput=="function"}jc=Ac}else jc=!1;Up=jc&&(!document.documentMode||9<document.documentMode)}function Hp(){Cs&&(Cs.detachEvent("onpropertychange",$p),Ss=Cs=null)}function $p(r){if(r.propertyName==="value"&&ca(Ss)){var s=[];zp(s,Ss,r,fc(r)),dp(Jw,s)}}function tC(r,s,a){r==="focusin"?(Hp(),Cs=s,Ss=a,Cs.attachEvent("onpropertychange",$p)):r==="focusout"&&Hp()}function nC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ca(Ss)}function rC(r,s){if(r==="click")return ca(s)}function iC(r,s){if(r==="input"||r==="change")return ca(s)}function sC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var on=typeof Object.is=="function"?Object.is:sC;function Es(r,s){if(on(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!h.call(s,f)||!on(r[f],s[f]))return!1}return!0}function Gp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,s){var a=Gp(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gp(a)}}function qp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?qp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Yp(){for(var r=window,s=Ue();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Ue(r.document)}return s}function Dc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function oC(r){var s=Yp(),a=r.focusedElem,u=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&qp(a.ownerDocument.documentElement,a)){if(u!==null&&Dc(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!r.extend&&g>u&&(f=u,u=g,g=f),f=Kp(a,g);var _=Kp(a,u);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>u?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var aC=d&&"documentMode"in document&&11>=document.documentMode,li=null,Lc=null,bs=null,Oc=!1;function Qp(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oc||li==null||li!==Ue(u)||(u=li,"selectionStart"in u&&Dc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bs&&Es(bs,u)||(bs=u,u=fa(Lc,"onSelect"),0<u.length&&(s=new Nc("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=li)))}function ua(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ci={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},Fc={},Xp={};d&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function da(r){if(Fc[r])return Fc[r];if(!ci[r])return r;var s=ci[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Xp)return Fc[r]=s[a];return r}var Zp=da("animationend"),Jp=da("animationiteration"),em=da("animationstart"),tm=da("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(r,s){nm.set(r,s),l(s,[r])}for(var Vc=0;Vc<rm.length;Vc++){var Bc=rm[Vc],lC=Bc.toLowerCase(),cC=Bc[0].toUpperCase()+Bc.slice(1);Zn(lC,"on"+cC)}Zn(Zp,"onAnimationEnd"),Zn(Jp,"onAnimationIteration"),Zn(em,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(tm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function im(r,s,a){var u=r.type||"unknown-event";r.currentTarget=a,lw(u,s,void 0,r),r.currentTarget=null}function sm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var _=u.length-1;0<=_;_--){var S=u[_],N=S.instance,O=S.currentTarget;if(S=S.listener,N!==g&&f.isPropagationStopped())break e;im(f,S,O),g=N}else for(_=0;_<u.length;_++){if(S=u[_],N=S.instance,O=S.currentTarget,S=S.listener,N!==g&&f.isPropagationStopped())break e;im(f,S,O),g=N}}}if(Yo)throw r=yc,Yo=!1,yc=null,r}function Le(r,s){var a=s[qc];a===void 0&&(a=s[qc]=new Set);var u=r+"__bubble";a.has(u)||(om(s,r,2,!1),a.add(u))}function zc(r,s,a){var u=0;s&&(u|=4),om(a,r,u,s)}var ha="_reactListening"+Math.random().toString(36).slice(2);function Ns(r){if(!r[ha]){r[ha]=!0,i.forEach(function(a){a!=="selectionchange"&&(uC.has(a)||zc(a,!1,r),zc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ha]||(s[ha]=!0,zc("selectionchange",!1,s))}}function om(r,s,a,u){switch(Pp(s)){case 1:var f=Ew;break;case 4:f=bw;break;default:f=Ec}a=f.bind(null,s,a,r),f=void 0,!gc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Uc(r,s,a,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Tr(S),_===null)return;if(N=_.tag,N===5||N===6){u=g=_;continue e}S=S.parentNode}}u=u.return}dp(function(){var O=g,U=fc(a),W=[];e:{var z=nm.get(r);if(z!==void 0){var Z=Nc,ne=r;switch(r){case"keypress":if(oa(a)===0)break e;case"keydown":case"keyup":Z=Bw;break;case"focusin":ne="focus",Z=Ic;break;case"focusout":ne="blur",Z=Ic;break;case"beforeblur":case"afterblur":Z=Ic;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ww;break;case Zp:case Jp:case em:Z=Rw;break;case tm:Z=$w;break;case"scroll":Z=Tw;break;case"wheel":Z=Kw;break;case"copy":case"cut":case"paste":Z=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ap}var re=(s&4)!==0,qe=!re&&r==="scroll",M=re?z!==null?z+"Capture":null:z;re=[];for(var I=O,j;I!==null;){j=I;var H=j.stateNode;if(j.tag===5&&H!==null&&(j=H,M!==null&&(H=cs(I,M),H!=null&&re.push(ks(I,H,j)))),qe)break;I=I.return}0<re.length&&(z=new Z(z,ne,null,a,U),W.push({event:z,listeners:re}))}}if((s&7)===0){e:{if(z=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",z&&a!==hc&&(ne=a.relatedTarget||a.fromElement)&&(Tr(ne)||ne[Nn]))break e;if((Z||z)&&(z=U.window===U?U:(z=U.ownerDocument)?z.defaultView||z.parentWindow:window,Z?(ne=a.relatedTarget||a.toElement,Z=O,ne=ne?Tr(ne):null,ne!==null&&(qe=br(ne),ne!==qe||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=O),Z!==ne)){if(re=Mp,H="onMouseLeave",M="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(re=Ap,H="onPointerLeave",M="onPointerEnter",I="pointer"),qe=Z==null?z:hi(Z),j=ne==null?z:hi(ne),z=new re(H,I+"leave",Z,a,U),z.target=qe,z.relatedTarget=j,H=null,Tr(U)===O&&(re=new re(M,I+"enter",ne,a,U),re.target=j,re.relatedTarget=qe,H=re),qe=H,Z&&ne)t:{for(re=Z,M=ne,I=0,j=re;j;j=ui(j))I++;for(j=0,H=M;H;H=ui(H))j++;for(;0<I-j;)re=ui(re),I--;for(;0<j-I;)M=ui(M),j--;for(;I--;){if(re===M||M!==null&&re===M.alternate)break t;re=ui(re),M=ui(M)}re=null}else re=null;Z!==null&&am(W,z,Z,re,!1),ne!==null&&qe!==null&&am(W,qe,ne,re,!0)}}e:{if(z=O?hi(O):window,Z=z.nodeName&&z.nodeName.toLowerCase(),Z==="select"||Z==="input"&&z.type==="file")var oe=eC;else if(Bp(z))if(Up)oe=iC;else{oe=nC;var le=tC}else(Z=z.nodeName)&&Z.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(oe=rC);if(oe&&(oe=oe(r,O))){zp(W,oe,a,U);break e}le&&le(r,z,O),r==="focusout"&&(le=z._wrapperState)&&le.controlled&&z.type==="number"&&rn(z,"number",z.value)}switch(le=O?hi(O):window,r){case"focusin":(Bp(le)||le.contentEditable==="true")&&(li=le,Lc=O,bs=null);break;case"focusout":bs=Lc=li=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Qp(W,a,U);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":Qp(W,a,U)}var ce;if(Mc)e:{switch(r){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ai?Fp(r,a)&&(fe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(Dp&&a.locale!=="ko"&&(ai||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ai&&(ce=Ip()):(Xn=U,Tc="value"in Xn?Xn.value:Xn.textContent,ai=!0)),le=fa(O,fe),0<le.length&&(fe=new jp(fe,r,null,a,U),W.push({event:fe,listeners:le}),ce?fe.data=ce:(ce=Vp(a),ce!==null&&(fe.data=ce)))),(ce=Yw?Qw(r,a):Xw(r,a))&&(O=fa(O,"onBeforeInput"),0<O.length&&(U=new jp("onBeforeInput","beforeinput",null,a,U),W.push({event:U,listeners:O}),U.data=ce))}sm(W,s)})}function ks(r,s,a){return{instance:r,listener:s,currentTarget:a}}function fa(r,s){for(var a=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=cs(r,a),g!=null&&u.unshift(ks(r,g,f)),g=cs(r,s),g!=null&&u.push(ks(r,g,f))),r=r.return}return u}function ui(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function am(r,s,a,u,f){for(var g=s._reactName,_=[];a!==null&&a!==u;){var S=a,N=S.alternate,O=S.stateNode;if(N!==null&&N===u)break;S.tag===5&&O!==null&&(S=O,f?(N=cs(a,g),N!=null&&_.unshift(ks(a,N,S))):f||(N=cs(a,g),N!=null&&_.push(ks(a,N,S)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var dC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(dC,`
`).replace(hC,"")}function pa(r,s,a){if(s=lm(s),lm(r)!==s&&a)throw Error(n(425))}function ma(){}var Wc=null,Hc=null;function $c(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(r){return cm.resolve(null).then(r).catch(mC)}:Gc;function mC(r){setTimeout(function(){throw r})}function Kc(r,s){var a=s,u=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){r.removeChild(f),vs(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);vs(s)}function Jn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function um(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var di=Math.random().toString(36).slice(2),xn="__reactFiber$"+di,Ps="__reactProps$"+di,Nn="__reactContainer$"+di,qc="__reactEvents$"+di,gC="__reactListeners$"+di,yC="__reactHandles$"+di;function Tr(r){var s=r[xn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Nn]||a[xn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=um(r);r!==null;){if(a=r[xn])return a;r=um(r)}return s}r=a,a=r.parentNode}return null}function Is(r){return r=r[xn]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function hi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ga(r){return r[Ps]||null}var Yc=[],fi=-1;function er(r){return{current:r}}function Oe(r){0>fi||(r.current=Yc[fi],Yc[fi]=null,fi--)}function Ie(r,s){fi++,Yc[fi]=r.current,r.current=s}var tr={},wt=er(tr),Mt=er(!1),Nr=tr;function pi(r,s){var a=r.type.contextTypes;if(!a)return tr;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function jt(r){return r=r.childContextTypes,r!=null}function ya(){Oe(Mt),Oe(wt)}function dm(r,s,a){if(wt.current!==tr)throw Error(n(168));Ie(wt,s),Ie(Mt,a)}function hm(r,s,a){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var f in u)if(!(f in s))throw Error(n(108,Q(r)||"Unknown",f));return T({},a,u)}function va(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||tr,Nr=wt.current,Ie(wt,r),Ie(Mt,Mt.current),!0}function fm(r,s,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=hm(r,s,Nr),u.__reactInternalMemoizedMergedChildContext=r,Oe(Mt),Oe(wt),Ie(wt,r)):Oe(Mt),Ie(Mt,a)}var kn=null,xa=!1,Qc=!1;function pm(r){kn===null?kn=[r]:kn.push(r)}function vC(r){xa=!0,pm(r)}function nr(){if(!Qc&&kn!==null){Qc=!0;var r=0,s=Ne;try{var a=kn;for(Ne=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}kn=null,xa=!1}catch(f){throw kn!==null&&(kn=kn.slice(r+1)),gp(vc,nr),f}finally{Ne=s,Qc=!1}}return null}var mi=[],gi=0,_a=null,wa=0,Kt=[],qt=0,kr=null,Pn=1,In="";function Pr(r,s){mi[gi++]=wa,mi[gi++]=_a,_a=r,wa=s}function mm(r,s,a){Kt[qt++]=Pn,Kt[qt++]=In,Kt[qt++]=kr,kr=r;var u=Pn;r=In;var f=32-sn(u)-1;u&=~(1<<f),a+=1;var g=32-sn(s)+f;if(30<g){var _=f-f%5;g=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Pn=1<<32-sn(s)+f|a<<f|u,In=g+r}else Pn=1<<g|a<<f|u,In=r}function Xc(r){r.return!==null&&(Pr(r,1),mm(r,1,0))}function Zc(r){for(;r===_a;)_a=mi[--gi],mi[gi]=null,wa=mi[--gi],mi[gi]=null;for(;r===kr;)kr=Kt[--qt],Kt[qt]=null,In=Kt[--qt],Kt[qt]=null,Pn=Kt[--qt],Kt[qt]=null}var Wt=null,Ht=null,Fe=!1,an=null;function gm(r,s){var a=Zt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ym(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Wt=r,Ht=Jn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Wt=r,Ht=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=kr!==null?{id:Pn,overflow:In}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Zt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Wt=r,Ht=null,!0):!1;default:return!1}}function Jc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function eu(r){if(Fe){var s=Ht;if(s){var a=s;if(!ym(r,s)){if(Jc(r))throw Error(n(418));s=Jn(a.nextSibling);var u=Wt;s&&ym(r,s)?gm(u,a):(r.flags=r.flags&-4097|2,Fe=!1,Wt=r)}}else{if(Jc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,Wt=r}}}function vm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wt=r}function Ca(r){if(r!==Wt)return!1;if(!Fe)return vm(r),Fe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!$c(r.type,r.memoizedProps)),s&&(s=Ht)){if(Jc(r))throw xm(),Error(n(418));for(;s;)gm(r,s),s=Jn(s.nextSibling)}if(vm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Ht=Jn(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Ht=null}}else Ht=Wt?Jn(r.stateNode.nextSibling):null;return!0}function xm(){for(var r=Ht;r;)r=Jn(r.nextSibling)}function yi(){Ht=Wt=null,Fe=!1}function tu(r){an===null?an=[r]:an.push(r)}var xC=L.ReactCurrentBatchConfig;function Rs(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var f=u,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var S=f.refs;_===null?delete S[g]:S[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Sa(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _m(r){var s=r._init;return s(r._payload)}function wm(r){function s(M,I){if(r){var j=M.deletions;j===null?(M.deletions=[I],M.flags|=16):j.push(I)}}function a(M,I){if(!r)return null;for(;I!==null;)s(M,I),I=I.sibling;return null}function u(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function f(M,I){return M=ur(M,I),M.index=0,M.sibling=null,M}function g(M,I,j){return M.index=j,r?(j=M.alternate,j!==null?(j=j.index,j<I?(M.flags|=2,I):j):(M.flags|=2,I)):(M.flags|=1048576,I)}function _(M){return r&&M.alternate===null&&(M.flags|=2),M}function S(M,I,j,H){return I===null||I.tag!==6?(I=Gu(j,M.mode,H),I.return=M,I):(I=f(I,j),I.return=M,I)}function N(M,I,j,H){var oe=j.type;return oe===ie?U(M,I,j.props.children,H,j.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===nt&&_m(oe)===I.type)?(H=f(I,j.props),H.ref=Rs(M,I,j),H.return=M,H):(H=Ka(j.type,j.key,j.props,null,M.mode,H),H.ref=Rs(M,I,j),H.return=M,H)}function O(M,I,j,H){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Ku(j,M.mode,H),I.return=M,I):(I=f(I,j.children||[]),I.return=M,I)}function U(M,I,j,H,oe){return I===null||I.tag!==7?(I=Or(j,M.mode,H,oe),I.return=M,I):(I=f(I,j),I.return=M,I)}function W(M,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Gu(""+I,M.mode,j),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case B:return j=Ka(I.type,I.key,I.props,null,M.mode,j),j.ref=Rs(M,null,I),j.return=M,j;case Y:return I=Ku(I,M.mode,j),I.return=M,I;case nt:var H=I._init;return W(M,H(I._payload),j)}if(_t(I)||ae(I))return I=Or(I,M.mode,j,null),I.return=M,I;Sa(M,I)}return null}function z(M,I,j,H){var oe=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return oe!==null?null:S(M,I,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return j.key===oe?N(M,I,j,H):null;case Y:return j.key===oe?O(M,I,j,H):null;case nt:return oe=j._init,z(M,I,oe(j._payload),H)}if(_t(j)||ae(j))return oe!==null?null:U(M,I,j,H,null);Sa(M,j)}return null}function Z(M,I,j,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number")return M=M.get(j)||null,S(I,M,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return M=M.get(H.key===null?j:H.key)||null,N(I,M,H,oe);case Y:return M=M.get(H.key===null?j:H.key)||null,O(I,M,H,oe);case nt:var le=H._init;return Z(M,I,j,le(H._payload),oe)}if(_t(H)||ae(H))return M=M.get(j)||null,U(I,M,H,oe,null);Sa(I,H)}return null}function ne(M,I,j,H){for(var oe=null,le=null,ce=I,fe=I=0,st=null;ce!==null&&fe<j.length;fe++){ce.index>fe?(st=ce,ce=null):st=ce.sibling;var Se=z(M,ce,j[fe],H);if(Se===null){ce===null&&(ce=st);break}r&&ce&&Se.alternate===null&&s(M,ce),I=g(Se,I,fe),le===null?oe=Se:le.sibling=Se,le=Se,ce=st}if(fe===j.length)return a(M,ce),Fe&&Pr(M,fe),oe;if(ce===null){for(;fe<j.length;fe++)ce=W(M,j[fe],H),ce!==null&&(I=g(ce,I,fe),le===null?oe=ce:le.sibling=ce,le=ce);return Fe&&Pr(M,fe),oe}for(ce=u(M,ce);fe<j.length;fe++)st=Z(ce,M,fe,j[fe],H),st!==null&&(r&&st.alternate!==null&&ce.delete(st.key===null?fe:st.key),I=g(st,I,fe),le===null?oe=st:le.sibling=st,le=st);return r&&ce.forEach(function(dr){return s(M,dr)}),Fe&&Pr(M,fe),oe}function re(M,I,j,H){var oe=ae(j);if(typeof oe!="function")throw Error(n(150));if(j=oe.call(j),j==null)throw Error(n(151));for(var le=oe=null,ce=I,fe=I=0,st=null,Se=j.next();ce!==null&&!Se.done;fe++,Se=j.next()){ce.index>fe?(st=ce,ce=null):st=ce.sibling;var dr=z(M,ce,Se.value,H);if(dr===null){ce===null&&(ce=st);break}r&&ce&&dr.alternate===null&&s(M,ce),I=g(dr,I,fe),le===null?oe=dr:le.sibling=dr,le=dr,ce=st}if(Se.done)return a(M,ce),Fe&&Pr(M,fe),oe;if(ce===null){for(;!Se.done;fe++,Se=j.next())Se=W(M,Se.value,H),Se!==null&&(I=g(Se,I,fe),le===null?oe=Se:le.sibling=Se,le=Se);return Fe&&Pr(M,fe),oe}for(ce=u(M,ce);!Se.done;fe++,Se=j.next())Se=Z(ce,M,fe,Se.value,H),Se!==null&&(r&&Se.alternate!==null&&ce.delete(Se.key===null?fe:Se.key),I=g(Se,I,fe),le===null?oe=Se:le.sibling=Se,le=Se);return r&&ce.forEach(function(ZC){return s(M,ZC)}),Fe&&Pr(M,fe),oe}function qe(M,I,j,H){if(typeof j=="object"&&j!==null&&j.type===ie&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case B:e:{for(var oe=j.key,le=I;le!==null;){if(le.key===oe){if(oe=j.type,oe===ie){if(le.tag===7){a(M,le.sibling),I=f(le,j.props.children),I.return=M,M=I;break e}}else if(le.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===nt&&_m(oe)===le.type){a(M,le.sibling),I=f(le,j.props),I.ref=Rs(M,le,j),I.return=M,M=I;break e}a(M,le);break}else s(M,le);le=le.sibling}j.type===ie?(I=Or(j.props.children,M.mode,H,j.key),I.return=M,M=I):(H=Ka(j.type,j.key,j.props,null,M.mode,H),H.ref=Rs(M,I,j),H.return=M,M=H)}return _(M);case Y:e:{for(le=j.key;I!==null;){if(I.key===le)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){a(M,I.sibling),I=f(I,j.children||[]),I.return=M,M=I;break e}else{a(M,I);break}else s(M,I);I=I.sibling}I=Ku(j,M.mode,H),I.return=M,M=I}return _(M);case nt:return le=j._init,qe(M,I,le(j._payload),H)}if(_t(j))return ne(M,I,j,H);if(ae(j))return re(M,I,j,H);Sa(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,I!==null&&I.tag===6?(a(M,I.sibling),I=f(I,j),I.return=M,M=I):(a(M,I),I=Gu(j,M.mode,H),I.return=M,M=I),_(M)):a(M,I)}return qe}var vi=wm(!0),Cm=wm(!1),Ea=er(null),ba=null,xi=null,nu=null;function ru(){nu=xi=ba=null}function iu(r){var s=Ea.current;Oe(Ea),r._currentValue=s}function su(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function _i(r,s){ba=r,nu=xi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(At=!0),r.firstContext=null)}function Yt(r){var s=r._currentValue;if(nu!==r)if(r={context:r,memoizedValue:s,next:null},xi===null){if(ba===null)throw Error(n(308));xi=r,ba.dependencies={lanes:0,firstContext:r}}else xi=xi.next=r;return s}var Ir=null;function ou(r){Ir===null?Ir=[r]:Ir.push(r)}function Sm(r,s,a,u){var f=s.interleaved;return f===null?(a.next=a,ou(s)):(a.next=f.next,f.next=a),s.interleaved=a,Rn(r,u)}function Rn(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var rr=!1;function au(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ir(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ce&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,Rn(r,a)}return f=u.interleaved,f===null?(s.next=s,ou(u)):(s.next=f.next,f.next=s),u.interleaved=s,Rn(r,a)}function Ta(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,wc(r,a)}}function bm(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Na(r,s,a,u){var f=r.updateQueue;rr=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,O=N.next;N.next=null,_===null?g=O:_.next=O,_=N;var U=r.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==_&&(S===null?U.firstBaseUpdate=O:S.next=O,U.lastBaseUpdate=N))}if(g!==null){var W=f.baseState;_=0,U=O=N=null,S=g;do{var z=S.lane,Z=S.eventTime;if((u&z)===z){U!==null&&(U=U.next={eventTime:Z,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ne=r,re=S;switch(z=s,Z=a,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){W=ne.call(Z,W,z);break e}W=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,z=typeof ne=="function"?ne.call(Z,W,z):ne,z==null)break e;W=T({},W,z);break e;case 2:rr=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,z=f.effects,z===null?f.effects=[S]:z.push(S))}else Z={eventTime:Z,lane:z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(O=U=Z,N=W):U=U.next=Z,_|=z;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;z=S,S=z.next,z.next=null,f.lastBaseUpdate=z,f.shared.pending=null}}while(!0);if(U===null&&(N=W),f.baseState=N,f.firstBaseUpdate=O,f.lastBaseUpdate=U,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);jr|=_,r.lanes=_,r.memoizedState=W}}function Tm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],f=u.callback;if(f!==null){if(u.callback=null,u=a,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Ms={},_n=er(Ms),js=er(Ms),As=er(Ms);function Rr(r){if(r===Ms)throw Error(n(174));return r}function lu(r,s){switch(Ie(As,s),Ie(js,r),Ie(_n,Ms),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:as(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=as(s,r)}Oe(_n),Ie(_n,s)}function wi(){Oe(_n),Oe(js),Oe(As)}function Nm(r){Rr(As.current);var s=Rr(_n.current),a=as(s,r.type);s!==a&&(Ie(js,r),Ie(_n,a))}function cu(r){js.current===r&&(Oe(_n),Oe(js))}var Ve=er(0);function ka(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var uu=[];function du(){for(var r=0;r<uu.length;r++)uu[r]._workInProgressVersionPrimary=null;uu.length=0}var Pa=L.ReactCurrentDispatcher,hu=L.ReactCurrentBatchConfig,Mr=0,Be=null,Ze=null,rt=null,Ia=!1,Ds=!1,Ls=0,_C=0;function Ct(){throw Error(n(321))}function fu(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!on(r[a],s[a]))return!1;return!0}function pu(r,s,a,u,f,g){if(Mr=g,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pa.current=r===null||r.memoizedState===null?EC:bC,r=a(u,f),Ds){g=0;do{if(Ds=!1,Ls=0,25<=g)throw Error(n(301));g+=1,rt=Ze=null,s.updateQueue=null,Pa.current=TC,r=a(u,f)}while(Ds)}if(Pa.current=ja,s=Ze!==null&&Ze.next!==null,Mr=0,rt=Ze=Be=null,Ia=!1,s)throw Error(n(300));return r}function mu(){var r=Ls!==0;return Ls=0,r}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Be.memoizedState=rt=r:rt=rt.next=r,rt}function Qt(){if(Ze===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var s=rt===null?Be.memoizedState:rt.next;if(s!==null)rt=s,Ze=r;else{if(r===null)throw Error(n(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Be.memoizedState=rt=r:rt=rt.next=r}return rt}function Os(r,s){return typeof s=="function"?s(r):s}function gu(r){var s=Qt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=Ze,f=u.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}u.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,u=u.baseState;var S=_=null,N=null,O=g;do{var U=O.lane;if((Mr&U)===U)N!==null&&(N=N.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:r(u,O.action);else{var W={lane:U,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};N===null?(S=N=W,_=u):N=N.next=W,Be.lanes|=U,jr|=U}O=O.next}while(O!==null&&O!==g);N===null?_=u:N.next=S,on(u,s.memoizedState)||(At=!0),s.memoizedState=u,s.baseState=_,s.baseQueue=N,a.lastRenderedState=u}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Be.lanes|=g,jr|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function yu(r){var s=Qt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);on(g,s.memoizedState)||(At=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,u]}function km(){}function Pm(r,s){var a=Be,u=Qt(),f=s(),g=!on(u.memoizedState,f);if(g&&(u.memoizedState=f,At=!0),u=u.queue,vu(Mm.bind(null,a,u,r),[r]),u.getSnapshot!==s||g||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,Fs(9,Rm.bind(null,a,u,f,s),void 0,null),it===null)throw Error(n(349));(Mr&30)!==0||Im(a,s,f)}return f}function Im(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Rm(r,s,a,u){s.value=a,s.getSnapshot=u,jm(s)&&Am(r)}function Mm(r,s,a){return a(function(){jm(s)&&Am(r)})}function jm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!on(r,a)}catch{return!0}}function Am(r){var s=Rn(r,1);s!==null&&dn(s,r,1,-1)}function Dm(r){var s=wn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},s.queue=r,r=r.dispatch=SC.bind(null,Be,r),[s.memoizedState,r]}function Fs(r,s,a,u){return r={tag:r,create:s,destroy:a,deps:u,next:null},s=Be.updateQueue,s===null?(s={lastEffect:null,stores:null},Be.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r)),r}function Lm(){return Qt().memoizedState}function Ra(r,s,a,u){var f=wn();Be.flags|=r,f.memoizedState=Fs(1|s,a,void 0,u===void 0?null:u)}function Ma(r,s,a,u){var f=Qt();u=u===void 0?null:u;var g=void 0;if(Ze!==null){var _=Ze.memoizedState;if(g=_.destroy,u!==null&&fu(u,_.deps)){f.memoizedState=Fs(s,a,g,u);return}}Be.flags|=r,f.memoizedState=Fs(1|s,a,g,u)}function Om(r,s){return Ra(8390656,8,r,s)}function vu(r,s){return Ma(2048,8,r,s)}function Fm(r,s){return Ma(4,2,r,s)}function Vm(r,s){return Ma(4,4,r,s)}function Bm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zm(r,s,a){return a=a!=null?a.concat([r]):null,Ma(4,4,Bm.bind(null,s,r),a)}function xu(){}function Um(r,s){var a=Qt();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&fu(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function Wm(r,s){var a=Qt();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&fu(s,u[1])?u[0]:(r=r(),a.memoizedState=[r,s],r)}function Hm(r,s,a){return(Mr&21)===0?(r.baseState&&(r.baseState=!1,At=!0),r.memoizedState=a):(on(a,s)||(a=_p(),Be.lanes|=a,jr|=a,r.baseState=!0),s)}function wC(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var u=hu.transition;hu.transition={};try{r(!1),s()}finally{Ne=a,hu.transition=u}}function $m(){return Qt().memoizedState}function CC(r,s,a){var u=lr(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Gm(r))Km(s,a);else if(a=Sm(r,s,a,u),a!==null){var f=kt();dn(a,r,u,f),qm(a,s,u)}}function SC(r,s,a){var u=lr(r),f={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gm(r))Km(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,S=g(_,a);if(f.hasEagerState=!0,f.eagerState=S,on(S,_)){var N=s.interleaved;N===null?(f.next=f,ou(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=Sm(r,s,f,u),a!==null&&(f=kt(),dn(a,r,u,f),qm(a,s,u))}}function Gm(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function Km(r,s){Ds=Ia=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function qm(r,s,a){if((a&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,wc(r,a)}}var ja={readContext:Yt,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},EC={readContext:Yt,useCallback:function(r,s){return wn().memoizedState=[r,s===void 0?null:s],r},useContext:Yt,useEffect:Om,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ra(4194308,4,Bm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ra(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ra(4,2,r,s)},useMemo:function(r,s){var a=wn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var u=wn();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=CC.bind(null,Be,r),[u.memoizedState,r]},useRef:function(r){var s=wn();return r={current:r},s.memoizedState=r},useState:Dm,useDebugValue:xu,useDeferredValue:function(r){return wn().memoizedState=r},useTransition:function(){var r=Dm(!1),s=r[0];return r=wC.bind(null,r[1]),wn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var u=Be,f=wn();if(Fe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),it===null)throw Error(n(349));(Mr&30)!==0||Im(u,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Om(Mm.bind(null,u,g,r),[r]),u.flags|=2048,Fs(9,Rm.bind(null,u,g,a,s),void 0,null),a},useId:function(){var r=wn(),s=it.identifierPrefix;if(Fe){var a=In,u=Pn;a=(u&~(1<<32-sn(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ls++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=_C++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},bC={readContext:Yt,useCallback:Um,useContext:Yt,useEffect:vu,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Vm,useMemo:Wm,useReducer:gu,useRef:Lm,useState:function(){return gu(Os)},useDebugValue:xu,useDeferredValue:function(r){var s=Qt();return Hm(s,Ze.memoizedState,r)},useTransition:function(){var r=gu(Os)[0],s=Qt().memoizedState;return[r,s]},useMutableSource:km,useSyncExternalStore:Pm,useId:$m,unstable_isNewReconciler:!1},TC={readContext:Yt,useCallback:Um,useContext:Yt,useEffect:vu,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Vm,useMemo:Wm,useReducer:yu,useRef:Lm,useState:function(){return yu(Os)},useDebugValue:xu,useDeferredValue:function(r){var s=Qt();return Ze===null?s.memoizedState=r:Hm(s,Ze.memoizedState,r)},useTransition:function(){var r=yu(Os)[0],s=Qt().memoizedState;return[r,s]},useMutableSource:km,useSyncExternalStore:Pm,useId:$m,unstable_isNewReconciler:!1};function ln(r,s){if(r&&r.defaultProps){s=T({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function _u(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:T({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Aa={isMounted:function(r){return(r=r._reactInternals)?br(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var u=kt(),f=lr(r),g=Mn(u,f);g.payload=s,a!=null&&(g.callback=a),s=ir(r,g,f),s!==null&&(dn(s,r,f,u),Ta(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=kt(),f=lr(r),g=Mn(u,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ir(r,g,f),s!==null&&(dn(s,r,f,u),Ta(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=kt(),u=lr(r),f=Mn(a,u);f.tag=2,s!=null&&(f.callback=s),s=ir(r,f,u),s!==null&&(dn(s,r,u,a),Ta(s,r,u))}};function Ym(r,s,a,u,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,_):s.prototype&&s.prototype.isPureReactComponent?!Es(a,u)||!Es(f,g):!0}function Qm(r,s,a){var u=!1,f=tr,g=s.contextType;return typeof g=="object"&&g!==null?g=Yt(g):(f=jt(s)?Nr:wt.current,u=s.contextTypes,g=(u=u!=null)?pi(r,f):tr),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Aa,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Xm(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&Aa.enqueueReplaceState(s,s.state,null)}function wu(r,s,a,u){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},au(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Yt(g):(g=jt(s)?Nr:wt.current,f.context=pi(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_u(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Aa.enqueueReplaceState(f,f.state,null),Na(r,a,f,u),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ci(r,s){try{var a="",u=s;do a+=X(u),u=u.return;while(u);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Cu(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Su(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var NC=typeof WeakMap=="function"?WeakMap:Map;function Zm(r,s,a){a=Mn(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){za||(za=!0,Fu=u),Su(r,s)},a}function Jm(r,s,a){a=Mn(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=s.value;a.payload=function(){return u(f)},a.callback=function(){Su(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Su(r,s),typeof u!="function"&&(or===null?or=new Set([this]):or.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function eg(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new NC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||(f.add(a),r=zC.bind(null,r,s,a),s.then(r,r))}function tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ng(r,s,a,u,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Mn(-1,1),s.tag=2,ir(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var kC=L.ReactCurrentOwner,At=!1;function Nt(r,s,a,u){s.child=r===null?Cm(s,null,a,u):vi(s,r.child,a,u)}function rg(r,s,a,u,f){a=a.render;var g=s.ref;return _i(s,f),u=pu(r,s,a,u,g,f),a=mu(),r!==null&&!At?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,jn(r,s,f)):(Fe&&a&&Xc(s),s.flags|=1,Nt(r,s,u,f),s.child)}function ig(r,s,a,u,f){if(r===null){var g=a.type;return typeof g=="function"&&!$u(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,sg(r,s,g,u,f)):(r=Ka(a.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:Es,a(_,u)&&r.ref===s.ref)return jn(r,s,f)}return s.flags|=1,r=ur(g,u),r.ref=s.ref,r.return=s,s.child=r}function sg(r,s,a,u,f){if(r!==null){var g=r.memoizedProps;if(Es(g,u)&&r.ref===s.ref)if(At=!1,s.pendingProps=u=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(At=!0);else return s.lanes=r.lanes,jn(r,s,f)}return Eu(r,s,a,u,f)}function og(r,s,a){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ei,$t),$t|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ie(Ei,$t),$t|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:a,Ie(Ei,$t),$t|=u}else g!==null?(u=g.baseLanes|a,s.memoizedState=null):u=a,Ie(Ei,$t),$t|=u;return Nt(r,s,f,a),s.child}function ag(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Eu(r,s,a,u,f){var g=jt(a)?Nr:wt.current;return g=pi(s,g),_i(s,f),a=pu(r,s,a,u,g,f),u=mu(),r!==null&&!At?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,jn(r,s,f)):(Fe&&u&&Xc(s),s.flags|=1,Nt(r,s,a,f),s.child)}function lg(r,s,a,u,f){if(jt(a)){var g=!0;va(s)}else g=!1;if(_i(s,f),s.stateNode===null)La(r,s),Qm(s,a,u),wu(s,a,u,f),u=!0;else if(r===null){var _=s.stateNode,S=s.memoizedProps;_.props=S;var N=_.context,O=a.contextType;typeof O=="object"&&O!==null?O=Yt(O):(O=jt(a)?Nr:wt.current,O=pi(s,O));var U=a.getDerivedStateFromProps,W=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||N!==O)&&Xm(s,_,u,O),rr=!1;var z=s.memoizedState;_.state=z,Na(s,u,_,f),N=s.memoizedState,S!==u||z!==N||Mt.current||rr?(typeof U=="function"&&(_u(s,a,U,u),N=s.memoizedState),(S=rr||Ym(s,a,S,u,z,N,O))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=N),_.props=u,_.state=N,_.context=O,u=S):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,Em(r,s),S=s.memoizedProps,O=s.type===s.elementType?S:ln(s.type,S),_.props=O,W=s.pendingProps,z=_.context,N=a.contextType,typeof N=="object"&&N!==null?N=Yt(N):(N=jt(a)?Nr:wt.current,N=pi(s,N));var Z=a.getDerivedStateFromProps;(U=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==W||z!==N)&&Xm(s,_,u,N),rr=!1,z=s.memoizedState,_.state=z,Na(s,u,_,f);var ne=s.memoizedState;S!==W||z!==ne||Mt.current||rr?(typeof Z=="function"&&(_u(s,a,Z,u),ne=s.memoizedState),(O=rr||Ym(s,a,O,u,z,ne,N)||!1)?(U||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ne,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ne,N)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===r.memoizedProps&&z===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ne),_.props=u,_.state=ne,_.context=N,u=O):(typeof _.componentDidUpdate!="function"||S===r.memoizedProps&&z===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&z===r.memoizedState||(s.flags|=1024),u=!1)}return bu(r,s,a,u,g,f)}function bu(r,s,a,u,f,g){ag(r,s);var _=(s.flags&128)!==0;if(!u&&!_)return f&&fm(s,a,!1),jn(r,s,g);u=s.stateNode,kC.current=s;var S=_&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&_?(s.child=vi(s,r.child,null,g),s.child=vi(s,null,S,g)):Nt(r,s,S,g),s.memoizedState=u.state,f&&fm(s,a,!0),s.child}function cg(r){var s=r.stateNode;s.pendingContext?dm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&dm(r,s.context,!1),lu(r,s.containerInfo)}function ug(r,s,a,u,f){return yi(),tu(f),s.flags|=256,Nt(r,s,a,u),s.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Nu(r){return{baseLanes:r,cachePool:null,transitions:null}}function dg(r,s,a){var u=s.pendingProps,f=Ve.current,g=!1,_=(s.flags&128)!==0,S;if((S=_)||(S=r!==null&&r.memoizedState===null?!1:(f&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ie(Ve,f&1),r===null)return eu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=u.children,r=u.fallback,g?(u=s.mode,g=s.child,_={mode:"hidden",children:_},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=qa(_,u,0,null),r=Or(r,u,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Nu(a),s.memoizedState=Tu,r):ku(s,_));if(f=r.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return PC(r,s,_,u,S,f,a);if(g){g=u.fallback,_=s.mode,f=r.child,S=f.sibling;var N={mode:"hidden",children:u.children};return(_&1)===0&&s.child!==f?(u=s.child,u.childLanes=0,u.pendingProps=N,s.deletions=null):(u=ur(f,N),u.subtreeFlags=f.subtreeFlags&14680064),S!==null?g=ur(S,g):(g=Or(g,_,a,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,_=r.child.memoizedState,_=_===null?Nu(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,s.memoizedState=Tu,u}return g=r.child,r=g.sibling,u=ur(g,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=u,s.memoizedState=null,u}function ku(r,s){return s=qa({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Da(r,s,a,u){return u!==null&&tu(u),vi(s,r.child,null,a),r=ku(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function PC(r,s,a,u,f,g,_){if(a)return s.flags&256?(s.flags&=-257,u=Cu(Error(n(422))),Da(r,s,_,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=u.fallback,f=s.mode,u=qa({mode:"visible",children:u.children},f,0,null),g=Or(g,f,_,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,(s.mode&1)!==0&&vi(s,r.child,null,_),s.child.memoizedState=Nu(_),s.memoizedState=Tu,g);if((s.mode&1)===0)return Da(r,s,_,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var S=u.dgst;return u=S,g=Error(n(419)),u=Cu(g,u,void 0),Da(r,s,_,u)}if(S=(_&r.childLanes)!==0,At||S){if(u=it,u!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Rn(r,f),dn(u,r,f,-1))}return Hu(),u=Cu(Error(n(421))),Da(r,s,_,u)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=UC.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Ht=Jn(f.nextSibling),Wt=s,Fe=!0,an=null,r!==null&&(Kt[qt++]=Pn,Kt[qt++]=In,Kt[qt++]=kr,Pn=r.id,In=r.overflow,kr=s),s=ku(s,u.children),s.flags|=4096,s)}function hg(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),su(r.return,s,a)}function Pu(r,s,a,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function fg(r,s,a){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Nt(r,s,u.children,a),u=Ve.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hg(r,a,s);else if(r.tag===19)hg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Ie(Ve,u),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&ka(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Pu(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ka(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Pu(s,!0,a,null,g);break;case"together":Pu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function La(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function jn(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),jr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=ur(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ur(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function IC(r,s,a){switch(s.tag){case 3:cg(s),yi();break;case 5:Nm(s);break;case 1:jt(s.type)&&va(s);break;case 4:lu(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,f=s.memoizedProps.value;Ie(Ea,u._currentValue),u._currentValue=f;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ie(Ve,Ve.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?dg(r,s,a):(Ie(Ve,Ve.current&1),r=jn(r,s,a),r!==null?r.sibling:null);Ie(Ve,Ve.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(r.flags&128)!==0){if(u)return fg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ie(Ve,Ve.current),u)break;return null;case 22:case 23:return s.lanes=0,og(r,s,a)}return jn(r,s,a)}var pg,Iu,mg,gg;pg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Iu=function(){},mg=function(r,s,a,u){var f=r.memoizedProps;if(f!==u){r=s.stateNode,Rr(_n.current);var g=null;switch(a){case"input":f=xe(r,f),u=xe(r,u),g=[];break;case"select":f=T({},f,{value:void 0}),u=T({},u,{value:void 0}),g=[];break;case"textarea":f=is(r,f),u=is(r,u),g=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=ma)}uc(a,u);var _;a=null;for(O in f)if(!u.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var S=f[O];for(_ in S)S.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?g||(g=[]):(g=g||[]).push(O,null));for(O in u){var N=u[O];if(S=f!=null?f[O]:void 0,u.hasOwnProperty(O)&&N!==S&&(N!=null||S!=null))if(O==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in N)N.hasOwnProperty(_)&&S[_]!==N[_]&&(a||(a={}),a[_]=N[_])}else a||(g||(g=[]),g.push(O,a)),a=N;else O==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,S=S?S.__html:void 0,N!=null&&S!==N&&(g=g||[]).push(O,N)):O==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(O,""+N):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(N!=null&&O==="onScroll"&&Le("scroll",r),g||S===N||(g=[])):(g=g||[]).push(O,N))}a&&(g=g||[]).push("style",a);var O=g;(s.updateQueue=O)&&(s.flags|=4)}},gg=function(r,s,a,u){a!==u&&(s.flags|=4)};function Vs(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function RC(r,s,a){var u=s.pendingProps;switch(Zc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return jt(s.type)&&ya(),St(s),null;case 3:return u=s.stateNode,wi(),Oe(Mt),Oe(wt),du(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Ca(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,an!==null&&(zu(an),an=null))),Iu(r,s),St(s),null;case 5:cu(s);var f=Rr(As.current);if(a=s.type,r!==null&&s.stateNode!=null)mg(r,s,a,u,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return St(s),null}if(r=Rr(_n.current),Ca(s)){u=s.stateNode,a=s.type;var g=s.memoizedProps;switch(u[xn]=s,u[Ps]=g,r=(s.mode&1)!==0,a){case"dialog":Le("cancel",u),Le("close",u);break;case"iframe":case"object":case"embed":Le("load",u);break;case"video":case"audio":for(f=0;f<Ts.length;f++)Le(Ts[f],u);break;case"source":Le("error",u);break;case"img":case"image":case"link":Le("error",u),Le("load",u);break;case"details":Le("toggle",u);break;case"input":pt(u,g),Le("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Le("invalid",u);break;case"textarea":$o(u,g),Le("invalid",u)}uc(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var S=g[_];_==="children"?typeof S=="string"?u.textContent!==S&&(g.suppressHydrationWarning!==!0&&pa(u.textContent,S,r),f=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&pa(u.textContent,S,r),f=["children",""+S]):o.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&Le("scroll",u)}switch(a){case"input":be(u),Gt(u,g,!0);break;case"textarea":be(u),Go(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=ma)}u=f,s.updateQueue=u,u!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=os(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=_.createElement(a,{is:u.is}):(r=_.createElement(a),a==="select"&&(_=r,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):r=_.createElementNS(r,a),r[xn]=s,r[Ps]=u,pg(r,s,!1,!1),s.stateNode=r;e:{switch(_=dc(a,u),a){case"dialog":Le("cancel",r),Le("close",r),f=u;break;case"iframe":case"object":case"embed":Le("load",r),f=u;break;case"video":case"audio":for(f=0;f<Ts.length;f++)Le(Ts[f],r);f=u;break;case"source":Le("error",r),f=u;break;case"img":case"image":case"link":Le("error",r),Le("load",r),f=u;break;case"details":Le("toggle",r),f=u;break;case"input":pt(r,u),f=xe(r,u),Le("invalid",r);break;case"option":f=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},f=T({},u,{value:void 0}),Le("invalid",r);break;case"textarea":$o(r,u),f=is(r,u),Le("invalid",r);break;default:f=u}uc(a,f),S=f;for(g in S)if(S.hasOwnProperty(g)){var N=S[g];g==="style"?sp(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&ls(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Gn(r,N):typeof N=="number"&&Gn(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Le("scroll",r):N!=null&&F(r,g,N,_))}switch(a){case"input":be(r),Gt(r,u,!1);break;case"textarea":be(r),Go(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ee(u.value));break;case"select":r.multiple=!!u.multiple,g=u.value,g!=null?$n(r,!!u.multiple,g,!1):u.defaultValue!=null&&$n(r,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ma)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return St(s),null;case 6:if(r&&s.stateNode!=null)gg(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=Rr(As.current),Rr(_n.current),Ca(s)){if(u=s.stateNode,a=s.memoizedProps,u[xn]=s,(g=u.nodeValue!==a)&&(r=Wt,r!==null))switch(r.tag){case 3:pa(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pa(u.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[xn]=s,s.stateNode=u}return St(s),null;case 13:if(Oe(Ve),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Ht!==null&&(s.mode&1)!==0&&(s.flags&128)===0)xm(),yi(),s.flags|=98560,g=!1;else if(g=Ca(s),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[xn]=s}else yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),g=!1}else an!==null&&(zu(an),an=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ve.current&1)!==0?Je===0&&(Je=3):Hu())),s.updateQueue!==null&&(s.flags|=4),St(s),null);case 4:return wi(),Iu(r,s),r===null&&Ns(s.stateNode.containerInfo),St(s),null;case 10:return iu(s.type._context),St(s),null;case 17:return jt(s.type)&&ya(),St(s),null;case 19:if(Oe(Ve),g=s.memoizedState,g===null)return St(s),null;if(u=(s.flags&128)!==0,_=g.rendering,_===null)if(u)Vs(g,!1);else{if(Je!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=ka(r),_!==null){for(s.flags|=128,Vs(g,!1),u=_.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)g=a,r=u,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ie(Ve,Ve.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ke()>bi&&(s.flags|=128,u=!0,Vs(g,!1),s.lanes=4194304)}else{if(!u)if(r=ka(_),r!==null){if(s.flags|=128,u=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Vs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Fe)return St(s),null}else 2*Ke()-g.renderingStartTime>bi&&a!==1073741824&&(s.flags|=128,u=!0,Vs(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ke(),s.sibling=null,a=Ve.current,Ie(Ve,u?a&1|2:a&1),s):(St(s),null);case 22:case 23:return Wu(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?($t&1073741824)!==0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function MC(r,s){switch(Zc(s),s.tag){case 1:return jt(s.type)&&ya(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(),Oe(Mt),Oe(wt),du(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return cu(s),null;case 13:if(Oe(Ve),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));yi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Oe(Ve),null;case 4:return wi(),null;case 10:return iu(s.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Oa=!1,Et=!1,jC=typeof WeakSet=="function"?WeakSet:Set,te=null;function Si(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){We(r,s,u)}else a.current=null}function Ru(r,s,a){try{a()}catch(u){We(r,s,u)}}var yg=!1;function AC(r,s){if(Wc=ra,r=Yp(),Dc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,O=0,U=0,W=r,z=null;t:for(;;){for(var Z;W!==a||f!==0&&W.nodeType!==3||(S=_+f),W!==g||u!==0&&W.nodeType!==3||(N=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Z=W.firstChild)!==null;)z=W,W=Z;for(;;){if(W===r)break t;if(z===a&&++O===f&&(S=_),z===g&&++U===u&&(N=_),(Z=W.nextSibling)!==null)break;W=z,z=W.parentNode}W=Z}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hc={focusedElem:r,selectionRange:a},ra=!1,te=s;te!==null;)if(s=te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,te=r;else for(;te!==null;){s=te;try{var ne=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,qe=ne.memoizedState,M=s.stateNode,I=M.getSnapshotBeforeUpdate(s.elementType===s.type?re:ln(s.type,re),qe);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(H){We(s,s.return,H)}if(r=s.sibling,r!==null){r.return=s.return,te=r;break}te=s.return}return ne=yg,yg=!1,ne}function Bs(r,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Ru(s,a,g)}f=f.next}while(f!==u)}}function Fa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function Mu(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function vg(r){var s=r.alternate;s!==null&&(r.alternate=null,vg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[xn],delete s[Ps],delete s[qc],delete s[gC],delete s[yC])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xg(r){return r.tag===5||r.tag===3||r.tag===4}function _g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ju(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ma));else if(u!==4&&(r=r.child,r!==null))for(ju(r,s,a),r=r.sibling;r!==null;)ju(r,s,a),r=r.sibling}function Au(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Au(r,s,a),r=r.sibling;r!==null;)Au(r,s,a),r=r.sibling}var mt=null,cn=!1;function sr(r,s,a){for(a=a.child;a!==null;)wg(r,s,a),a=a.sibling}function wg(r,s,a){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Xo,a)}catch{}switch(a.tag){case 5:Et||Si(a,s);case 6:var u=mt,f=cn;mt=null,sr(r,s,a),mt=u,cn=f,mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):mt.removeChild(a.stateNode));break;case 18:mt!==null&&(cn?(r=mt,a=a.stateNode,r.nodeType===8?Kc(r.parentNode,a):r.nodeType===1&&Kc(r,a),vs(r)):Kc(mt,a.stateNode));break;case 4:u=mt,f=cn,mt=a.stateNode.containerInfo,cn=!0,sr(r,s,a),mt=u,cn=f;break;case 0:case 11:case 14:case 15:if(!Et&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Ru(a,s,_),f=f.next}while(f!==u)}sr(r,s,a);break;case 1:if(!Et&&(Si(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(S){We(a,s,S)}sr(r,s,a);break;case 21:sr(r,s,a);break;case 22:a.mode&1?(Et=(u=Et)||a.memoizedState!==null,sr(r,s,a),Et=u):sr(r,s,a);break;default:sr(r,s,a)}}function Cg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new jC),s.forEach(function(u){var f=WC.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}}function un(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];try{var g=r,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 5:mt=S.stateNode,cn=!1;break e;case 3:mt=S.stateNode.containerInfo,cn=!0;break e;case 4:mt=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(mt===null)throw Error(n(160));wg(g,_,f),mt=null,cn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(O){We(f,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sg(s,r),s=s.sibling}function Sg(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(un(s,r),Cn(r),u&4){try{Bs(3,r,r.return),Fa(3,r)}catch(re){We(r,r.return,re)}try{Bs(5,r,r.return)}catch(re){We(r,r.return,re)}}break;case 1:un(s,r),Cn(r),u&512&&a!==null&&Si(a,a.return);break;case 5:if(un(s,r),Cn(r),u&512&&a!==null&&Si(a,a.return),r.flags&32){var f=r.stateNode;try{Gn(f,"")}catch(re){We(r,r.return,re)}}if(u&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,S=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&Rt(f,g),dc(S,_);var O=dc(S,g);for(_=0;_<N.length;_+=2){var U=N[_],W=N[_+1];U==="style"?sp(f,W):U==="dangerouslySetInnerHTML"?ls(f,W):U==="children"?Gn(f,W):F(f,U,W,O)}switch(S){case"input":Tt(f,g);break;case"textarea":ss(f,g);break;case"select":var z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var Z=g.value;Z!=null?$n(f,!!g.multiple,Z,!1):z!==!!g.multiple&&(g.defaultValue!=null?$n(f,!!g.multiple,g.defaultValue,!0):$n(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ps]=g}catch(re){We(r,r.return,re)}}break;case 6:if(un(s,r),Cn(r),u&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(re){We(r,r.return,re)}}break;case 3:if(un(s,r),Cn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{vs(s.containerInfo)}catch(re){We(r,r.return,re)}break;case 4:un(s,r),Cn(r);break;case 13:un(s,r),Cn(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Ou=Ke())),u&4&&Cg(r);break;case 22:if(U=a!==null&&a.memoizedState!==null,r.mode&1?(Et=(O=Et)||U,un(s,r),Et=O):un(s,r),Cn(r),u&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!U&&(r.mode&1)!==0)for(te=r,U=r.child;U!==null;){for(W=te=U;te!==null;){switch(z=te,Z=z.child,z.tag){case 0:case 11:case 14:case 15:Bs(4,z,z.return);break;case 1:Si(z,z.return);var ne=z.stateNode;if(typeof ne.componentWillUnmount=="function"){u=z,a=z.return;try{s=u,ne.props=s.memoizedProps,ne.state=s.memoizedState,ne.componentWillUnmount()}catch(re){We(u,a,re)}}break;case 5:Si(z,z.return);break;case 22:if(z.memoizedState!==null){Tg(W);continue}}Z!==null?(Z.return=z,te=Z):Tg(W)}U=U.sibling}e:for(U=null,W=r;;){if(W.tag===5){if(U===null){U=W;try{f=W.stateNode,O?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=W.stateNode,N=W.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,S.style.display=Ko("display",_))}catch(re){We(r,r.return,re)}}}else if(W.tag===6){if(U===null)try{W.stateNode.nodeValue=O?"":W.memoizedProps}catch(re){We(r,r.return,re)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===r)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===r)break e;for(;W.sibling===null;){if(W.return===null||W.return===r)break e;U===W&&(U=null),W=W.return}U===W&&(U=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:un(s,r),Cn(r),u&4&&Cg(r);break;case 21:break;default:un(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(xg(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Gn(f,""),u.flags&=-33);var g=_g(r);Au(r,g,f);break;case 3:case 4:var _=u.stateNode.containerInfo,S=_g(r);ju(r,S,_);break;default:throw Error(n(161))}}catch(N){We(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function DC(r,s,a){te=r,Eg(r)}function Eg(r,s,a){for(var u=(r.mode&1)!==0;te!==null;){var f=te,g=f.child;if(f.tag===22&&u){var _=f.memoizedState!==null||Oa;if(!_){var S=f.alternate,N=S!==null&&S.memoizedState!==null||Et;S=Oa;var O=Et;if(Oa=_,(Et=N)&&!O)for(te=f;te!==null;)_=te,N=_.child,_.tag===22&&_.memoizedState!==null?Ng(f):N!==null?(N.return=_,te=N):Ng(f);for(;g!==null;)te=g,Eg(g),g=g.sibling;te=f,Oa=S,Et=O}bg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,te=g):bg(r)}}function bg(r){for(;te!==null;){var s=te;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Et||Fa(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Et)if(a===null)u.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:ln(s.type,a.memoizedProps);u.componentDidUpdate(f,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Tm(s,g,u);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Tm(s,_,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var U=O.memoizedState;if(U!==null){var W=U.dehydrated;W!==null&&vs(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Et||s.flags&512&&Mu(s)}catch(z){We(s,s.return,z)}}if(s===r){te=null;break}if(a=s.sibling,a!==null){a.return=s.return,te=a;break}te=s.return}}function Tg(r){for(;te!==null;){var s=te;if(s===r){te=null;break}var a=s.sibling;if(a!==null){a.return=s.return,te=a;break}te=s.return}}function Ng(r){for(;te!==null;){var s=te;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Fa(4,s)}catch(N){We(s,a,N)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var f=s.return;try{u.componentDidMount()}catch(N){We(s,f,N)}}var g=s.return;try{Mu(s)}catch(N){We(s,g,N)}break;case 5:var _=s.return;try{Mu(s)}catch(N){We(s,_,N)}}}catch(N){We(s,s.return,N)}if(s===r){te=null;break}var S=s.sibling;if(S!==null){S.return=s.return,te=S;break}te=s.return}}var LC=Math.ceil,Va=L.ReactCurrentDispatcher,Du=L.ReactCurrentOwner,Xt=L.ReactCurrentBatchConfig,Ce=0,it=null,Ye=null,gt=0,$t=0,Ei=er(0),Je=0,zs=null,jr=0,Ba=0,Lu=0,Us=null,Dt=null,Ou=0,bi=1/0,An=null,za=!1,Fu=null,or=null,Ua=!1,ar=null,Wa=0,Ws=0,Vu=null,Ha=-1,$a=0;function kt(){return(Ce&6)!==0?Ke():Ha!==-1?Ha:Ha=Ke()}function lr(r){return(r.mode&1)===0?1:(Ce&2)!==0&&gt!==0?gt&-gt:xC.transition!==null?($a===0&&($a=_p()),$a):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Pp(r.type)),r)}function dn(r,s,a,u){if(50<Ws)throw Ws=0,Vu=null,Error(n(185));fs(r,a,u),((Ce&2)===0||r!==it)&&(r===it&&((Ce&2)===0&&(Ba|=a),Je===4&&cr(r,gt)),Lt(r,u),a===1&&Ce===0&&(s.mode&1)===0&&(bi=Ke()+500,xa&&nr()))}function Lt(r,s){var a=r.callbackNode;xw(r,s);var u=ea(r,r===it?gt:0);if(u===0)a!==null&&yp(a),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(a!=null&&yp(a),s===1)r.tag===0?vC(Pg.bind(null,r)):pm(Pg.bind(null,r)),pC(function(){(Ce&6)===0&&nr()}),a=null;else{switch(wp(u)){case 1:a=vc;break;case 4:a=vp;break;case 16:a=Qo;break;case 536870912:a=xp;break;default:a=Qo}a=Og(a,kg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function kg(r,s){if(Ha=-1,$a=0,(Ce&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ti()&&r.callbackNode!==a)return null;var u=ea(r,r===it?gt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=Ga(r,u);else{s=u;var f=Ce;Ce|=2;var g=Rg();(it!==r||gt!==s)&&(An=null,bi=Ke()+500,Dr(r,s));do try{VC();break}catch(S){Ig(r,S)}while(!0);ru(),Va.current=g,Ce=f,Ye!==null?s=0:(it=null,gt=0,s=Je)}if(s!==0){if(s===2&&(f=xc(r),f!==0&&(u=f,s=Bu(r,f))),s===1)throw a=zs,Dr(r,0),cr(r,u),Lt(r,Ke()),a;if(s===6)cr(r,u);else{if(f=r.current.alternate,(u&30)===0&&!OC(f)&&(s=Ga(r,u),s===2&&(g=xc(r),g!==0&&(u=g,s=Bu(r,g))),s===1))throw a=zs,Dr(r,0),cr(r,u),Lt(r,Ke()),a;switch(r.finishedWork=f,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:Lr(r,Dt,An);break;case 3:if(cr(r,u),(u&130023424)===u&&(s=Ou+500-Ke(),10<s)){if(ea(r,0)!==0)break;if(f=r.suspendedLanes,(f&u)!==u){kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Gc(Lr.bind(null,r,Dt,An),s);break}Lr(r,Dt,An);break;case 4:if(cr(r,u),(u&4194240)===u)break;for(s=r.eventTimes,f=-1;0<u;){var _=31-sn(u);g=1<<_,_=s[_],_>f&&(f=_),u&=~g}if(u=f,u=Ke()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*LC(u/1960))-u,10<u){r.timeoutHandle=Gc(Lr.bind(null,r,Dt,An),u);break}Lr(r,Dt,An);break;case 5:Lr(r,Dt,An);break;default:throw Error(n(329))}}}return Lt(r,Ke()),r.callbackNode===a?kg.bind(null,r):null}function Bu(r,s){var a=Us;return r.current.memoizedState.isDehydrated&&(Dr(r,s).flags|=256),r=Ga(r,s),r!==2&&(s=Dt,Dt=a,s!==null&&zu(s)),r}function zu(r){Dt===null?Dt=r:Dt.push.apply(Dt,r)}function OC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!on(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cr(r,s){for(s&=~Lu,s&=~Ba,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-sn(s),u=1<<a;r[a]=-1,s&=~u}}function Pg(r){if((Ce&6)!==0)throw Error(n(327));Ti();var s=ea(r,0);if((s&1)===0)return Lt(r,Ke()),null;var a=Ga(r,s);if(r.tag!==0&&a===2){var u=xc(r);u!==0&&(s=u,a=Bu(r,u))}if(a===1)throw a=zs,Dr(r,0),cr(r,s),Lt(r,Ke()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Lr(r,Dt,An),Lt(r,Ke()),null}function Uu(r,s){var a=Ce;Ce|=1;try{return r(s)}finally{Ce=a,Ce===0&&(bi=Ke()+500,xa&&nr())}}function Ar(r){ar!==null&&ar.tag===0&&(Ce&6)===0&&Ti();var s=Ce;Ce|=1;var a=Xt.transition,u=Ne;try{if(Xt.transition=null,Ne=1,r)return r()}finally{Ne=u,Xt.transition=a,Ce=s,(Ce&6)===0&&nr()}}function Wu(){$t=Ei.current,Oe(Ei)}function Dr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,fC(a)),Ye!==null)for(a=Ye.return;a!==null;){var u=a;switch(Zc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ya();break;case 3:wi(),Oe(Mt),Oe(wt),du();break;case 5:cu(u);break;case 4:wi();break;case 13:Oe(Ve);break;case 19:Oe(Ve);break;case 10:iu(u.type._context);break;case 22:case 23:Wu()}a=a.return}if(it=r,Ye=r=ur(r.current,null),gt=$t=s,Je=0,zs=null,Lu=Ba=jr=0,Dt=Us=null,Ir!==null){for(s=0;s<Ir.length;s++)if(a=Ir[s],u=a.interleaved,u!==null){a.interleaved=null;var f=u.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,u.next=_}a.pending=u}Ir=null}return r}function Ig(r,s){do{var a=Ye;try{if(ru(),Pa.current=ja,Ia){for(var u=Be.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Ia=!1}if(Mr=0,rt=Ze=Be=null,Ds=!1,Ls=0,Du.current=null,a===null||a.return===null){Je=1,zs=s,Ye=null;break}e:{var g=r,_=a.return,S=a,N=s;if(s=gt,S.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var O=N,U=S,W=U.tag;if((U.mode&1)===0&&(W===0||W===11||W===15)){var z=U.alternate;z?(U.updateQueue=z.updateQueue,U.memoizedState=z.memoizedState,U.lanes=z.lanes):(U.updateQueue=null,U.memoizedState=null)}var Z=tg(_);if(Z!==null){Z.flags&=-257,ng(Z,_,S,g,s),Z.mode&1&&eg(g,O,s),s=Z,N=O;var ne=s.updateQueue;if(ne===null){var re=new Set;re.add(N),s.updateQueue=re}else ne.add(N);break e}else{if((s&1)===0){eg(g,O,s),Hu();break e}N=Error(n(426))}}else if(Fe&&S.mode&1){var qe=tg(_);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),ng(qe,_,S,g,s),tu(Ci(N,S));break e}}g=N=Ci(N,S),Je!==4&&(Je=2),Us===null?Us=[g]:Us.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Zm(g,N,s);bm(g,M);break e;case 1:S=N;var I=g.type,j=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(or===null||!or.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var H=Jm(g,S,s);bm(g,H);break e}}g=g.return}while(g!==null)}jg(a)}catch(oe){s=oe,Ye===a&&a!==null&&(Ye=a=a.return);continue}break}while(!0)}function Rg(){var r=Va.current;return Va.current=ja,r===null?ja:r}function Hu(){(Je===0||Je===3||Je===2)&&(Je=4),it===null||(jr&268435455)===0&&(Ba&268435455)===0||cr(it,gt)}function Ga(r,s){var a=Ce;Ce|=2;var u=Rg();(it!==r||gt!==s)&&(An=null,Dr(r,s));do try{FC();break}catch(f){Ig(r,f)}while(!0);if(ru(),Ce=a,Va.current=u,Ye!==null)throw Error(n(261));return it=null,gt=0,Je}function FC(){for(;Ye!==null;)Mg(Ye)}function VC(){for(;Ye!==null&&!uw();)Mg(Ye)}function Mg(r){var s=Lg(r.alternate,r,$t);r.memoizedProps=r.pendingProps,s===null?jg(r):Ye=s,Du.current=null}function jg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=RC(a,s,$t),a!==null){Ye=a;return}}else{if(a=MC(a,s),a!==null){a.flags&=32767,Ye=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Je=6,Ye=null;return}}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);Je===0&&(Je=5)}function Lr(r,s,a){var u=Ne,f=Xt.transition;try{Xt.transition=null,Ne=1,BC(r,s,a,u)}finally{Xt.transition=f,Ne=u}return null}function BC(r,s,a,u){do Ti();while(ar!==null);if((Ce&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(_w(r,g),r===it&&(Ye=it=null,gt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ua||(Ua=!0,Og(Qo,function(){return Ti(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Xt.transition,Xt.transition=null;var _=Ne;Ne=1;var S=Ce;Ce|=4,Du.current=null,AC(r,a),Sg(a,r),oC(Hc),ra=!!Wc,Hc=Wc=null,r.current=a,DC(a),dw(),Ce=S,Ne=_,Xt.transition=g}else r.current=a;if(Ua&&(Ua=!1,ar=r,Wa=f),g=r.pendingLanes,g===0&&(or=null),pw(a.stateNode),Lt(r,Ke()),s!==null)for(u=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],u(f.value,{componentStack:f.stack,digest:f.digest});if(za)throw za=!1,r=Fu,Fu=null,r;return(Wa&1)!==0&&r.tag!==0&&Ti(),g=r.pendingLanes,(g&1)!==0?r===Vu?Ws++:(Ws=0,Vu=r):Ws=0,nr(),null}function Ti(){if(ar!==null){var r=wp(Wa),s=Xt.transition,a=Ne;try{if(Xt.transition=null,Ne=16>r?16:r,ar===null)var u=!1;else{if(r=ar,ar=null,Wa=0,(Ce&6)!==0)throw Error(n(331));var f=Ce;for(Ce|=4,te=r.current;te!==null;){var g=te,_=g.child;if((te.flags&16)!==0){var S=g.deletions;if(S!==null){for(var N=0;N<S.length;N++){var O=S[N];for(te=O;te!==null;){var U=te;switch(U.tag){case 0:case 11:case 15:Bs(8,U,g)}var W=U.child;if(W!==null)W.return=U,te=W;else for(;te!==null;){U=te;var z=U.sibling,Z=U.return;if(vg(U),U===O){te=null;break}if(z!==null){z.return=Z,te=z;break}te=Z}}}var ne=g.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var qe=re.sibling;re.sibling=null,re=qe}while(re!==null)}}te=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,te=_;else e:for(;te!==null;){if(g=te,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Bs(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,te=M;break e}te=g.return}}var I=r.current;for(te=I;te!==null;){_=te;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,te=j;else e:for(_=I;te!==null;){if(S=te,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Fa(9,S)}}catch(oe){We(S,S.return,oe)}if(S===_){te=null;break e}var H=S.sibling;if(H!==null){H.return=S.return,te=H;break e}te=S.return}}if(Ce=f,nr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Xo,r)}catch{}u=!0}return u}finally{Ne=a,Xt.transition=s}}return!1}function Ag(r,s,a){s=Ci(a,s),s=Zm(r,s,1),r=ir(r,s,1),s=kt(),r!==null&&(fs(r,1,s),Lt(r,s))}function We(r,s,a){if(r.tag===3)Ag(r,r,a);else for(;s!==null;){if(s.tag===3){Ag(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(or===null||!or.has(u))){r=Ci(a,r),r=Jm(s,r,1),s=ir(s,r,1),r=kt(),s!==null&&(fs(s,1,r),Lt(s,r));break}}s=s.return}}function zC(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),s=kt(),r.pingedLanes|=r.suspendedLanes&a,it===r&&(gt&a)===a&&(Je===4||Je===3&&(gt&130023424)===gt&&500>Ke()-Ou?Dr(r,0):Lu|=a),Lt(r,s)}function Dg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var a=kt();r=Rn(r,s),r!==null&&(fs(r,s,a),Lt(r,a))}function UC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Dg(r,a)}function WC(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),Dg(r,a)}var Lg;Lg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Mt.current)At=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return At=!1,IC(r,s,a);At=(r.flags&131072)!==0}else At=!1,Fe&&(s.flags&1048576)!==0&&mm(s,wa,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;La(r,s),r=s.pendingProps;var f=pi(s,wt.current);_i(s,a),f=pu(null,s,u,r,f,a);var g=mu();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,jt(u)?(g=!0,va(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,au(s),f.updater=Aa,s.stateNode=f,f._reactInternals=s,wu(s,u,r,a),s=bu(null,s,u,!0,g,a)):(s.tag=0,Fe&&g&&Xc(s),Nt(null,s,f,a),s=s.child),s;case 16:u=s.elementType;e:{switch(La(r,s),r=s.pendingProps,f=u._init,u=f(u._payload),s.type=u,f=s.tag=$C(u),r=ln(u,r),f){case 0:s=Eu(null,s,u,r,a);break e;case 1:s=lg(null,s,u,r,a);break e;case 11:s=rg(null,s,u,r,a);break e;case 14:s=ig(null,s,u,ln(u.type,r),a);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:ln(u,f),Eu(r,s,u,f,a);case 1:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:ln(u,f),lg(r,s,u,f,a);case 3:e:{if(cg(s),r===null)throw Error(n(387));u=s.pendingProps,g=s.memoizedState,f=g.element,Em(r,s),Na(s,u,null,a);var _=s.memoizedState;if(u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ci(Error(n(423)),s),s=ug(r,s,u,a,f);break e}else if(u!==f){f=Ci(Error(n(424)),s),s=ug(r,s,u,a,f);break e}else for(Ht=Jn(s.stateNode.containerInfo.firstChild),Wt=s,Fe=!0,an=null,a=Cm(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yi(),u===f){s=jn(r,s,a);break e}Nt(r,s,u,a)}s=s.child}return s;case 5:return Nm(s),r===null&&eu(s),u=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,$c(u,f)?_=null:g!==null&&$c(u,g)&&(s.flags|=32),ag(r,s),Nt(r,s,_,a),s.child;case 6:return r===null&&eu(s),null;case 13:return dg(r,s,a);case 4:return lu(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=vi(s,null,u,a):Nt(r,s,u,a),s.child;case 11:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:ln(u,f),rg(r,s,u,f,a);case 7:return Nt(r,s,s.pendingProps,a),s.child;case 8:return Nt(r,s,s.pendingProps.children,a),s.child;case 12:return Nt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,Ie(Ea,u._currentValue),u._currentValue=_,g!==null)if(on(g.value,_)){if(g.children===f.children&&!Mt.current){s=jn(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){_=g.child;for(var N=S.firstContext;N!==null;){if(N.context===u){if(g.tag===1){N=Mn(-1,a&-a),N.tag=2;var O=g.updateQueue;if(O!==null){O=O.shared;var U=O.pending;U===null?N.next=N:(N.next=U.next,U.next=N),O.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),su(g.return,a,s),S.lanes|=a;break}N=N.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=a,S=_.alternate,S!==null&&(S.lanes|=a),su(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Nt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,u=s.pendingProps.children,_i(s,a),f=Yt(f),u=u(f),s.flags|=1,Nt(r,s,u,a),s.child;case 14:return u=s.type,f=ln(u,s.pendingProps),f=ln(u.type,f),ig(r,s,u,f,a);case 15:return sg(r,s,s.type,s.pendingProps,a);case 17:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:ln(u,f),La(r,s),s.tag=1,jt(u)?(r=!0,va(s)):r=!1,_i(s,a),Qm(s,u,f),wu(s,u,f,a),bu(null,s,u,!0,r,a);case 19:return fg(r,s,a);case 22:return og(r,s,a)}throw Error(n(156,s.tag))};function Og(r,s){return gp(r,s)}function HC(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(r,s,a,u){return new HC(r,s,a,u)}function $u(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $C(r){if(typeof r=="function")return $u(r)?1:0;if(r!=null){if(r=r.$$typeof,r===bt)return 11;if(r===ft)return 14}return 2}function ur(r,s){var a=r.alternate;return a===null?(a=Zt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ka(r,s,a,u,f,g){var _=2;if(u=r,typeof r=="function")$u(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case ie:return Or(a.children,f,g,s);case se:_=8,f|=8;break;case Te:return r=Zt(12,a,s,f|2),r.elementType=Te,r.lanes=g,r;case dt:return r=Zt(13,a,s,f),r.elementType=dt,r.lanes=g,r;case ht:return r=Zt(19,a,s,f),r.elementType=ht,r.lanes=g,r;case pe:return qa(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Pe:_=10;break e;case tt:_=9;break e;case bt:_=11;break e;case ft:_=14;break e;case nt:_=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Zt(_,a,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function Or(r,s,a,u){return r=Zt(7,r,u,s),r.lanes=a,r}function qa(r,s,a,u){return r=Zt(22,r,u,s),r.elementType=pe,r.lanes=a,r.stateNode={isHidden:!1},r}function Gu(r,s,a){return r=Zt(6,r,null,s),r.lanes=a,r}function Ku(r,s,a){return s=Zt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function GC(r,s,a,u,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_c(0),this.expirationTimes=_c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_c(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qu(r,s,a,u,f,g,_,S,N){return r=new GC(r,s,a,S,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Zt(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(g),r}function KC(r,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:u==null?null:""+u,children:r,containerInfo:s,implementation:a}}function Fg(r){if(!r)return tr;r=r._reactInternals;e:{if(br(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(jt(a))return hm(r,a,s)}return s}function Vg(r,s,a,u,f,g,_,S,N){return r=qu(a,u,!0,r,f,g,_,S,N),r.context=Fg(null),a=r.current,u=kt(),f=lr(a),g=Mn(u,f),g.callback=s??null,ir(a,g,f),r.current.lanes=f,fs(r,f,u),Lt(r,u),r}function Ya(r,s,a,u){var f=s.current,g=kt(),_=lr(f);return a=Fg(a),s.context===null?s.context=a:s.pendingContext=a,s=Mn(g,_),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=ir(f,s,_),r!==null&&(dn(r,f,_,g),Ta(r,f,_)),_}function Qa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Bg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Yu(r,s){Bg(r,s),(r=r.alternate)&&Bg(r,s)}function qC(){return null}var zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Qu(r){this._internalRoot=r}Xa.prototype.render=Qu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ya(r,s,null,null)},Xa.prototype.unmount=Qu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ar(function(){Ya(null,r,null,null)}),s[Nn]=null}};function Xa(r){this._internalRoot=r}Xa.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ep();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Qn.length&&s!==0&&s<Qn[a].priority;a++);Qn.splice(a,0,r),a===0&&Np(r)}};function Xu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Za(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function YC(r,s,a,u,f){if(f){if(typeof u=="function"){var g=u;u=function(){var O=Qa(_);g.call(O)}}var _=Vg(s,u,r,0,null,!1,!1,"",Ug);return r._reactRootContainer=_,r[Nn]=_.current,Ns(r.nodeType===8?r.parentNode:r),Ar(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof u=="function"){var S=u;u=function(){var O=Qa(N);S.call(O)}}var N=qu(r,0,!1,null,null,!1,!1,"",Ug);return r._reactRootContainer=N,r[Nn]=N.current,Ns(r.nodeType===8?r.parentNode:r),Ar(function(){Ya(s,N,a,u)}),N}function Ja(r,s,a,u,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var S=f;f=function(){var N=Qa(_);S.call(N)}}Ya(s,_,r,f)}else _=YC(a,s,r,f,u);return Qa(_)}Cp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=hs(s.pendingLanes);a!==0&&(wc(s,a|1),Lt(s,Ke()),(Ce&6)===0&&(bi=Ke()+500,nr()))}break;case 13:Ar(function(){var u=Rn(r,1);if(u!==null){var f=kt();dn(u,r,1,f)}}),Yu(r,1)}},Cc=function(r){if(r.tag===13){var s=Rn(r,134217728);if(s!==null){var a=kt();dn(s,r,134217728,a)}Yu(r,134217728)}},Sp=function(r){if(r.tag===13){var s=lr(r),a=Rn(r,s);if(a!==null){var u=kt();dn(a,r,s,u)}Yu(r,s)}},Ep=function(){return Ne},bp=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},pc=function(r,s,a){switch(s){case"input":if(Tt(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var f=ga(u);if(!f)throw Error(n(90));De(u),Tt(u,f)}}}break;case"textarea":ss(r,a);break;case"select":s=a.value,s!=null&&$n(r,!!a.multiple,s,!1)}},cp=Uu,up=Ar;var QC={usingClientEntryPoint:!1,Events:[Is,hi,ga,ap,lp,Uu]},Hs={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pp(r),r===null?null:r.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Xo=el.inject(XC),vn=el}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC,Ot.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(s))throw Error(n(200));return KC(r,s,null,a)},Ot.createRoot=function(r,s){if(!Xu(r))throw Error(n(299));var a=!1,u="",f=zg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=qu(r,1,!1,null,null,a,!1,u,f),r[Nn]=s.current,Ns(r.nodeType===8?r.parentNode:r),new Qu(s)},Ot.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=pp(s),r=r===null?null:r.stateNode,r},Ot.flushSync=function(r){return Ar(r)},Ot.hydrate=function(r,s,a){if(!Za(s))throw Error(n(200));return Ja(null,r,s,!0,a)},Ot.hydrateRoot=function(r,s,a){if(!Xu(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,f=!1,g="",_=zg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Vg(s,null,r,1,a??null,f,!1,g,_),r[Nn]=s.current,Ns(r),u)for(r=0;r<u.length;r++)a=u[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Xa(s)},Ot.render=function(r,s,a){if(!Za(s))throw Error(n(200));return Ja(null,r,s,!1,a)},Ot.unmountComponentAtNode=function(r){if(!Za(r))throw Error(n(40));return r._reactRootContainer?(Ar(function(){Ja(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},Ot.unstable_batchedUpdates=Uu,Ot.unstable_renderSubtreeIntoContainer=function(r,s,a,u){if(!Za(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ja(r,s,a,!1,u)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Qg;function jv(){if(Qg)return ed.exports;Qg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ed.exports=oS(),ed.exports}var Xg;function aS(){if(Xg)return tl;Xg=1;var t=jv();return tl.createRoot=t.createRoot,tl.hydrateRoot=t.hydrateRoot,tl}var lS=aS();const cS=Rv(lS);jv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uo.apply(this,arguments)}var fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fr||(fr={}));const Zg="popstate";function uS(t){t===void 0&&(t={});function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return Dd("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:pl(o)}return hS(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ih(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dS(){return Math.random().toString(36).substr(2,8)}function Jg(t,e){return{usr:t.state,key:t.key,idx:e}}function Dd(t,e,n,i){return n===void 0&&(n=null),uo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qi(e):e,{state:n,key:e&&e.key||i||dS()})}function pl(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function qi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function hS(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=fr.Pop,h=null,p=y();p==null&&(p=0,c.replaceState(uo({},c.state,{idx:p}),""));function y(){return(c.state||{idx:null}).idx}function v(){d=fr.Pop;let E=y(),k=E==null?null:E-p;p=E,h&&h({action:d,location:b.location,delta:k})}function x(E,k){d=fr.Push;let D=Dd(b.location,E,k);p=y()+1;let F=Jg(D,p),L=b.createHref(D);try{c.pushState(F,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(L)}l&&h&&h({action:d,location:b.location,delta:1})}function C(E,k){d=fr.Replace;let D=Dd(b.location,E,k);p=y();let F=Jg(D,p),L=b.createHref(D);c.replaceState(F,"",L),l&&h&&h({action:d,location:b.location,delta:0})}function P(E){let k=o.location.origin!=="null"?o.location.origin:o.location.href,D=typeof E=="string"?E:pl(E);return D=D.replace(/ $/,"%20"),Xe(k,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,k)}let b={get action(){return d},get location(){return t(o,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Zg,v),h=E,()=>{o.removeEventListener(Zg,v),h=null}},createHref(E){return e(o,E)},createURL:P,encodeLocation(E){let k=P(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:C,go(E){return c.go(E)}};return b}var ey;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ey||(ey={}));function fS(t,e,n){return n===void 0&&(n="/"),pS(t,e,n)}function pS(t,e,n,i){let o=typeof e=="string"?qi(e):e,l=Rh(o.pathname||"/",n);if(l==null)return null;let c=Av(t);mS(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=NS(l);d=ES(c[h],p)}return d}function Av(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Xe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=mr([i,h.relativePath]),y=n.concat(h);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Av(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:CS(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let h of Dv(l.path))o(l,c,h)}),e}function Dv(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Dv(i.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function mS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const gS=/^:[\w-]+$/,yS=3,vS=2,xS=1,_S=10,wS=-2,ty=t=>t==="*";function CS(t,e){let n=t.split("/"),i=n.length;return n.some(ty)&&(i+=wS),e&&(i+=vS),n.filter(o=>!ty(o)).reduce((o,l)=>o+(gS.test(l)?yS:l===""?xS:_S),i)}function SS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function ES(t,e,n){let{routesMeta:i}=t,o={},l="/",c=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=bS({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),x=h.route;if(!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:mr([l,v.pathname]),pathnameBase:MS(mr([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=mr([l,v.pathnameBase]))}return c}function bS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=TS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,y,v)=>{let{paramName:x,isOptional:C}=y;if(x==="*"){let b=d[v]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const P=d[v];return C&&!P?p[x]=void 0:p[x]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function TS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ih(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function NS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ih(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PS=t=>kS.test(t);function IS(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?qi(t):t,l;if(n)if(PS(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ih(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?l=ny(n.substring(1),"/"):l=ny(n,e)}else l=e;return{pathname:l,search:jS(i),hash:AS(o)}}function ny(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lv(t,e){let n=RS(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Ov(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=qi(t):(o=uo({},t),Xe(!o.pathname||!o.pathname.includes("?"),rd("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),rd("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),rd("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}d=v>=0?e[v]:"/"}let h=IS(o,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}const mr=t=>t.join("/").replace(/\/\/+/g,"/"),MS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fv=["post","put","patch","delete"];new Set(Fv);const LS=["get",...Fv];new Set(LS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ho.apply(this,arguments)}const Mh=R.createContext(null),OS=R.createContext(null),Jr=R.createContext(null),Wl=R.createContext(null),Cr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Vv=R.createContext(null);function FS(t,e){let{relative:n}=e===void 0?{}:e;Io()||Xe(!1);let{basename:i,navigator:o}=R.useContext(Jr),{hash:l,pathname:c,search:d}=Uv(t,{relative:n}),h=c;return i!=="/"&&(h=c==="/"?i:mr([i,c])),o.createHref({pathname:h,search:d,hash:l})}function Io(){return R.useContext(Wl)!=null}function Ro(){return Io()||Xe(!1),R.useContext(Wl).location}function Bv(t){R.useContext(Jr).static||R.useLayoutEffect(t)}function zv(){let{isDataRoute:t}=R.useContext(Cr);return t?ZS():VS()}function VS(){Io()||Xe(!1);let t=R.useContext(Mh),{basename:e,future:n,navigator:i}=R.useContext(Jr),{matches:o}=R.useContext(Cr),{pathname:l}=Ro(),c=JSON.stringify(Lv(o,n.v7_relativeSplatPath)),d=R.useRef(!1);return Bv(()=>{d.current=!0}),R.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){i.go(p);return}let v=Ov(p,JSON.parse(c),l,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mr([e,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[e,i,c,l,t])}function BS(){let{matches:t}=R.useContext(Cr),e=t[t.length-1];return e?e.params:{}}function Uv(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=R.useContext(Jr),{matches:o}=R.useContext(Cr),{pathname:l}=Ro(),c=JSON.stringify(Lv(o,i.v7_relativeSplatPath));return R.useMemo(()=>Ov(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function zS(t,e){return US(t,e)}function US(t,e,n,i){Io()||Xe(!1);let{navigator:o}=R.useContext(Jr),{matches:l}=R.useContext(Cr),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=Ro(),y;if(e){var v;let E=typeof e=="string"?qi(e):e;h==="/"||(v=E.pathname)!=null&&v.startsWith(h)||Xe(!1),y=E}else y=p;let x=y.pathname||"/",C=x;if(h!=="/"){let E=h.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let P=fS(t,{pathname:C}),b=KS(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:mr([h,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:mr([h,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,i);return e&&b?R.createElement(Wl.Provider,{value:{location:ho({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:fr.Pop}},b):b}function WS(){let t=XS(),e=DS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,null)}const HS=R.createElement(WS,null);class $S extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Cr.Provider,{value:this.props.routeContext},R.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GS(t){let{routeContext:e,match:n,children:i}=t,o=R.useContext(Mh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Cr.Provider,{value:e},i)}function KS(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(o=n)==null?void 0:o.errors;if(d!=null){let y=c.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);y>=0||Xe(!1),c=c.slice(0,Math.min(c.length,y+1))}let h=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:x,errors:C}=n,P=v.route.loader&&x[v.route.id]===void 0&&(!C||C[v.route.id]===void 0);if(v.route.lazy||P){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,v,x)=>{let C,P=!1,b=null,E=null;n&&(C=d&&v.route.id?d[v.route.id]:void 0,b=v.route.errorElement||HS,h&&(p<0&&x===0?(JS("route-fallback"),P=!0,E=null):p===x&&(P=!0,E=v.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,x+1)),D=()=>{let F;return C?F=b:P?F=E:v.route.Component?F=R.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,R.createElement(GS,{match:v,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?R.createElement($S,{location:n.location,revalidation:n.revalidation,component:b,error:C,children:D(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):D()},null)}var Wv=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Wv||{}),Hv=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Hv||{});function qS(t){let e=R.useContext(Mh);return e||Xe(!1),e}function YS(t){let e=R.useContext(OS);return e||Xe(!1),e}function QS(t){let e=R.useContext(Cr);return e||Xe(!1),e}function $v(t){let e=QS(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function XS(){var t;let e=R.useContext(Vv),n=YS(),i=$v();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function ZS(){let{router:t}=qS(Wv.UseNavigateStable),e=$v(Hv.UseNavigateStable),n=R.useRef(!1);return Bv(()=>{n.current=!0}),R.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,ho({fromRouteId:e},l)))},[t,e])}const ry={};function JS(t,e,n){ry[t]||(ry[t]=!0)}function eE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xs(t){Xe(!1)}function tE(t){let{basename:e="/",children:n=null,location:i,navigationType:o=fr.Pop,navigator:l,static:c=!1,future:d}=t;Io()&&Xe(!1);let h=e.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:h,navigator:l,static:c,future:ho({v7_relativeSplatPath:!1},d)}),[h,d,l,c]);typeof i=="string"&&(i=qi(i));let{pathname:y="/",search:v="",hash:x="",state:C=null,key:P="default"}=i,b=R.useMemo(()=>{let E=Rh(y,h);return E==null?null:{location:{pathname:E,search:v,hash:x,state:C,key:P},navigationType:o}},[h,y,v,x,C,P,o]);return b==null?null:R.createElement(Jr.Provider,{value:p},R.createElement(Wl.Provider,{children:n,value:b}))}function nE(t){let{children:e,location:n}=t;return zS(Ld(e),n)}new Promise(()=>{});function Ld(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(i,o)=>{if(!R.isValidElement(i))return;let l=[...e,o];if(i.type===R.Fragment){n.push.apply(n,Ld(i.props.children,l));return}i.type!==Xs&&Xe(!1),!i.props.index||!i.props.children||Xe(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ld(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Od.apply(this,arguments)}function rE(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function iE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sE(t,e){return t.button===0&&(!e||e==="_self")&&!iE(t)}const oE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aE="6";try{window.__reactRouterVersion=aE}catch{}const lE="startTransition",iy=rS[lE];function cE(t){let{basename:e,children:n,future:i,window:o}=t,l=R.useRef();l.current==null&&(l.current=uS({window:o,v5Compat:!0}));let c=l.current,[d,h]=R.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},y=R.useCallback(v=>{p&&iy?iy(()=>h(v)):h(v)},[h,p]);return R.useLayoutEffect(()=>c.listen(y),[c,y]),R.useEffect(()=>eE(i),[i]),R.createElement(tE,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:i})}const uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=R.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:y,viewTransition:v}=e,x=rE(e,oE),{basename:C}=R.useContext(Jr),P,b=!1;if(typeof p=="string"&&dE.test(p)&&(P=p,uE))try{let F=new URL(window.location.href),L=p.startsWith("//")?new URL(F.protocol+p):new URL(p),B=Rh(L.pathname,C);L.origin===F.origin&&B!=null?p=B+L.search+L.hash:b=!0}catch{}let E=FS(p,{relative:o}),k=hE(p,{replace:c,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:v});function D(F){i&&i(F),F.defaultPrevented||k(F)}return R.createElement("a",Od({},x,{href:P||E,onClick:b||l?i:D,ref:n,target:h}))});var sy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var oy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oy||(oy={}));function hE(t,e){let{target:n,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,h=zv(),p=Ro(),y=Uv(t,{relative:c});return R.useCallback(v=>{if(sE(v,n)){v.preventDefault();let x=i!==void 0?i:pl(p)===pl(y);h(t,{replace:x,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[p,h,y,i,o,n,t,l,c,d])}const jh=R.createContext({});function Mo(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ah=typeof window<"u",Dh=Ah?R.useLayoutEffect:R.useEffect,Hl=R.createContext(null);function Lh(t,e){t.indexOf(e)===-1&&t.push(e)}function Oh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vn=(t,e,n)=>n>e?e:n<t?t:n;let Fh=()=>{};const Bn={},Gv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Kv(t){return typeof t=="object"&&t!==null}const qv=t=>/^0[^.\s]+$/u.test(t);function Vh(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,fE=(t,e)=>n=>e(t(n)),jo=(...t)=>t.reduce(fE),fo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Bh{constructor(){this.subscriptions=[]}add(e){return Lh(this.subscriptions,e),()=>Oh(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=t=>t*1e3,en=t=>t/1e3;function Yv(t,e){return e?t*(1e3/e):0}const Qv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pE=1e-7,mE=12;function gE(t,e,n,i,o){let l,c,d=0;do c=e+(n-e)/2,l=Qv(c,i,o)-t,l>0?n=c:e=c;while(Math.abs(l)>pE&&++d<mE);return c}function Ao(t,e,n,i){if(t===e&&n===i)return nn;const o=l=>gE(l,0,1,t,n);return l=>l===0||l===1?l:Qv(o(l),e,i)}const Xv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zv=t=>e=>1-t(1-e),Jv=Ao(.33,1.53,.69,.99),zh=Zv(Jv),ex=Xv(zh),tx=t=>(t*=2)<1?.5*zh(t):.5*(2-Math.pow(2,-10*(t-1))),Uh=t=>1-Math.sin(Math.acos(t)),nx=Zv(Uh),rx=Xv(Uh),yE=Ao(.42,0,1,1),vE=Ao(0,0,.58,1),ix=Ao(.42,0,.58,1),xE=t=>Array.isArray(t)&&typeof t[0]!="number",sx=t=>Array.isArray(t)&&typeof t[0]=="number",_E={linear:nn,easeIn:yE,easeInOut:ix,easeOut:vE,circIn:Uh,circInOut:rx,circOut:nx,backIn:zh,backInOut:ex,backOut:Jv,anticipate:tx},wE=t=>typeof t=="string",ay=t=>{if(sx(t)){Fh(t.length===4);const[e,n,i,o]=t;return Ao(e,n,i,o)}else if(wE(t))return _E[t];return t},nl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CE(t,e){let n=new Set,i=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,v=!1,x=!1)=>{const P=x&&o?n:i;return v&&c.add(y),P.has(y)||P.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(d=y,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,p.process(y))}};return p}const SE=40;function ox(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=nl.reduce((F,L)=>(F[L]=CE(l),F),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:y,update:v,preRender:x,render:C,postRender:P}=c,b=()=>{const F=Bn.useManualTiming?o.timestamp:performance.now();n=!1,Bn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(F-o.timestamp,SE),1)),o.timestamp=F,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),y.process(o),v.process(o),x.process(o),C.process(o),P.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(b))},E=()=>{n=!0,i=!0,o.isProcessing||t(b)};return{schedule:nl.reduce((F,L)=>{const B=c[L];return F[L]=(Y,ie=!1,se=!1)=>(n||E(),B.schedule(Y,ie,se)),F},{}),cancel:F=>{for(let L=0;L<nl.length;L++)c[nl[L]].cancel(F)},state:o,steps:c}}const{schedule:Ae,cancel:zn,state:yt,steps:id}=ox(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let ll;function EE(){ll=void 0}const Ft={now:()=>(ll===void 0&&Ft.set(yt.isProcessing||Bn.useManualTiming?yt.timestamp:performance.now()),ll),set:t=>{ll=t,queueMicrotask(EE)}},ax=t=>e=>typeof e=="string"&&e.startsWith(t),lx=ax("--"),bE=ax("var(--"),Wh=t=>bE(t)?TE.test(t.split("/*")[0].trim()):!1,TE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},po={...Yi,transform:t=>Vn(0,1,t)},rl={...Yi,default:1},Js=t=>Math.round(t*1e5)/1e5,Hh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NE(t){return t==null}const kE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$h=(t,e)=>n=>!!(typeof n=="string"&&kE.test(n)&&n.startsWith(t)||e&&!NE(n)&&Object.prototype.hasOwnProperty.call(n,e)),cx=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,c,d]=i.match(Hh);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},PE=t=>Vn(0,255,t),sd={...Yi,transform:t=>Math.round(PE(t))},Ur={test:$h("rgb","red"),parse:cx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+sd.transform(t)+", "+sd.transform(e)+", "+sd.transform(n)+", "+Js(po.transform(i))+")"};function IE(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Fd={test:$h("#"),parse:IE,transform:Ur.transform},Do=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hr=Do("deg"),En=Do("%"),de=Do("px"),RE=Do("vh"),ME=Do("vw"),ly={...En,parse:t=>En.parse(t)/100,transform:t=>En.transform(t*100)},Pi={test:$h("hsl","hue"),parse:cx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+En.transform(Js(e))+", "+En.transform(Js(n))+", "+Js(po.transform(i))+")"},Qe={test:t=>Ur.test(t)||Fd.test(t)||Pi.test(t),parse:t=>Ur.test(t)?Ur.parse(t):Pi.test(t)?Pi.parse(t):Fd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ur.transform(t):Pi.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},jE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AE(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Hh))==null?void 0:e.length)||0)+(((n=t.match(jE))==null?void 0:n.length)||0)>0}const ux="number",dx="color",DE="var",LE="var(",cy="${}",OE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(OE,h=>(Qe.test(h)?(i.color.push(l),o.push(dx),n.push(Qe.parse(h))):h.startsWith(LE)?(i.var.push(l),o.push(DE),n.push(h)):(i.number.push(l),o.push(ux),n.push(parseFloat(h))),++l,cy)).split(cy);return{values:n,split:d,indexes:i,types:o}}function hx(t){return mo(t).values}function fx(t){const{split:e,types:n}=mo(t),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===ux?l+=Js(o[c]):d===dx?l+=Qe.transform(o[c]):l+=o[c]}return l}}const FE=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function VE(t){const e=hx(t);return fx(t)(e.map(FE))}const xr={test:AE,parse:hx,createTransformer:fx,getAnimatableNone:VE};function od(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BE({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=od(h,d,t+1/3),l=od(h,d,t),c=od(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function ml(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,ad=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},zE=[Fd,Ur,Pi],UE=t=>zE.find(e=>e.test(t));function uy(t){const e=UE(t);if(!e)return!1;let n=e.parse(t);return e===Pi&&(n=BE(n)),n}const dy=(t,e)=>{const n=uy(t),i=uy(e);if(!n||!i)return ml(t,e);const o={...n};return l=>(o.red=ad(n.red,i.red,l),o.green=ad(n.green,i.green,l),o.blue=ad(n.blue,i.blue,l),o.alpha=ze(n.alpha,i.alpha,l),Ur.transform(o))},Vd=new Set(["none","hidden"]);function WE(t,e){return Vd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HE(t,e){return n=>ze(t,e,n)}function Gh(t){return typeof t=="number"?HE:typeof t=="string"?Wh(t)?ml:Qe.test(t)?dy:KE:Array.isArray(t)?px:typeof t=="object"?Qe.test(t)?dy:$E:ml}function px(t,e){const n=[...t],i=n.length,o=t.map((l,c)=>Gh(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=o[c](l);return n}}function $E(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=Gh(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function GE(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][i[l]],d=t.values[c]??0;n[o]=d,i[l]++}return n}const KE=(t,e)=>{const n=xr.createTransformer(e),i=mo(t),o=mo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Vd.has(t)&&!o.values.length||Vd.has(e)&&!i.values.length?WE(t,e):jo(px(GE(i,o),o.values),n):ml(t,e)};function mx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):Gh(t)(t,e)}const qE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ae.update(e,n),stop:()=>zn(e),now:()=>yt.isProcessing?yt.timestamp:Ft.now()}},gx=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},gl=2e4;function Kh(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<gl;)e+=n,i=t.next(e);return e>=gl?1/0:e}function YE(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(Kh(i),gl);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:en(o)}}const QE=5;function yx(t,e,n){const i=Math.max(e-QE,0);return Yv(n-t(i),e-i)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ld=.001;function XE({duration:t=He.duration,bounce:e=He.bounce,velocity:n=He.velocity,mass:i=He.mass}){let o,l,c=1-e;c=Vn(He.minDamping,He.maxDamping,c),t=Vn(He.minDuration,He.maxDuration,en(t)),c<1?(o=p=>{const y=p*c,v=y*t,x=y-n,C=Bd(p,c),P=Math.exp(-v);return ld-x/C*P},l=p=>{const v=p*c*t,x=v*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,P=Math.exp(-v),b=Bd(Math.pow(p,2),c);return(-o(p)+ld>0?-1:1)*((x-C)*P)/b}):(o=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-ld+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const d=5/t,h=JE(o,l,d);if(t=Sn(t),isNaN(h))return{stiffness:He.stiffness,damping:He.damping,duration:t};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const ZE=12;function JE(t,e,n){let i=n;for(let o=1;o<ZE;o++)i=i-t(i)/e(i);return i}function Bd(t,e){return t*Math.sqrt(1-e*e)}const e2=["duration","bounce"],t2=["stiffness","damping","mass"];function hy(t,e){return e.some(n=>t[n]!==void 0)}function n2(t){let e={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...t};if(!hy(t,t2)&&hy(t,e2))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*Vn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:He.mass,stiffness:o,damping:l}}else{const n=XE(t);e={...e,...n,mass:He.mass},e.isResolvedFromDuration=!0}return e}function yl(t=He.visualDuration,e=He.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:y,duration:v,velocity:x,isResolvedFromDuration:C}=n2({...n,velocity:-en(n.velocity||0)}),P=x||0,b=p/(2*Math.sqrt(h*y)),E=c-l,k=en(Math.sqrt(h/y)),D=Math.abs(E)<5;i||(i=D?He.restSpeed.granular:He.restSpeed.default),o||(o=D?He.restDelta.granular:He.restDelta.default);let F;if(b<1){const B=Bd(k,b);F=Y=>{const ie=Math.exp(-b*k*Y);return c-ie*((P+b*k*E)/B*Math.sin(B*Y)+E*Math.cos(B*Y))}}else if(b===1)F=B=>c-Math.exp(-k*B)*(E+(P+k*E)*B);else{const B=k*Math.sqrt(b*b-1);F=Y=>{const ie=Math.exp(-b*k*Y),se=Math.min(B*Y,300);return c-ie*((P+b*k*E)*Math.sinh(se)+B*E*Math.cosh(se))/B}}const L={calculatedDuration:C&&v||null,next:B=>{const Y=F(B);if(C)d.done=B>=v;else{let ie=B===0?P:0;b<1&&(ie=B===0?Sn(P):yx(F,B,Y));const se=Math.abs(ie)<=i,Te=Math.abs(c-Y)<=o;d.done=se&&Te}return d.value=d.done?c:Y,d},toString:()=>{const B=Math.min(Kh(L),gl),Y=gx(ie=>L.next(B*ie).value,B,30);return B+"ms "+Y},toTransition:()=>{}};return L}yl.applyToOptions=t=>{const e=YE(t,100,yl);return t.ease=e.ease,t.duration=Sn(e.duration),t.type="keyframes",t};function zd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:y}){const v=t[0],x={done:!1,value:v},C=se=>d!==void 0&&se<d||h!==void 0&&se>h,P=se=>d===void 0?h:h===void 0||Math.abs(d-se)<Math.abs(h-se)?d:h;let b=n*e;const E=v+b,k=c===void 0?E:c(E);k!==E&&(b=k-v);const D=se=>-b*Math.exp(-se/i),F=se=>k+D(se),L=se=>{const Te=D(se),Pe=F(se);x.done=Math.abs(Te)<=p,x.value=x.done?k:Pe};let B,Y;const ie=se=>{C(x.value)&&(B=se,Y=yl({keyframes:[x.value,P(x.value)],velocity:yx(F,se,x.value),damping:o,stiffness:l,restDelta:p,restSpeed:y}))};return ie(0),{calculatedDuration:null,next:se=>{let Te=!1;return!Y&&B===void 0&&(Te=!0,L(se),ie(se)),B!==void 0&&se>=B?Y.next(se-B):(!Te&&L(se),x)}}}function r2(t,e,n){const i=[],o=n||Bn.mix||mx,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||nn:e;d=jo(h,d)}i.push(d)}return i}function vx(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(Fh(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=r2(e,i,o),h=d.length,p=y=>{if(c&&y<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const x=fo(t[v],t[v+1],y);return d[v](x)};return n?y=>p(Vn(t[0],t[l-1],y)):p}function i2(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=fo(0,e,i);t.push(ze(n,1,o))}}function s2(t){const e=[0];return i2(e,t.length-1),e}function o2(t,e){return t.map(n=>n*e)}function a2(t,e){return t.map(()=>e||ix).splice(0,t.length-1)}function eo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=xE(i)?i.map(ay):ay(i),l={done:!1,value:e[0]},c=o2(n&&n.length===e.length?n:s2(e),t),d=vx(c,e,{ease:Array.isArray(o)?o:a2(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const l2=t=>t!==null;function qh(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(l2),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const c2={decay:zd,inertia:zd,tween:eo,keyframes:eo,spring:yl};function xx(t){typeof t.type=="string"&&(t.type=c2[t.type])}class Yh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const u2=t=>t/100;class $l extends Yh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xx(e);const{type:n=eo,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||eo;h!==eo&&typeof d[0]!="number"&&(this.mixKeyframes=jo(u2,mx(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Kh(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:C,type:P,onUpdate:b,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let F=this.currentTime,L=i;if(v){const se=Math.min(this.currentTime,o)/d;let Te=Math.floor(se),Pe=se%1;!Pe&&se>=1&&(Pe=1),Pe===1&&Te--,Te=Math.min(Te,v+1),!!(Te%2)&&(x==="reverse"?(Pe=1-Pe,C&&(Pe-=C/d)):x==="mirror"&&(L=c)),F=Vn(0,1,Pe)*d}const B=D?{done:!1,value:y[0]}:L.next(F);l&&(B.value=l(B.value));let{done:Y}=B;!D&&h!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return ie&&P!==zd&&(B.value=qh(y,this.options,E,this.speed)),b&&b(B.value),ie&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(this.currentTime)}set time(e){var n;e=Sn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=en(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=qE,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function d2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wr=t=>t*180/Math.PI,Ud=t=>{const e=Wr(Math.atan2(t[1],t[0]));return Wd(e)},h2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ud,rotateZ:Ud,skewX:t=>Wr(Math.atan(t[1])),skewY:t=>Wr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wd=t=>(t=t%360,t<0&&(t+=360),t),fy=Ud,py=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),my=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),f2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:py,scaleY:my,scale:t=>(py(t)+my(t))/2,rotateX:t=>Wd(Wr(Math.atan2(t[6],t[5]))),rotateY:t=>Wd(Wr(Math.atan2(-t[2],t[0]))),rotateZ:fy,rotate:fy,skewX:t=>Wr(Math.atan(t[4])),skewY:t=>Wr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hd(t){return t.includes("scale")?1:0}function $d(t,e){if(!t||t==="none")return Hd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=f2,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=h2,o=d}if(!o)return Hd(e);const l=i[e],c=o[1].split(",").map(m2);return typeof l=="function"?l(c):c[l]}const p2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $d(n,e)};function m2(t){return parseFloat(t.trim())}const Qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xi=new Set(Qi),gy=t=>t===Yi||t===de,g2=new Set(["x","y","z"]),y2=Qi.filter(t=>!g2.has(t));function v2(t){const e=[];return y2.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Gr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$d(e,"x"),y:(t,{transform:e})=>$d(e,"y")};Gr.translateX=Gr.x;Gr.translateY=Gr.y;const Kr=new Set;let Gd=!1,Kd=!1,qd=!1;function _x(){if(Kd){const t=Array.from(Kr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=v2(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Kd=!1,Gd=!1,Kr.forEach(t=>t.complete(qd)),Kr.clear()}function wx(){Kr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kd=!0)})}function x2(){qd=!0,wx(),_x(),qd=!1}class Qh{constructor(e,n,i,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Kr.add(this),Gd||(Gd=!0,Ae.read(wx),Ae.resolveKeyframes(_x))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}d2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kr.delete(this)}cancel(){this.state==="scheduled"&&(Kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _2=t=>t.startsWith("--");function w2(t,e,n){_2(e)?t.style.setProperty(e,n):t.style[e]=n}const C2=Vh(()=>window.ScrollTimeline!==void 0),S2={};function E2(t,e){const n=Vh(t);return()=>S2[e]??n()}const Cx=E2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zs=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,yy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zs([0,.65,.55,1]),circOut:Zs([.55,0,1,.45]),backIn:Zs([.31,.01,.66,-.59]),backOut:Zs([.33,1.53,.69,.99])};function Sx(t,e){if(t)return typeof t=="function"?Cx()?gx(t,e):"ease-out":sx(t)?Zs(t):Array.isArray(t)?t.map(n=>Sx(n,e)||yy.easeOut):yy[t]}function b2(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},p=void 0){const y={[e]:n};h&&(y.offset=h);const v=Sx(d,o);Array.isArray(v)&&(y.easing=v);const x={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(y,x)}function Ex(t){return typeof t=="function"&&"applyToOptions"in t}function T2({type:t,...e}){return Ex(t)&&Cx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class N2 extends Yh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Fh(typeof e.type!="string");const p=T2(e);this.animation=b2(n,i,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=qh(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):w2(n,i,y),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return en(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&C2()?(this.animation.timeline=e,nn):n(this)}}const bx={anticipate:tx,backInOut:ex,circInOut:rx};function k2(t){return t in bx}function P2(t){typeof t.ease=="string"&&k2(t.ease)&&(t.ease=bx[t.ease])}const vy=10;class I2 extends N2{constructor(e){P2(e),xx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new $l({...c,autoplay:!1}),h=Sn(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-vy).value,d.sample(h).value,vy),d.stop()}}const xy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xr.test(t)||t==="0")&&!t.startsWith("url("));function R2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M2(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=xy(o,e),d=xy(l,e);return!c||!d?!1:R2(t)||(n==="spring"||Ex(n))&&i}function Yd(t){t.duration=0,t.type="keyframes"}const j2=new Set(["opacity","clipPath","filter","transform"]),A2=Vh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D2(t){var y;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return A2()&&n&&j2.has(n)&&(n!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}const L2=40;class O2 extends Yh{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:p,element:y,...v}){var P;super(),this.stop=()=>{var b,E;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Ft.now();const x={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:p,element:y,...v},C=(y==null?void 0:y.KeyframeResolver)||Qh;this.keyframeResolver=new C(d,(b,E,k)=>this.onKeyframesResolved(b,E,x,!k),h,p,y),(P=this.keyframeResolver)==null||P.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Ft.now(),M2(e,l,c,d)||((Bn.instantAnimations||!h)&&(y==null||y(qh(e,i,n))),e[0]=e[e.length-1],Yd(i),i.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>L2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},C=!p&&D2(x)?new I2({...x,element:x.motionValue.owner.current}):new $l(x);C.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),x2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const F2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V2(t){const e=F2.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function Tx(t,e,n=1){const[i,o]=V2(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return Gv(c)?parseFloat(c):c}return Wh(o)?Tx(o,e,n+1):o}function Xh(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Nx=new Set(["width","height","top","left","right","bottom",...Qi]),B2={test:t=>t==="auto",parse:t=>t},kx=t=>e=>e.test(t),Px=[Yi,de,En,hr,ME,RE,B2],_y=t=>Px.find(kx(t));function z2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qv(t):!0}const U2=new Set(["brightness","contrast","saturate","opacity"]);function W2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Hh)||[];if(!i)return t;const o=n.replace(i,"");let l=U2.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const H2=/\b([a-z-]*)\(.*?\)/gu,Qd={...xr,getAnimatableNone:t=>{const e=t.match(H2);return e?e.map(W2).join(" "):t}},wy={...Yi,transform:Math.round},$2={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:rl,scaleX:rl,scaleY:rl,scaleZ:rl,skew:hr,skewX:hr,skewY:hr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:po,originX:ly,originY:ly,originZ:de},Zh={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...$2,zIndex:wy,fillOpacity:po,strokeOpacity:po,numOctaves:wy},G2={...Zh,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Qd,WebkitFilter:Qd},Ix=t=>G2[t];function Rx(t,e){let n=Ix(t);return n!==Qd&&(n=xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K2=new Set(["auto","none","0"]);function q2(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!K2.has(l)&&mo(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=Rx(n,o)}class Y2 extends Qh{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Wh(p))){const y=Tx(p,n.current);y!==void 0&&(e[h]=y),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Nx.has(i)||e.length!==2)return;const[o,l]=e,c=_y(o),d=_y(l);if(c!==d)if(gy(c)&&gy(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Gr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||z2(e[o]))&&i.push(o);i.length&&q2(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Gr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function Q2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Mx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function jx(t){return Kv(t)&&"offsetHeight"in t}const Cy=30,X2=t=>!isNaN(parseFloat(t)),to={current:void 0};class Z2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=Ft.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bh);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return to.current&&to.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cy);return Yv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qr(t,e){return new Z2(t,e)}const{schedule:Jh}=ox(queueMicrotask,!1),fn={x:!1,y:!1};function Ax(){return fn.x||fn.y}function J2(t){return t==="x"||t==="y"?fn[t]?null:(fn[t]=!0,()=>{fn[t]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function Dx(t,e){const n=Q2(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Sy(t){return!(t.pointerType==="touch"||Ax())}function eb(t,e,n={}){const[i,o,l]=Dx(t,n),c=d=>{if(!Sy(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const y=v=>{Sy(v)&&(p(v),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,o)};return i.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const Lx=(t,e)=>e?t===e?!0:Lx(t,e.parentElement):!1,ef=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nb(t){return tb.has(t.tagName)||t.tabIndex!==-1}const cl=new WeakSet;function Ey(t){return e=>{e.key==="Enter"&&t(e)}}function cd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rb=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Ey(()=>{if(cl.has(n))return;cd(n,"down");const o=Ey(()=>{cd(n,"up")}),l=()=>cd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function by(t){return ef(t)&&!Ax()}function ib(t,e,n={}){const[i,o,l]=Dx(t,n),c=d=>{const h=d.currentTarget;if(!by(d))return;cl.add(h);const p=e(h,d),y=(C,P)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),cl.has(h)&&cl.delete(h),by(C)&&typeof p=="function"&&p(C,{success:P})},v=C=>{y(C,h===window||h===document||n.useGlobalTarget||Lx(h,C.target))},x=C=>{y(C,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",x,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),jx(d)&&(d.addEventListener("focus",p=>rb(p,o)),!nb(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Ox(t){return Kv(t)&&"ownerSVGElement"in t}function sb(t){return Ox(t)&&t.tagName==="svg"}function ob(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=vx(o,l,c);return e?d(i):d}const ut=t=>!!(t&&t.getVelocity);function ab(t,e,n){const i=t.get();let o=null,l=i,c;const d=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,h=()=>{o&&(o.stop(),o=null)},p=()=>{h(),o=new $l({keyframes:[Ny(t.get()),Ny(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((y,v)=>{l=y,c=x=>v(Ty(x,d)),Ae.postRender(p)},h),ut(e)){const y=e.on("change",x=>t.set(Ty(x,d))),v=t.on("destroy",y);return()=>{y(),v()}}return h}function Ty(t,e){return e?t+e:t}function Ny(t){return typeof t=="number"?t:parseFloat(t)}const lb=[...Px,Qe,xr],cb=t=>lb.find(kx(t)),Lo=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ky(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ub(...t){return e=>{let n=!1;const i=t.map(o=>{const l=ky(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():ky(t[o],null)}}}}function db(...t){return R.useCallback(ub(...t),t)}class hb extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=jx(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fb({children:t,isPresent:e,anchorX:n,root:i}){const o=R.useId(),l=R.useRef(null),c=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=R.useContext(Lo),h=db(l,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:x,right:C}=c.current;if(e||!l.current||!p||!y)return;const P=n==="left"?`left: ${x}`:`right: ${C}`;l.current.dataset.motionPopId=o;const b=document.createElement("style");d&&(b.nonce=d);const E=i??document.head;return E.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${P}px !important;
            top: ${v}px !important;
          }
        `),()=>{E.contains(b)&&E.removeChild(b)}},[e]),m.jsx(hb,{isPresent:e,childRef:l,sizeRef:c,children:R.cloneElement(t,{ref:h})})}const pb=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const p=Mo(mb),y=R.useId();let v=!0,x=R.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:o,onExitComplete:C=>{p.set(C,!0);for(const P of p.values())if(!P)return;i&&i()},register:C=>(p.set(C,!1),()=>p.delete(C))}),[n,p,i]);return l&&v&&(x={...x}),R.useMemo(()=>{p.forEach((C,P)=>p.set(P,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),c==="popLayout"&&(t=m.jsx(fb,{isPresent:n,anchorX:d,root:h,children:t})),m.jsx(Hl.Provider,{value:x,children:t})};function mb(){return new Map}function Fx(t=!0){const e=R.useContext(Hl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=R.useId();R.useEffect(()=>{if(t)return o(l)},[t]);const c=R.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const il=t=>t.key||"";function Py(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Zi=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[p,y]=Fx(c),v=R.useMemo(()=>Py(t),[t]),x=c&&!p?[]:v.map(il),C=R.useRef(!0),P=R.useRef(v),b=Mo(()=>new Map),[E,k]=R.useState(v),[D,F]=R.useState(v);Dh(()=>{C.current=!1,P.current=v;for(let Y=0;Y<D.length;Y++){const ie=il(D[Y]);x.includes(ie)?b.delete(ie):b.get(ie)!==!0&&b.set(ie,!1)}},[D,x.length,x.join("-")]);const L=[];if(v!==E){let Y=[...v];for(let ie=0;ie<D.length;ie++){const se=D[ie],Te=il(se);x.includes(Te)||(Y.splice(ie,0,se),L.push(se))}return l==="wait"&&L.length&&(Y=L),F(Py(Y)),k(v),null}const{forceRender:B}=R.useContext(jh);return m.jsx(m.Fragment,{children:D.map(Y=>{const ie=il(Y),se=c&&!p?!1:v===D||x.includes(ie),Te=()=>{if(b.has(ie))b.set(ie,!0);else return;let Pe=!0;b.forEach(tt=>{tt||(Pe=!1)}),Pe&&(B==null||B(),F(P.current),c&&(y==null||y()),i&&i())};return m.jsx(pb,{isPresent:se,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:se?void 0:Te,anchorX:d,children:Y},ie)})})},Vx=R.createContext({strict:!1}),Iy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bi={};for(const t in Iy)Bi[t]={isEnabled:e=>Iy[t].some(n=>!!e[n])};function gb(t){for(const e in t)Bi[e]={...Bi[e],...t[e]}}const yb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yb.has(t)}let Bx=t=>!vl(t);function vb(t){typeof t=="function"&&(Bx=e=>e.startsWith("on")?!vl(e):t(e))}try{vb(require("@emotion/is-prop-valid").default)}catch{}function xb(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Bx(o)||n===!0&&vl(o)||!e&&!vl(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Gl=R.createContext({});function Kl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function go(t){return typeof t=="string"||Array.isArray(t)}const tf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nf=["initial",...tf];function ql(t){return Kl(t.animate)||nf.some(e=>go(t[e]))}function zx(t){return!!(ql(t)||t.variants)}function _b(t,e){if(ql(t)){const{initial:n,animate:i}=t;return{initial:n===!1||go(n)?n:void 0,animate:go(i)?i:void 0}}return t.inherit!==!1?e:{}}function wb(t){const{initial:e,animate:n}=_b(t,R.useContext(Gl));return R.useMemo(()=>({initial:e,animate:n}),[Ry(e),Ry(n)])}function Ry(t){return Array.isArray(t)?t.join(" "):t}function My(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=My(t,e.target.x),i=My(t,e.target.y);return`${n}% ${i}%`}},Cb={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=xr.parse(t);if(o.length>5)return i;const l=xr.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const p=ze(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}},Xd={borderRadius:{...Gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:Cb};function Ux(t,{layout:e,layoutId:n}){return Xi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xd[t]||t==="opacity")}const Sb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eb=Qi.length;function bb(t,e,n){let i="",o=!0;for(let l=0;l<Eb;l++){const c=Qi[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const p=Mx(d,Zh[c]);if(!h){o=!1;const y=Sb[c]||c;i+=`${y}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function rf(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(Xi.has(h)){c=!0;continue}else if(lx(h)){o[h]=p;continue}else{const y=Mx(p,Zh[h]);h.startsWith("origin")?(d=!0,l[h]=y):i[h]=y}}if(e.transform||(c||n?i.transform=bb(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${h} ${p} ${y}`}}const sf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wx(t,e,n){for(const i in e)!ut(e[i])&&!Ux(i,n)&&(t[i]=e[i])}function Tb({transformTemplate:t},e){return R.useMemo(()=>{const n=sf();return rf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Nb(t,e){const n=t.style||{},i={};return Wx(i,n,t),Object.assign(i,Tb(t,e)),i}function kb(t,e){const n={},i=Nb(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Pb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ib={offset:"strokeDashoffset",array:"strokeDasharray"};function Rb(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?Pb:Ib;t[l.offset]=de.transform(-i);const c=de.transform(e),d=de.transform(n);t[l.array]=`${c} ${d}`}function Hx(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,p,y){if(rf(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),o!==void 0&&Rb(v,o,l,c,!1)}const $x=()=>({...sf(),attrs:{}}),Gx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Mb(t,e,n,i){const o=R.useMemo(()=>{const l=$x();return Hx(l,e,Gx(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Wx(l,t.style,t),o.style={...l,...o.style}}return o}const jb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function of(t){return typeof t!="string"||t.includes("-")?!1:!!(jb.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ab(t,e,n,{latestValues:i},o,l=!1){const d=(of(t)?Mb:kb)(e,i,o,t),h=xb(e,typeof t=="string",l),p=t!==R.Fragment?{...h,...d,ref:n}:{},{children:y}=e,v=R.useMemo(()=>ut(y)?y.get():y,[y]);return R.createElement(t,{...p,children:v})}function jy(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function af(t,e,n,i){if(typeof e=="function"){const[o,l]=jy(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=jy(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function ul(t){return ut(t)?t.get():t}function Db({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:Lb(n,i,o,t),renderState:e()}}function Lb(t,e,n,i){const o={},l=i(t,{});for(const x in l)o[x]=ul(l[x]);let{initial:c,animate:d}=t;const h=ql(t),p=zx(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!Kl(v)){const x=Array.isArray(v)?v:[v];for(let C=0;C<x.length;C++){const P=af(t,x[C]);if(P){const{transitionEnd:b,transition:E,...k}=P;for(const D in k){let F=k[D];if(Array.isArray(F)){const L=y?F.length-1:0;F=F[L]}F!==null&&(o[D]=F)}for(const D in b)o[D]=b[D]}}}return o}const Kx=t=>(e,n)=>{const i=R.useContext(Gl),o=R.useContext(Hl),l=()=>Db(t,e,i,o);return n?l():Mo(l)};function lf(t,e,n){var l;const{style:i}=t,o={};for(const c in i)(ut(i[c])||e.style&&ut(e.style[c])||Ux(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=i[c]);return o}const Ob=Kx({scrapeMotionValuesFromProps:lf,createRenderState:sf});function qx(t,e,n){const i=lf(t,e,n);for(const o in t)if(ut(t[o])||ut(e[o])){const l=Qi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const Fb=Kx({scrapeMotionValuesFromProps:qx,createRenderState:$x}),Vb=Symbol.for("motionComponentSymbol");function Ii(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bb(t,e,n){return R.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ii(n)&&(n.current=i))},[e])}const cf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zb="framerAppearId",Yx="data-"+cf(zb),Qx=R.createContext({});function Ub(t,e,n,i,o){var b,E;const{visualElement:l}=R.useContext(Gl),c=R.useContext(Vx),d=R.useContext(Hl),h=R.useContext(Lo).reducedMotion,p=R.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const y=p.current,v=R.useContext(Qx);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&Wb(p.current,n,o,v);const x=R.useRef(!1);R.useInsertionEffect(()=>{y&&x.current&&y.update(n,d)});const C=n[Yx],P=R.useRef(!!C&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,C))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,C)));return Dh(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),P.current&&y.animationState&&y.animationState.animateChanges())}),R.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,C)}),P.current=!1),y.enteringChildren=void 0)}),y}function Wb(t,e,n,i){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Xx(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&Ii(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:h,layoutRoot:p})}function Xx(t){if(t)return t.options.allowProjection!==!1?t.projection:Xx(t.parent)}function ud(t,{forwardMotionProps:e=!1}={},n,i){n&&gb(n);const o=of(t)?Fb:Ob;function l(d,h){let p;const y={...R.useContext(Lo),...d,layoutId:Hb(d)},{isStatic:v}=y,x=wb(d),C=o(d,v);if(!v&&Ah){$b();const P=Gb(y);p=P.MeasureLayout,x.visualElement=Ub(t,C,y,i,P.ProjectionNode)}return m.jsxs(Gl.Provider,{value:x,children:[p&&x.visualElement?m.jsx(p,{visualElement:x.visualElement,...y}):null,Ab(t,d,Bb(C,x.visualElement,h),C,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=R.forwardRef(l);return c[Vb]=t,c}function Hb({layoutId:t}){const e=R.useContext(jh).id;return e&&t!==void 0?e+"-"+t:t}function $b(t,e){R.useContext(Vx).strict}function Gb(t){const{drag:e,layout:n}=Bi;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Kb(t,e){if(typeof Proxy>"u")return ud;const n=new Map,i=(l,c)=>ud(l,c,t,e),o=(l,c)=>i(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,ud(c,void 0,t,e)),n.get(c))})}function Zx({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function qb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yb(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function dd(t){return t===void 0||t===1}function Zd({scale:t,scaleX:e,scaleY:n}){return!dd(t)||!dd(e)||!dd(n)}function Vr(t){return Zd(t)||Jx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Jx(t){return Ay(t.x)||Ay(t.y)}function Ay(t){return t&&t!=="0%"}function xl(t,e,n){const i=t-n,o=e*i;return n+o}function Dy(t,e,n,i,o){return o!==void 0&&(t=xl(t,o,i)),xl(t,n,i)+e}function Jd(t,e=0,n=1,i,o){t.min=Dy(t.min,e,n,i,o),t.max=Dy(t.max,e,n,i,o)}function e1(t,{x:e,y:n}){Jd(t.x,e.translate,e.scale,e.originPoint),Jd(t.y,n.translate,n.scale,n.originPoint)}const Ly=.999999999999,Oy=1.0000000000001;function Qb(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Mi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,e1(t,c)),i&&Vr(l.latestValues)&&Mi(t,l.latestValues))}e.x<Oy&&e.x>Ly&&(e.x=1),e.y<Oy&&e.y>Ly&&(e.y=1)}function Ri(t,e){t.min=t.min+e,t.max=t.max+e}function Fy(t,e,n,i,o=.5){const l=ze(t.min,t.max,o);Jd(t,e,n,l,i)}function Mi(t,e){Fy(t.x,e.x,e.scaleX,e.scale,e.originX),Fy(t.y,e.y,e.scaleY,e.scale,e.originY)}function t1(t,e){return Zx(Yb(t.getBoundingClientRect(),e))}function Xb(t,e,n){const i=t1(t,n),{scroll:o}=e;return o&&(Ri(i.x,o.offset.x),Ri(i.y,o.offset.y)),i}const Vy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ji=()=>({x:Vy(),y:Vy()}),By=()=>({min:0,max:0}),et=()=>({x:By(),y:By()}),eh={current:null},n1={current:!1};function Zb(){if(n1.current=!0,!!Ah)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eh.current=t.matches;t.addEventListener("change",e),e()}else eh.current=!1}const Jb=new WeakMap;function eT(t,e,n){for(const i in e){const o=e[i],l=n[i];if(ut(o))t.addValue(i,o);else if(ut(l))t.addValue(i,qr(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(i);t.addValue(i,qr(c!==void 0?c:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const zy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tT{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ft.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ae.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ql(n),this.isVariantNode=zx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const C=v[x];h[x]!==void 0&&ut(C)&&C.set(h[x])}}mount(e){var n;this.current=e,Jb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),n1.current||Zb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zn(this.notifyUpdate),zn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xi.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ae.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bi){const n=Bi[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<zy.length;i++){const o=zy[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=eT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=qr(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Gv(i)||qv(i))?i=parseFloat(i):!cb(i)&&xr.test(n)&&(i=Rx(e,n)),this.setBaseTarget(e,ut(i)?i.get():i)),ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=af(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ut(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Jh.render(this.render)}}class r1 extends tT{constructor(){super(...arguments),this.KeyframeResolver=Y2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function i1(t,{style:e,vars:n},i,o){const l=t.style;let c;for(c in e)l[c]=e[c];o==null||o.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function nT(t){return window.getComputedStyle(t)}class rT extends r1{constructor(){super(...arguments),this.type="html",this.renderInstance=i1}readValueFromInstance(e,n){var i;if(Xi.has(n))return(i=this.projection)!=null&&i.isProjecting?Hd(n):p2(e,n);{const o=nT(e),l=(lx(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t1(e,n)}build(e,n,i){rf(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return lf(e,n,i)}}const s1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iT(t,e,n,i){i1(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(s1.has(o)?o:cf(o),e.attrs[o])}class sT extends r1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xi.has(n)){const i=Ix(n);return i&&i.default||0}return n=s1.has(n)?n:cf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return qx(e,n,i)}build(e,n,i){Hx(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){iT(e,n,i,o)}mount(e){this.isSVGTag=Gx(e.tagName),super.mount(e)}}const oT=(t,e)=>of(t)?new sT(e):new rT(e,{allowProjection:t!==R.Fragment});function Di(t,e,n){const i=t.getProps();return af(i,e,n!==void 0?n:i.custom,t)}const th=t=>Array.isArray(t);function aT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qr(n))}function lT(t){return th(t)?t[t.length-1]||0:t}function cT(t,e){const n=Di(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const c in l){const d=lT(l[c]);aT(t,c,d)}}function uT(t){return!!(ut(t)&&t.add)}function nh(t,e){const n=t.getValue("willChange");if(uT(n))return n.add(e);if(!n&&Bn.WillChange){const i=new Bn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function o1(t){return t.props[Yx]}const dT=t=>t!==null;function hT(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(dT),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const fT={type:"spring",stiffness:500,damping:25,restSpeed:10},pT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mT={type:"keyframes",duration:.8},gT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yT=(t,{keyframes:e})=>e.length>2?mT:Xi.has(t)?t.startsWith("scale")?pT(e[1]):fT:gT;function vT({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:p,...y}){return!!Object.keys(y).length}const uf=(t,e,n,i={},o,l)=>c=>{const d=Xh(i,t)||{},h=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Sn(h);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};vT(d)||Object.assign(y,yT(t,y)),y.duration&&(y.duration=Sn(y.duration)),y.repeatDelay&&(y.repeatDelay=Sn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Yd(y),y.delay===0&&(v=!0)),(Bn.instantAnimations||Bn.skipAnimations)&&(v=!0,Yd(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const x=hT(y.keyframes,d);if(x!==void 0){Ae.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new $l(y):new O2(y)};function xT({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function a1(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const y in d){const v=t.getValue(y,t.latestValues[y]??null),x=d[y];if(x===void 0||p&&xT(p,y))continue;const C={delay:n,...Xh(l||{},y)},P=v.get();if(P!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===P&&!C.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const k=o1(t);if(k){const D=window.MotionHandoffAnimation(k,y,Ae);D!==null&&(C.startTime=D,b=!0)}}nh(t,y),v.start(uf(y,v,x,t.shouldReduceMotion&&Nx.has(y)?{type:!1}:C,t,b));const E=v.animation;E&&h.push(E)}return c&&Promise.all(h).then(()=>{Ae.update(()=>{c&&cT(t,c)})}),h}function l1(t,e,n,i=0,o=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):o===1?l*i:d-l*i}function rh(t,e,n={}){var h;const i=Di(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(a1(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:x}=o;return _T(t,e,p,y,v,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,y]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function _T(t,e,n=0,i=0,o=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(rh(h,e,{...c,delay:n+(typeof i=="function"?0:i)+l1(t.variantChildren,h,i,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function wT(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>rh(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=rh(t,e,n);else{const o=typeof e=="function"?Di(t,e,n.custom):e;i=Promise.all(a1(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function c1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const CT=nf.length;function u1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?u1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CT;n++){const i=nf[n],o=t.props[i];(go(o)||o===!1)&&(e[i]=o)}return e}const ST=[...tf].reverse(),ET=tf.length;function bT(t){return e=>Promise.all(e.map(({animation:n,options:i})=>wT(t,n,i)))}function TT(t){let e=bT(t),n=Uy(),i=!0;const o=h=>(p,y)=>{var x;const v=Di(t,y,h==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:C,transitionEnd:P,...b}=v;p={...p,...b,...P}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,y=u1(t.parent)||{},v=[],x=new Set;let C={},P=1/0;for(let E=0;E<ET;E++){const k=ST[E],D=n[k],F=p[k]!==void 0?p[k]:y[k],L=go(F),B=k===h?D.isActive:null;B===!1&&(P=E);let Y=F===y[k]&&F!==p[k]&&L;if(Y&&i&&t.manuallyAnimateOnMount&&(Y=!1),D.protectedKeys={...C},!D.isActive&&B===null||!F&&!D.prevProp||Kl(F)||typeof F=="boolean")continue;const ie=NT(D.prevProp,F);let se=ie||k===h&&D.isActive&&!Y&&L||E>P&&L,Te=!1;const Pe=Array.isArray(F)?F:[F];let tt=Pe.reduce(o(k),{});B===!1&&(tt={});const{prevResolvedValues:bt={}}=D,dt={...bt,...tt},ht=pe=>{se=!0,x.has(pe)&&(Te=!0,x.delete(pe)),D.needsAnimating[pe]=!0;const $=t.getValue(pe);$&&($.liveStyle=!1)};for(const pe in dt){const $=tt[pe],ae=bt[pe];if(C.hasOwnProperty(pe))continue;let T=!1;th($)&&th(ae)?T=!c1($,ae):T=$!==ae,T?$!=null?ht(pe):x.add(pe):$!==void 0&&x.has(pe)?ht(pe):D.protectedKeys[pe]=!0}D.prevProp=F,D.prevResolvedValues=tt,D.isActive&&(C={...C,...tt}),i&&t.blockInitialAnimation&&(se=!1);const ft=Y&&ie;se&&(!ft||Te)&&v.push(...Pe.map(pe=>{const $={type:k};if(typeof pe=="string"&&i&&!ft&&t.manuallyAnimateOnMount&&t.parent){const{parent:ae}=t,T=Di(ae,pe);if(ae.enteringChildren&&T){const{delayChildren:w}=T.transition||{};$.delay=l1(ae.enteringChildren,t,w)}}return{animation:pe,options:$}}))}if(x.size){const E={};if(typeof p.initial!="boolean"){const k=Di(t,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(E.transition=k.transition)}x.forEach(k=>{const D=t.getBaseTarget(k),F=t.getValue(k);F&&(F.liveStyle=!0),E[k]=D??null}),v.push({animation:E})}let b=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(v):Promise.resolve()}function d(h,p){var v;if(n[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var C;return(C=x.animationState)==null?void 0:C.setActive(h,p)}),n[h].isActive=p;const y=c(h);for(const x in n)n[x].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Uy()}}}function NT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!c1(e,t):!1}function Fr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uy(){return{animate:Fr(!0),whileInView:Fr(),whileHover:Fr(),whileTap:Fr(),whileDrag:Fr(),whileFocus:Fr(),exit:Fr()}}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kT extends Sr{constructor(e){super(e),e.animationState||(e.animationState=TT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PT=0;class IT extends Sr{constructor(){super(...arguments),this.id=PT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RT={animation:{Feature:kT},exit:{Feature:IT}};function yo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Oo(t){return{point:{x:t.pageX,y:t.pageY}}}const MT=t=>e=>ef(e)&&t(e,Oo(e));function no(t,e,n,i){return yo(t,e,MT(n),i)}const d1=1e-4,jT=1-d1,AT=1+d1,h1=.01,DT=0-h1,LT=0+h1;function Pt(t){return t.max-t.min}function OT(t,e,n){return Math.abs(t-e)<=n}function Wy(t,e,n,i=.5){t.origin=i,t.originPoint=ze(e.min,e.max,t.origin),t.scale=Pt(n)/Pt(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jT&&t.scale<=AT||isNaN(t.scale))&&(t.scale=1),(t.translate>=DT&&t.translate<=LT||isNaN(t.translate))&&(t.translate=0)}function ro(t,e,n,i){Wy(t.x,e.x,n.x,i?i.originX:void 0),Wy(t.y,e.y,n.y,i?i.originY:void 0)}function Hy(t,e,n){t.min=n.min+e.min,t.max=t.min+Pt(e)}function FT(t,e,n){Hy(t.x,e.x,n.x),Hy(t.y,e.y,n.y)}function $y(t,e,n){t.min=e.min-n.min,t.max=t.min+Pt(e)}function _l(t,e,n){$y(t.x,e.x,n.x),$y(t.y,e.y,n.y)}function Jt(t){return[t("x"),t("y")]}const f1=({current:t})=>t?t.ownerDocument.defaultView:null,Gy=(t,e)=>Math.abs(t-e);function VT(t,e){const n=Gy(t.x,e.x),i=Gy(t.y,e.y);return Math.sqrt(n**2+i**2)}class p1{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=fd(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,P=VT(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!P)return;const{point:b}=x,{timestamp:E}=yt;this.history.push({...b,timestamp:E});const{onStart:k,onMove:D}=this.handlers;C||(k&&k(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,C)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=hd(C,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(x,C)=>{this.end();const{onEnd:P,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=fd(x.type==="pointercancel"?this.lastMoveEventInfo:hd(C,this.transformPagePoint),this.history);this.startEvent&&P&&P(x,k),b&&b(x,k)},!ef(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const d=Oo(e),h=hd(d,this.transformPagePoint),{point:p}=h,{timestamp:y}=yt;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,fd(h,this.history)),this.removeListeners=jo(no(this.contextWindow,"pointermove",this.handlePointerMove),no(this.contextWindow,"pointerup",this.handlePointerUp),no(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zn(this.updatePoint)}}function hd(t,e){return e?{point:e(t.point)}:t}function Ky(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fd({point:t},e){return{point:t,delta:Ky(t,m1(e)),offset:Ky(t,BT(e)),velocity:zT(e,.1)}}function BT(t){return t[0]}function m1(t){return t[t.length-1]}function zT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=m1(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Sn(e)));)n--;if(!i)return{x:0,y:0};const l=en(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UT(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ze(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ze(n,t,i.max):Math.min(t,n)),t}function qy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WT(t,{top:e,left:n,bottom:i,right:o}){return{x:qy(t.x,n,o),y:qy(t.y,e,i)}}function Yy(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function HT(t,e){return{x:Yy(t.x,e.x),y:Yy(t.y,e.y)}}function $T(t,e){let n=.5;const i=Pt(t),o=Pt(e);return o>i?n=fo(e.min,e.max-i,t.min):i>o&&(n=fo(t.min,t.max-o,e.min)),Vn(0,1,n)}function GT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ih=.35;function KT(t=ih){return t===!1?t=0:t===!0&&(t=ih),{x:Qy(t,"left","right"),y:Qy(t,"top","bottom")}}function Qy(t,e,n){return{min:Xy(t,e),max:Xy(t,n)}}function Xy(t,e){return typeof t=="number"?t:t[e]||0}const qT=new WeakMap;class YT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oo(v).point)},c=(v,x)=>{const{drag:C,dragPropagation:P,onDragStart:b}=this.getProps();if(C&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J2(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(k=>{let D=this.getAxisMotionValue(k).get()||0;if(En.test(D)){const{projection:F}=this.visualElement;if(F&&F.layout){const L=F.layout.layoutBox[k];L&&(D=Pt(L)*(parseFloat(D)/100))}}this.originPoint[k]=D}),b&&Ae.postRender(()=>b(v,x)),nh(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:C,dragDirectionLock:P,onDirectionLock:b,onDrag:E}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:k}=x;if(P&&this.currentDirection===null){this.currentDirection=QT(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",x.point,k),this.updateAxis("y",x.point,k),this.visualElement.render(),E&&E(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Jt(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new p1(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:f1(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ae.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!sl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=UT(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&Ii(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=WT(i.layoutBox,e):this.constraints=!1,this.elastic=KT(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=GT(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ii(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Xb(i,o.root,this.visualElement.getTransformPagePoint());let c=HT(o.layout.layoutBox,l);if(n){const d=n(qb(c));this.hasMutatedConstraints=!!d,d&&(c=Zx(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Jt(y=>{if(!sl(y,n,this.currentDirection))return;let v=h&&h[y]||{};c&&(v={min:0,max:0});const x=o?200:1e6,C=o?40:1e7,P={type:"inertia",velocity:i?e[y]:0,bounceStiffness:x,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,P)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return nh(this.visualElement,e),i.start(uf(e,i,0,n,this.visualElement,!1))}stopAnimation(){Jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Jt(n=>{const{drag:i}=this.getProps();if(!sl(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-ze(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ii(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Jt(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=$T({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Jt(c=>{if(!sl(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(ze(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;qT.set(this.visualElement,this);const e=this.visualElement.current,n=no(e,"pointerdown",h=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Ii(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ae.read(i);const c=yo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Jt(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=h[y].translate,v.set(v.get()+h[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ih,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function sl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QT(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XT extends Sr{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new YT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zy=t=>(e,n)=>{t&&Ae.postRender(()=>t(e,n))};class ZT extends Sr{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new p1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zy(e),onStart:Zy(n),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Ae.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=no(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let pd=!1;class JT extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),pd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),dl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,pd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;pd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g1(t){const[e,n]=Fx(),i=R.useContext(jh);return m.jsx(JT,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(Qx),isPresent:e,safeToRemove:n})}function eN(t,e,n){const i=ut(t)?t:qr(t);return i.start(uf("",i,e,n)),i.animation}const tN=(t,e)=>t.depth-e.depth;class nN{constructor(){this.children=[],this.isDirty=!1}add(e){Lh(this.children,e),this.isDirty=!0}remove(e){Oh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tN),this.isDirty=!1,this.children.forEach(e)}}function rN(t,e){const n=Ft.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(zn(i),t(l-e))};return Ae.setup(i,!0),()=>zn(i)}const y1=["TopLeft","TopRight","BottomLeft","BottomRight"],iN=y1.length,Jy=t=>typeof t=="string"?parseFloat(t):t,e0=t=>typeof t=="number"||de.test(t);function sN(t,e,n,i,o,l){o?(t.opacity=ze(0,n.opacity??1,oN(i)),t.opacityExit=ze(e.opacity??1,0,aN(i))):l&&(t.opacity=ze(e.opacity??1,n.opacity??1,i));for(let c=0;c<iN;c++){const d=`border${y1[c]}Radius`;let h=t0(e,d),p=t0(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||e0(h)===e0(p)?(t[d]=Math.max(ze(Jy(h),Jy(p),i),0),(En.test(p)||En.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,i))}function t0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oN=v1(0,.5,nx),aN=v1(.5,.95,nn);function v1(t,e,n){return i=>i<t?0:i>e?1:n(fo(t,e,i))}function n0(t,e){t.min=e.min,t.max=e.max}function hn(t,e){n0(t.x,e.x),n0(t.y,e.y)}function r0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function i0(t,e,n,i,o){return t-=e,t=xl(t,1/n,i),o!==void 0&&(t=xl(t,1/o,i)),t}function lN(t,e=0,n=1,i=.5,o,l=t,c=t){if(En.test(e)&&(e=parseFloat(e),e=ze(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ze(l.min,l.max,i);t===l&&(d-=e),t.min=i0(t.min,e,n,d,o),t.max=i0(t.max,e,n,d,o)}function s0(t,e,[n,i,o],l,c){lN(t,e[n],e[i],e[o],e.scale,l,c)}const cN=["x","scaleX","originX"],uN=["y","scaleY","originY"];function o0(t,e,n,i){s0(t.x,e,cN,n?n.x:void 0,i?i.x:void 0),s0(t.y,e,uN,n?n.y:void 0,i?i.y:void 0)}function a0(t){return t.translate===0&&t.scale===1}function x1(t){return a0(t.x)&&a0(t.y)}function l0(t,e){return t.min===e.min&&t.max===e.max}function dN(t,e){return l0(t.x,e.x)&&l0(t.y,e.y)}function c0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _1(t,e){return c0(t.x,e.x)&&c0(t.y,e.y)}function u0(t){return Pt(t.x)/Pt(t.y)}function d0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hN{constructor(){this.members=[]}add(e){Lh(this.members,e),e.scheduleRender()}remove(e){if(Oh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fN(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:x,skewX:C,skewY:P}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),C&&(i+=`skewX(${C}deg) `),P&&(i+=`skewY(${P}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const md=["","X","Y","Z"],pN=1e3;let mN=0;function gd(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function w1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=o1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ae,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&w1(i)}function C1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=mN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vN),this.nodes.forEach(CN),this.nodes.forEach(SN),this.nodes.forEach(xN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new nN)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Bh),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ox(c)&&!sb(c),this.instance=c;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ae.read(()=>{v=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=rN(x,250),dl.hasAnimatedSinceResize&&(dl.hasAnimatedSinceResize=!1,this.nodes.forEach(p0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||kN,{onLayoutAnimationStart:b,onLayoutAnimationComplete:E}=p.getProps(),k=!this.targetLayout||!_1(this.targetLayout,C),D=!v&&x;if(this.options.layoutRoot||this.resumeFrom||D||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Xh(P,"layout"),onPlay:b,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,D)}else v||p0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(f0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wN),this.nodes.forEach(gN),this.nodes.forEach(yN)):this.nodes.forEach(f0),this.clearAllSnapshots();const d=Ft.now();yt.delta=Vn(0,1e3/60,d-yt.timestamp),yt.timestamp=d,yt.isProcessing=!0,id.update.process(yt),id.preRender.process(yt),id.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_N),this.sharedNodes.forEach(bN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!x1(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Vr(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),PN(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return et();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(IN))){const{scroll:y}=this.root;y&&(Ri(d.x,y.offset.x),Ri(d.y,y.offset.y))}return d}removeElementScroll(c){var h;const d=et();if(hn(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:x}=y;y!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&hn(d,c),Ri(d.x,v.offset.x),Ri(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const h=et();hn(h,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Mi(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Vr(y.latestValues)&&Mi(h,y.latestValues)}return Vr(this.latestValues)&&Mi(h,this.latestValues),h}removeTransform(c){const d=et();hn(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Vr(p.latestValues))continue;Zd(p.latestValues)&&p.updateSnapshot();const y=et(),v=p.measurePageBox();hn(y,v),o0(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Vr(this.latestValues)&&o0(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var C;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=yt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),e1(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zd(this.parent.latestValues)||Jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),_l(this.relativeTargetOrigin,d,h),hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var P;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(P=this.parent)!=null&&P.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;Qb(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=et());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r0(this.prevProjectionDelta.x,this.projectionDelta.x),r0(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!d0(this.projectionDelta.x,this.prevProjectionDelta.x)||!d0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ji(),this.projectionDelta=ji(),this.projectionDeltaWithTransform=ji()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},y={...this.latestValues},v=ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=et(),C=h?h.source:void 0,P=this.layout?this.layout.source:void 0,b=C!==P,E=this.getStack(),k=!E||E.members.length<=1,D=!!(b&&!k&&this.options.crossfade===!0&&!this.path.some(NN));this.animationProgress=0;let F;this.mixTargetDelta=L=>{const B=L/1e3;m0(v.x,c.x,B),m0(v.y,c.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_l(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TN(this.relativeTarget,this.relativeTargetOrigin,x,B),F&&dN(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=et()),hn(F,this.relativeTarget)),b&&(this.animationValues=y,sN(y,p,this.latestValues,B,D,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{dl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qr(0)),this.currentAnimation=eN(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:y}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&S1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||et();const v=Pt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const x=Pt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+x}hn(d,h),Mi(d,y),ro(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hN),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&gd("z",c,p,this.animationValues);for(let y=0;y<md.length;y++)gd(`rotate${md[y]}`,c,p,this.animationValues),gd(`skew${md[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ul(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ul(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=fN(this.projectionDeltaWithTransform,this.treeScale,y);h&&(v=h(y,v)),c.transform=v;const{x,y:C}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const P in Xd){if(y[P]===void 0)continue;const{correct:b,applyTo:E,isCSSVariable:k}=Xd[P],D=v==="none"?y[P]:b(y[P],p);if(E){const F=E.length;for(let L=0;L<F;L++)c[E[L]]=D}else k?this.options.visualElement.renderState.vars[P]=D:c[P]=D}this.options.layoutId&&(c.pointerEvents=p===this?ul(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(h0),this.root.sharedNodes.clear()}}}function gN(t){t.updateLayout()}function yN(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Jt(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],C=Pt(x);x.min=i[v].min,x.max=x.min+C}):S1(l,e.layoutBox,i)&&Jt(v=>{const x=c?e.measuredBox[v]:e.layoutBox[v],C=Pt(i[v]);x.max=x.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+C)});const d=ji();ro(d,i,e.layoutBox);const h=ji();c?ro(h,t.applyTransform(o,!0),e.measuredBox):ro(h,i,e.layoutBox);const p=!x1(d);let y=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:C}=v;if(x&&C){const P=et();_l(P,e.layoutBox,x.layoutBox);const b=et();_l(b,i,C.layoutBox),_1(P,b)||(y=!0),v.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=P,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function vN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _N(t){t.clearSnapshot()}function h0(t){t.clearMeasurements()}function f0(t){t.isLayoutDirty=!1}function wN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CN(t){t.resolveTargetDelta()}function SN(t){t.calcProjection()}function EN(t){t.resetSkewAndRotation()}function bN(t){t.removeLeadSnapshot()}function m0(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function g0(t,e,n,i){t.min=ze(e.min,n.min,i),t.max=ze(e.max,n.max,i)}function TN(t,e,n,i){g0(t.x,e.x,n.x,i),g0(t.y,e.y,n.y,i)}function NN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kN={duration:.45,ease:[.4,0,.1,1]},y0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v0=y0("applewebkit/")&&!y0("chrome/")?Math.round:nn;function x0(t){t.min=v0(t.min),t.max=v0(t.max)}function PN(t){x0(t.x),x0(t.y)}function S1(t,e,n){return t==="position"||t==="preserve-aspect"&&!OT(u0(e),u0(n),.2)}function IN(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RN=C1({attachResizeListener:(t,e)=>yo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yd={current:void 0},E1=C1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yd.current){const t=new RN({});t.mount(window),t.setOptions({layoutScroll:!0}),yd.current=t}return yd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MN={pan:{Feature:ZT},drag:{Feature:XT,ProjectionNode:E1,MeasureLayout:g1}};function _0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&Ae.postRender(()=>l(e,Oo(e)))}class jN extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=eb(e,(n,i)=>(_0(this.node,i,"Start"),o=>_0(this.node,o,"End"))))}unmount(){}}class AN extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jo(yo(this.node.current,"focus",()=>this.onFocus()),yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&Ae.postRender(()=>l(e,Oo(e)))}class DN extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=ib(e,(n,i)=>(w0(this.node,i,"Start"),(o,{success:l})=>w0(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sh=new WeakMap,vd=new WeakMap,LN=t=>{const e=sh.get(t.target);e&&e(t)},ON=t=>{t.forEach(LN)};function FN({root:t,...e}){const n=t||document;vd.has(n)||vd.set(n,{});const i=vd.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(ON,{root:t,...e})),i[o]}function VN(t,e,n){const i=FN(e);return sh.set(t,n),i.observe(t),()=>{sh.delete(t),i.unobserve(t)}}const BN={some:0,all:1};class zN extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:BN[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=p?y:v;x&&x(h)};return VN(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UN(e,n))&&this.startObserver()}unmount(){}}function UN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WN={inView:{Feature:zN},tap:{Feature:DN},focus:{Feature:AN},hover:{Feature:jN}},HN={layout:{ProjectionNode:E1,MeasureLayout:g1}},$N={...RT,...WN,...MN,...HN},V=Kb($N,oT);function wl(t){const e=Mo(()=>qr(t)),{isStatic:n}=R.useContext(Lo);if(n){const[,i]=R.useState(t);R.useEffect(()=>e.on("change",i),[])}return e}function b1(t,e){const n=wl(e()),i=()=>n.set(e());return i(),Dh(()=>{const o=()=>Ae.preRender(i,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),zn(i)}}),n}function GN(t){to.current=[],t();const e=b1(to.current,t);return to.current=void 0,e}function ki(t,e,n,i){if(typeof t=="function")return GN(t);const o=typeof e=="function"?e:ob(e,n,i);return Array.isArray(t)?C0(t,o):C0([t],([l])=>o(l))}function C0(t,e){const n=Mo(()=>[]);return b1(t,()=>{n.length=0;const i=t.length;for(let o=0;o<i;o++)n[o]=t[o].get();return e(n)})}function S0(t,e={}){const{isStatic:n}=R.useContext(Lo),i=()=>ut(t)?t.get():t;if(n)return ki(i);const o=wl(i());return R.useInsertionEffect(()=>ab(o,t,e),[o,JSON.stringify(e)]),o}const E0=[{suit:"",value:"A",color:"white"},{suit:"",value:"K",color:"#ef4444"},{suit:"",value:"Q",color:"#ef4444"},{suit:"",value:"J",color:"white"},{suit:"",value:"10",color:"white"},{suit:"",value:"A",color:"#ef4444"},{suit:"",value:"K",color:"#ef4444"},{suit:"",value:"Q",color:"white"}];function KN({card:t,index:e,total:n}){const i=5+e/n*90,o=e*2,l=20+Math.random()*15,c=-30+Math.random()*60,d=.5+Math.random()*.4;return m.jsx(V.div,{className:"absolute pointer-events-none",style:{left:`${i}%`,top:"-150px"},animate:{y:["0vh","120vh"],rotate:[c,c+360],x:[0,Math.sin(e)*100,0]},transition:{duration:l,delay:o,repeat:1/0,ease:"linear"},children:m.jsxs("div",{className:"relative w-16 h-24 rounded-lg bg-gradient-to-br from-white/[0.08] to-white/[0.02] backdrop-blur-sm border border-white/[0.1] shadow-xl",style:{transform:`scale(${d})`,transformStyle:"preserve-3d"},children:[m.jsxs("div",{className:"absolute top-1.5 left-1.5 flex flex-col items-center",children:[m.jsx("span",{className:"text-xs font-bold",style:{color:t.color,opacity:.6},children:t.value}),m.jsx("span",{className:"text-sm -mt-1",style:{color:t.color,opacity:.6},children:t.suit})]}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-2xl",style:{color:t.color,opacity:.4},children:t.suit})}),m.jsxs("div",{className:"absolute bottom-1.5 right-1.5 flex flex-col items-center rotate-180",children:[m.jsx("span",{className:"text-xs font-bold",style:{color:t.color,opacity:.6},children:t.value}),m.jsx("span",{className:"text-sm -mt-1",style:{color:t.color,opacity:.6},children:t.suit})]}),m.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-br from-white/10 via-transparent to-transparent"})]})})}function qN({index:t}){const e=["#D4AF37","#ef4444","#22c55e","#3b82f6","#8b5cf6"],n=e[t%e.length],i=10+Math.random()*80,o=5+t*3,l=25+Math.random()*10;return m.jsx(V.div,{className:"absolute pointer-events-none",style:{left:`${i}%`,top:"-80px"},animate:{y:["0vh","120vh"],rotate:[0,720]},transition:{duration:l,delay:o,repeat:1/0,ease:"linear"},children:m.jsx("div",{className:"w-10 h-10 rounded-full border-4 flex items-center justify-center",style:{borderColor:n,background:`radial-gradient(circle, ${n}20, transparent)`,opacity:.3},children:m.jsx("div",{className:"w-6 h-6 rounded-full border-2",style:{borderColor:n,opacity:.5}})})})}function T1(){const[t,e]=R.useState(!1);return R.useEffect(()=>{e(!0)},[]),m.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0a12] via-[#0d0d1a] to-[#0a0a12]"}),m.jsx(V.div,{className:"absolute top-0 left-1/4 w-[600px] h-[600px] rounded-full bg-purple-900/20 blur-[150px]",animate:{x:[0,50,0],y:[0,30,0],scale:[1,1.1,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),m.jsx(V.div,{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] rounded-full bg-emerald-900/15 blur-[120px]",animate:{x:[0,-40,0],y:[0,-40,0],scale:[1,1.15,1]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),m.jsx(V.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] rounded-full bg-gold/5 blur-[180px]",animate:{scale:[1,1.2,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),t&&E0.map((n,i)=>m.jsx(KN,{card:n,index:i,total:E0.length},i)),t&&Array.from({length:5}).map((n,i)=>m.jsx(qN,{index:i},`chip-${i}`)),t&&Array.from({length:30}).map((n,i)=>m.jsx(V.div,{className:"absolute w-1 h-1 rounded-full bg-gold",style:{left:`${Math.random()*100}%`,top:"-10px",opacity:.2+Math.random()*.3},animate:{y:["0vh","105vh"],x:[0,Math.sin(i)*30,0]},transition:{duration:15+Math.random()*20,delay:i*.5,repeat:1/0,ease:"linear"}},`particle-${i}`)),m.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.4) 100%)"}}),m.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`
            linear-gradient(rgba(212, 175, 55, 0.5) 1px, transparent 1px),
            linear-gradient(90deg, rgba(212, 175, 55, 0.5) 1px, transparent 1px)
          `,backgroundSize:"100px 100px"}})]})}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},h)=>R.createElement("svg",{ref:h,...QN,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:N1("lucide",o),...d},[...c.map(([p,y])=>R.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=R.forwardRef(({className:i,...o},l)=>R.createElement(XN,{ref:l,iconNode:e,className:N1(`lucide-${YN(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ve("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ve("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ve("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ve("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wk(){return m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[m.jsxs(V.div,{className:"relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14",whileHover:{scale:1.1},whileTap:{scale:.95},children:[m.jsxs(V.div,{className:"absolute inset-0 w-8 h-10 sm:w-9 sm:h-11 md:w-10 md:h-12 rounded-md bg-gradient-to-br from-red-500 to-red-700 border border-red-400/50 shadow-lg",style:{left:"0%",top:"10%",transform:"rotate(-15deg)"},animate:{rotate:[-15,-12,-15]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[m.jsx("span",{className:"absolute top-0.5 left-1 text-[8px] sm:text-[10px] font-bold text-white",children:""}),m.jsx("span",{className:"absolute bottom-0.5 right-1 text-[8px] sm:text-[10px] font-bold text-white rotate-180",children:""})]}),m.jsxs(V.div,{className:"absolute inset-0 w-8 h-10 sm:w-9 sm:h-11 md:w-10 md:h-12 rounded-md bg-gradient-to-br from-gray-800 to-gray-900 border border-white/20 shadow-lg",style:{left:"15%",top:"5%",transform:"rotate(0deg)"},children:[m.jsx("span",{className:"absolute top-0.5 left-1 text-[8px] sm:text-[10px] font-bold text-white",children:""}),m.jsx("span",{className:"absolute bottom-0.5 right-1 text-[8px] sm:text-[10px] font-bold text-white rotate-180",children:""})]}),m.jsxs(V.div,{className:"absolute inset-0 w-8 h-10 sm:w-9 sm:h-11 md:w-10 md:h-12 rounded-md bg-gradient-to-br from-gold to-amber-600 border border-gold/50 shadow-xl",style:{left:"30%",top:"0%",transform:"rotate(15deg)"},animate:{rotate:[15,18,15]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[m.jsx("span",{className:"absolute top-0.5 left-1 text-[8px] sm:text-[10px] font-bold text-black",children:"A"}),m.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-base sm:text-lg text-black font-bold",children:""}),m.jsx("span",{className:"absolute bottom-0.5 right-1 text-[8px] sm:text-[10px] font-bold text-black rotate-180",children:"A"})]}),m.jsx(V.div,{className:"absolute inset-0 bg-gold/30 rounded-full blur-xl -z-10",animate:{scale:[1,1.3,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0}})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs(V.div,{className:"flex items-baseline gap-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:[m.jsx("span",{className:"font-display text-xl sm:text-2xl md:text-3xl font-black tracking-tight bg-gradient-to-r from-white via-gold to-white bg-clip-text text-transparent",children:"CARTES"}),m.jsx(V.span,{className:"text-gold text-lg sm:text-xl md:text-2xl",animate:{rotate:[0,10,0]},transition:{duration:2,repeat:1/0},children:""})]}),m.jsx("span",{className:"text-[7px] sm:text-[8px] md:text-[10px] text-white/40 tracking-[0.15em] sm:tracking-[0.2em] uppercase font-medium -mt-0.5",children:"Tableau de Victoires"})]})]})}function Ck({onNewGame:t}){const n=Ro().pathname==="/",[i,o]=R.useState(!1);return m.jsx(V.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"relative z-50 border-b border-white/[0.06] backdrop-blur-xl bg-black/30",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-2 sm:py-3 md:py-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(zt,{to:"/",className:"group",children:m.jsx(wk,{})}),m.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[!n&&m.jsx(xd,{to:"/",icon:T0,children:"Accueil"}),m.jsx(xd,{to:"/players",icon:El,children:"Joueurs"}),m.jsx(xd,{to:"/badges",icon:vo,children:"Badges"}),n&&t&&m.jsxs(V.button,{onClick:t,className:"btn-primary flex items-center gap-2 ml-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[m.jsx(ff,{className:"w-5 h-5"}),m.jsx("span",{className:"font-semibold",children:"Nouvelle Partie"})]})]}),m.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[n&&t&&m.jsx(V.button,{onClick:t,className:"w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-r from-gold to-amber-500 flex items-center justify-center text-black shadow-lg shadow-gold/20",whileTap:{scale:.95},children:m.jsx(hk,{className:"w-5 h-5"})}),m.jsx(V.button,{onClick:()=>o(!i),className:"w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-white",whileTap:{scale:.95},children:i?m.jsx(Fo,{className:"w-5 h-5"}):m.jsx(uk,{className:"w-5 h-5"})})]})]}),m.jsx(Zi,{children:i&&m.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden overflow-hidden",children:m.jsxs("div",{className:"pt-4 pb-2 space-y-2",children:[!n&&m.jsx(_d,{to:"/",icon:T0,onClick:()=>o(!1),children:"Accueil"}),m.jsx(_d,{to:"/players",icon:El,onClick:()=>o(!1),children:"Joueurs"}),m.jsx(_d,{to:"/badges",icon:vo,onClick:()=>o(!1),children:"Badges"})]})})})]})})}function xd({to:t,icon:e,children:n}){return m.jsx(zt,{to:t,children:m.jsxs(V.div,{className:"nav-link",whileHover:{scale:1.05},whileTap:{scale:.95},children:[m.jsx(e,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium",children:n})]})})}function _d({to:t,icon:e,children:n,onClick:i}){return m.jsx(zt,{to:t,onClick:i,children:m.jsxs(V.div,{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 text-white/80 active:bg-white/10",whileTap:{scale:.98},children:[m.jsx(e,{className:"w-5 h-5 text-gold"}),m.jsx("span",{className:"font-medium",children:n})]})})}function Sk(){return m.jsx(V.footer,{className:"relative z-10 border-t border-white/[0.05] mt-16 py-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[m.jsxs("p",{className:"text-white/30 text-sm flex items-center gap-2",children:[m.jsx("span",{className:"text-xl",children:""}),m.jsx("span",{children:"Gan Bresilen"}),m.jsx("span",{className:"text-white/20",children:""}),m.jsxs("span",{children:[" ",new Date().getFullYear()]})]}),m.jsxs("p",{className:"text-white/20 text-sm flex items-center gap-2",children:["Fait avec",m.jsx(V.span,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:m.jsx(ok,{className:"w-4 h-4 text-red-500 fill-red-500"})}),"pour les soires cartes"]})]})})}const k0={primary:"btn-primary",secondary:`
    bg-white/5 text-white border border-white/10
    hover:bg-white/10 hover:border-white/20
  `,ghost:`
    text-white/60 hover:text-white hover:bg-white/5
  `,danger:`
    bg-red-500/10 text-red-400 border border-red-500/20
    hover:bg-red-500/20 hover:border-red-500/30
  `},Ek={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5",lg:"px-6 py-3 text-lg"},zi=R.forwardRef(({children:t,variant:e="primary",size:n="md",className:i="",...o},l)=>{const c=e==="primary";return m.jsx(V.button,{ref:l,className:`
        inline-flex items-center justify-center gap-2 rounded-xl font-medium
        transition-all duration-300 relative overflow-hidden
        ${c?k0.primary:k0[e]}
        ${Ek[n]}
        ${i}
      `,whileHover:{scale:1.02},whileTap:{scale:.98},...o,children:m.jsx("span",{className:"relative z-10 flex items-center gap-2",children:t})})});zi.displayName="Button";function bk({isOpen:t,onClose:e,title:n,children:i}){return R.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),R.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return t&&window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),m.jsx(Zi,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:[m.jsx(V.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),m.jsxs(V.div,{className:"modal-content relative w-full sm:max-w-2xl max-h-[95vh] sm:max-h-[90vh] flex flex-col rounded-t-3xl sm:rounded-3xl",initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:25,stiffness:300},children:[m.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gold/20 via-transparent to-gold/20 rounded-3xl blur-xl opacity-50 pointer-events-none hidden sm:block"}),m.jsx("div",{className:"sm:hidden w-12 h-1 bg-white/20 rounded-full mx-auto mt-3 mb-1"}),m.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between px-4 sm:px-6 py-4 sm:py-5 border-b border-white/10 bg-gradient-to-r from-card-black to-velvet sm:rounded-t-3xl",children:[m.jsx("h3",{className:"font-display text-lg sm:text-2xl font-bold bg-gradient-to-r from-gold to-amber-300 bg-clip-text text-transparent flex items-center gap-2 sm:gap-3",children:n}),m.jsx(V.button,{onClick:e,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center text-white/40 hover:text-white hover:bg-white/10 transition-all",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:m.jsx(Fo,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),m.jsx("div",{className:"relative flex-1 overflow-y-auto overscroll-contain",children:i})]})]})})}function Tk({children:t,className:e=""}){return m.jsx("div",{className:`p-4 sm:p-6 ${e}`,children:t})}function Nk({children:t,className:e=""}){return m.jsx("div",{className:`flex-shrink-0 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3 px-4 sm:px-6 py-4 border-t border-white/10 bg-card-black/90 backdrop-blur-sm sticky bottom-0 ${e}`,children:t})}function I1({isOpen:t,onClose:e,onConfirm:n,title:i="Confirmation",message:o="tes-vous sr ?",confirmText:l="Confirmer",cancelText:c="Annuler",variant:d="danger"}){const h={danger:{icon:m.jsx(pf,{className:"w-8 h-8 text-red-400"}),iconBg:"bg-red-500/20",buttonClass:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400"},warning:{icon:m.jsx(vk,{className:"w-8 h-8 text-amber-400"}),iconBg:"bg-amber-500/20",buttonClass:"bg-gradient-to-r from-amber-600 to-amber-500 hover:from-amber-500 hover:to-amber-400"},info:{icon:m.jsx(P1,{className:"w-8 h-8 text-blue-400"}),iconBg:"bg-blue-500/20",buttonClass:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400"}},p=h[d]||h.danger,y=()=>{n(),e()};return m.jsx(Zi,{children:t&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[m.jsx(V.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),m.jsxs(V.div,{className:"relative w-full max-w-md",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:25,stiffness:300},children:[m.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-red-500/20 via-transparent to-red-500/20 rounded-3xl blur-xl opacity-50"}),m.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-gradient-to-b from-[#1a1a2e] to-[#0a0a0f] border border-white/10",children:[m.jsx(V.button,{onClick:e,className:"absolute top-4 right-4 w-8 h-8 rounded-lg flex items-center justify-center text-white/40 hover:text-white hover:bg-white/10 transition-all z-10",whileHover:{scale:1.1},whileTap:{scale:.9},children:m.jsx(Fo,{className:"w-4 h-4"})}),m.jsxs("div",{className:"p-8 text-center",children:[m.jsx(V.div,{className:`w-20 h-20 rounded-full ${p.iconBg} flex items-center justify-center mx-auto mb-6`,initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},children:p.icon}),m.jsx(V.h3,{className:"text-2xl font-display font-bold text-white mb-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:i}),m.jsx(V.p,{className:"text-white/60 mb-8 leading-relaxed",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:o}),m.jsxs(V.div,{className:"flex gap-3 justify-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:[m.jsx(zi,{variant:"ghost",onClick:e,children:c}),m.jsx(V.button,{onClick:y,className:`px-6 py-3 rounded-xl font-semibold text-white ${p.buttonClass} transition-all duration-300`,whileHover:{scale:1.02},whileTap:{scale:.98},children:l})]})]})]})]})]})})}const R1=R.createContext(null);function kk({children:t}){const[e,n]=R.useState(null),i=(l,c="success")=>{n({message:l,type:c,id:Date.now()})},o=()=>n(null);return m.jsxs(R1.Provider,{value:{showToast:i},children:[t,m.jsx(Zi,{children:e&&m.jsx(Pk,{message:e.message,type:e.type,onClose:o},e.id)})]})}function M1(){const t=R.useContext(R1);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function Pk({message:t,type:e,onClose:n}){R.useEffect(()=>{const l=setTimeout(n,4e3);return()=>clearTimeout(l)},[n]);const i=e==="success",o=t.includes("")||t.includes("victoire");return m.jsxs(V.div,{className:`
        fixed bottom-6 right-6 flex items-center gap-4 px-6 py-4
        rounded-2xl shadow-2xl z-50 backdrop-blur-xl
        ${i?"bg-gradient-to-r from-emerald-500/90 to-teal-500/90 text-white":"bg-gradient-to-r from-red-500/90 to-rose-500/90 text-white"}
      `,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{type:"spring",damping:20,stiffness:300},children:[m.jsx("div",{className:`absolute inset-0 rounded-2xl blur-xl ${i?"bg-emerald-500/30":"bg-red-500/30"}`}),m.jsx(V.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring"},className:"relative",children:o?m.jsx(Yl,{className:"w-6 h-6"}):i?m.jsx(P1,{className:"w-6 h-6"}):m.jsx(Fo,{className:"w-6 h-6"})}),m.jsx("span",{className:"relative font-medium",children:t}),m.jsx(V.div,{className:"absolute bottom-0 left-0 h-1 bg-white/30 rounded-full",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:4,ease:"linear"}})]})}const Ik=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Ji(e)},Ji=function(t){return new Error("Firebase Database ("+j1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Rk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,C=p&63;h||(C=64,c||(x=64)),i.push(n[y],n[v],n[x],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||v==null)throw new Mk;const x=l<<2|d>>4;if(i.push(x),p!==64){const C=d<<4&240|p>>2;if(i.push(C),v!==64){const P=p<<6&192|v;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D1=function(t){const e=A1(t);return mf.encodeByteArray(e,!0)},bl=function(t){return D1(t).replace(/\./g,"")},oh=function(t){try{return mf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){return L1(void 0,t)}function L1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ak(n)||(t[n]=L1(t[n],e[n]));return t}function Ak(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=()=>Dk().__FIREBASE_DEFAULTS__,Ok=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oh(t[1]);return e&&JSON.parse(e)},O1=()=>{try{return Ik()||Lk()||Ok()||Fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>{var e,n;return(n=(e=O1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Bk=t=>{const e=Vk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},F1=()=>{var t;return(t=O1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bl(JSON.stringify(n)),bl(JSON.stringify(c)),""].join(".")}const io={};function Wk(){const t={prod:[],emulator:[]};for(const e of Object.keys(io))io[e]?t.emulator.push(e):t.prod.push(e);return t}function Hk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let I0=!1;function $k(t,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||io[t]===e||io[t]||I0)return;io[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=Wk().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I0=!0,c()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=Hk(i),C=n("text"),P=document.getElementById(C)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),k=n("preprendIcon"),D=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;d(F),y(E,b);const L=p();h(D,k),F.append(D,P,E,L),document.body.appendChild(F)}l?(P.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gk())}function Kk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qk(){return j1.NODE_ADMIN===!0}function Yk(){try{return typeof indexedDB=="object"}catch{return!1}}function Qk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="FirebaseError";class Bo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Xk,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B1.prototype.create)}}class B1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?Zk(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Bo(o,d,i)}}function Zk(t,e){return t.replace(Jk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Jk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){return JSON.parse(t)}function ct(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=xo(oh(l[0])||""),n=xo(oh(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},eP=function(t){const e=z1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tP=function(t){const e=z1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ui(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function R0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],c=e[o];if(M0(l)&&M0(c)){if(!Nl(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function M0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const x=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=d^l&(c^d),y=1518500249):(p=l^c^d,y=1859775393):v<60?(p=l&c|d&(l|c),y=2400959708):(p=l^c^d,y=3395469782);const x=(o<<5|o>>>27)+p+h+y+i[v]&4294967295;h=d,d=c,c=(l<<30|l>>>2)&4294967295,l=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}else for(;o<n;)if(l[c]=e[o],++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function Ql(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,G(i<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(i)-56320;o=65536+(l<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Xl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Vo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aP(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oP(t){return t===Br?void 0:t}function aP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const cP={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},uP=Me.INFO,dP={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=dP[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U1{constructor(e){this.name=e,this._logLevel=uP,this._logHandler=hP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const fP=(t,e)=>e.some(n=>t instanceof n);let j0,A0;function pP(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,ah=new WeakMap,H1=new WeakMap,wd=new WeakMap,yf=new WeakMap;function gP(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(gr(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&W1.set(n,t)}).catch(()=>{}),yf.set(e,t),e}function yP(t){if(ah.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ah.set(t,e)}let lh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vP(t){lh=t(lh)}function xP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cd(this),e,...n);return H1.set(i,e.sort?e.sort():[e]),gr(i)}:mP().includes(t)?function(...e){return t.apply(Cd(this),e),gr(W1.get(this))}:function(...e){return gr(t.apply(Cd(this),e))}}function _P(t){return typeof t=="function"?xP(t):(t instanceof IDBTransaction&&yP(t),fP(t,pP())?new Proxy(t,lh):t)}function gr(t){if(t instanceof IDBRequest)return gP(t);if(wd.has(t))return wd.get(t);const e=_P(t);return e!==t&&(wd.set(t,e),yf.set(e,t)),e}const Cd=t=>yf.get(t);function wP(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=gr(c);return i&&c.addEventListener("upgradeneeded",h=>{i(gr(c.result),h.oldVersion,h.newVersion,gr(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const CP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],Sd=new Map;function D0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=SP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||CP.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return Sd.set(e,l),l}vP(t=>({...t,get:(e,n,i)=>D0(e,n)||t.get(e,n,i),has:(e,n)=>!!D0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ch="@firebase/app",L0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new U1("@firebase/app"),TP="@firebase/app-compat",NP="@firebase/analytics-compat",kP="@firebase/analytics",PP="@firebase/app-check-compat",IP="@firebase/app-check",RP="@firebase/auth",MP="@firebase/auth-compat",jP="@firebase/database",AP="@firebase/data-connect",DP="@firebase/database-compat",LP="@firebase/functions",OP="@firebase/functions-compat",FP="@firebase/installations",VP="@firebase/installations-compat",BP="@firebase/messaging",zP="@firebase/messaging-compat",UP="@firebase/performance",WP="@firebase/performance-compat",HP="@firebase/remote-config",$P="@firebase/remote-config-compat",GP="@firebase/storage",KP="@firebase/storage-compat",qP="@firebase/firestore",YP="@firebase/ai",QP="@firebase/firestore-compat",XP="firebase",ZP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="[DEFAULT]",JP={[ch]:"fire-core",[TP]:"fire-core-compat",[kP]:"fire-analytics",[NP]:"fire-analytics-compat",[IP]:"fire-app-check",[PP]:"fire-app-check-compat",[RP]:"fire-auth",[MP]:"fire-auth-compat",[jP]:"fire-rtdb",[AP]:"fire-data-connect",[DP]:"fire-rtdb-compat",[LP]:"fire-fn",[OP]:"fire-fn-compat",[FP]:"fire-iid",[VP]:"fire-iid-compat",[BP]:"fire-fcm",[zP]:"fire-fcm-compat",[UP]:"fire-perf",[WP]:"fire-perf-compat",[HP]:"fire-rc",[$P]:"fire-rc-compat",[GP]:"fire-gcs",[KP]:"fire-gcs-compat",[qP]:"fire-fst",[QP]:"fire-fst-compat",[YP]:"fire-vertex","fire-js":"fire-js",[XP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,eI=new Map,dh=new Map;function O0(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pl(t){const e=t.name;if(dh.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;dh.set(e,t);for(const n of kl.values())O0(n,t);for(const n of eI.values())O0(n,t);return!0}function tI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new B1("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=ZP;function $1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:uh,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(n||(n=F1()),!n)throw yr.create("no-options");const l=kl.get(o);if(l){if(Nl(n,l.options)&&Nl(i,l.config))return l;throw yr.create("duplicate-app",{appName:o})}const c=new lP(o);for(const h of dh.values())c.addComponent(h);const d=new iI(n,i,c);return kl.set(o,d),d}function oI(t=uh){const e=kl.get(t);if(!e&&t===uh&&F1())return $1();if(!e)throw yr.create("no-app",{appName:t});return e}function Li(t,e,n){let i=JP[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(c.join(" "));return}Pl(new _o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",lI=1,wo="firebase-heartbeat-store";let Ed=null;function G1(){return Ed||(Ed=wP(aI,lI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function cI(t){try{const n=(await G1()).transaction(wo),i=await n.objectStore(wo).get(K1(t));return await n.done,i}catch(e){if(e instanceof Bo)Un.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Un.warn(n.message)}}}async function F0(t,e){try{const i=(await G1()).transaction(wo,"readwrite");await i.objectStore(wo).put(e,K1(t)),await i.done}catch(n){if(n instanceof Bo)Un.warn(n.message);else{const i=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Un.warn(i.message)}}}function K1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,dI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=V0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>dI){const c=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Un.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V0(),{heartbeatsToSend:i,unsentEntries:o}=fI(this._heartbeatsCache.heartbeats),l=bl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Un.warn(n),""}}}function V0(){return new Date().toISOString().substring(0,10)}function fI(t,e=uI){const n=[];let i=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),B0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),B0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class pI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yk()?Qk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return F0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B0(t){return bl(JSON.stringify({version:2,heartbeats:t})).length}function mI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){Pl(new _o("platform-logger",e=>new EP(e),"PRIVATE")),Pl(new _o("heartbeat",e=>new hI(e),"PRIVATE")),Li(ch,L0,t),Li(ch,L0,"esm2020"),Li("fire-js","")}gI("");var yI="firebase",vI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(yI,vI,"app");var z0={};const U0="@firebase/database",W0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q1="";function xI(t){q1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _I(e)}}catch{}return new wI},Hr=Y1("localStorage"),CI=Y1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new U1("@firebase/database"),SI=(function(){let t=1;return function(){return t++}})(),Q1=function(t){const e=iP(t),n=new rP;n.update(e);const i=n.digest();return mf.encodeByteArray(i)},zo=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=zo.apply(null,i):typeof i=="object"?e+=ct(i):e+=i,e+=" "}return e};let so=null,H0=!0;const EI=function(t,e){G(!0,"Can't turn on custom loggers persistently."),Oi.logLevel=Me.VERBOSE,so=Oi.log.bind(Oi)},vt=function(...t){if(H0===!0&&(H0=!1,so===null&&CI.get("logging_enabled")===!0&&EI()),so){const e=zo.apply(null,t);so(e)}},Uo=function(t){return function(...e){vt(t,...e)}},hh=function(...t){const e="FIREBASE INTERNAL ERROR: "+zo(...t);Oi.error(e)},Wn=function(...t){const e=`FIREBASE FATAL ERROR: ${zo(...t)}`;throw Oi.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+zo(...t);Oi.warn(e)},bI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},TI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wi="[MIN_NAME]",Yr="[MAX_NAME]",ei=function(t,e){if(t===e)return 0;if(t===Wi||e===Yr)return-1;if(e===Wi||t===Yr)return 1;{const n=$0(t),i=$0(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},NI=function(t,e){return t===e?0:t<e?-1:1},Ks=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ct(e))},xf=function(t){if(typeof t!="object"||t===null)return ct(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ct(e[i]),n+=":",n+=xf(t[e[i]]);return n+="}",n},X1=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Z1=function(t){G(!vf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,c,d,h;t===0?(l=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,c=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,c=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(h=n;h;h-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(h=e;h;h-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(h=0;h<64;h+=8){let x=parseInt(y.substr(h,8),2).toString(16);x.length===1&&(x="0"+x),v=v+x}return v.toLowerCase()},kI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function II(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const RI=new RegExp("^-?(0*)\\d{1,10}$"),MI=-2147483648,jI=2147483647,$0=function(t){if(RI.test(t)){const e=Number(t);if(e>=MI&&e<=jI)return e}return null},ts=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},AI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,nI(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="5",J1="v",e_="s",t_="r",n_="f",r_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i_="ls",s_="p",fh="ac",o_="websocket",a_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,i,o,l=!1,c="",d=!1,h=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function OI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function c_(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let i;if(e===o_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===a_)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);OI(t)&&(n.ns=t.namespace);const o=[];return xt(n,(l,c)=>{o.push(l+"="+c)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.counters_={}}incrementCounter(e,n=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd={},Td={};function wf(t){const e=t.toString();return bd[e]||(bd[e]=new FI),bd[e]}function VI(t,e){const n=t.toString();return Td[n]||(Td[n]=e()),Td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ts(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="start",zI="close",UI="pLPCommand",WI="pRTLPCB",u_="id",d_="pw",h_="ser",HI="cb",$I="seg",GI="ts",KI="d",qI="dframe",f_=1870,p_=30,YI=f_-p_,QI=25e3,XI=3e4;class Ai{constructor(e,n,i,o,l,c,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uo(e),this.stats_=wf(n),this.urlFn=h=>(this.appCheckToken&&(h[fh]=this.appCheckToken),c_(n,a_,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XI)),TI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cf((...l)=>{const[c,d,h,p,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===G0)this.id=d,this.password=h;else if(c===zI)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[G0]="t",i[h_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[HI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[J1]=_f,this.transportSessionId&&(i[e_]=this.transportSessionId),this.lastSessionId&&(i[i_]=this.lastSessionId),this.applicationId&&(i[s_]=this.applicationId),this.appCheckToken&&(i[fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(i[t_]=n_);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ai.forceAllow_=!0}static forceDisallow(){Ai.forceDisallow_=!0}static isAvailable(){return Ai.forceAllow_?!0:!Ai.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kI()&&!PI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=D1(n),o=X1(i,YI);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[qI]="t",i[u_]=e,i[d_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SI(),window[UI+this.uniqueCallbackIdentifier]=e,window[WI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){vt("frame writing exception"),d.stack&&vt(d.stack),vt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[u_]=this.myID,e[d_]=this.myPW,e[h_]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+p_+i.length<=f_;){const c=this.pendingSegs.shift();i=i+"&"+$I+o+"="+c.seg+"&"+GI+o+"="+c.ts+"&"+KI+o+"="+c.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(QI)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=16384,JI=45e3;let Il=null;typeof MozWebSocket<"u"?Il=MozWebSocket:typeof WebSocket<"u"&&(Il=WebSocket);class pn{constructor(e,n,i,o,l,c,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uo(this.connId),this.stats_=wf(n),this.connURL=pn.connectionURL_(n,c,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const c={};return c[J1]=_f,typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(c[t_]=n_),n&&(c[e_]=n),i&&(c[i_]=i),o&&(c[fh]=o),l&&(c[s_]=l),c_(e,o_,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hr.set("previous_websocket_failure",!0);try{let i;qk(),this.mySock=new Il(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Il!==null&&!pn.forceDisallow_}static previouslyFailed(){return Hr.isInMemoryStorage||Hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=xo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=X1(n,ZI);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static get ALL_TRANSPORTS(){return[Ai,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=pn&&pn.isAvailable();let i=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pn];else{const o=this.transports_=[];for(const l of Co.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Co.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Co.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=6e4,t5=5e3,n5=10*1024,r5=100*1024,Nd="t",K0="d",i5="s",q0="r",s5="e",Y0="o",Q0="a",X0="n",Z0="p",o5="h";class a5{constructor(e,n,i,o,l,c,d,h,p,y){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uo("c:"+this.id+":"),this.transportManager_=new Co(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nd in e){const n=e[Nd];n===Q0?this.upgradeIfSecondaryHealthy_():n===q0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Y0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ks("t",e),i=Ks("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Z0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Q0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:X0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ks("t",e),i=Ks("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ks(Nd,e);if(K0 in e){const i=e[K0];if(n===o5){const o={...i};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===X0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===i5?this.onConnectionShutdown_(i):n===q0?this.onReset_(i):n===s5?hh("Server Error: "+i):n===Y0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_f!==i&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Z0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends g_{static getInstance(){return new Rl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!V1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=32,ev=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new ke("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _r(t){return t.pieces_.length-t.pieceNum_}function je(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function Sf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function l5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function So(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function y_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function $e(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ke)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new ke(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function Vt(t,e){const n=ge(t),i=ge(e);if(n===null)return e;if(n===i)return Vt(je(t),je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function c5(t,e){const n=So(t,0),i=So(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=ei(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function Ef(t,e){if(_r(t)!==_r(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function tn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(_r(t)>_r(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class u5{constructor(e,n){this.errorPrefix_=n,this.parts_=So(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xl(this.parts_[i]);v_(this)}}function d5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xl(e),v_(t)}function h5(t){const e=t.parts_.pop();t.byteLength_-=Xl(e),t.parts_.length>0&&(t.byteLength_-=1)}function v_(t){if(t.byteLength_>ev)throw new Error(t.errorPrefix_+"has a key path longer than "+ev+" bytes ("+t.byteLength_+").");if(t.parts_.length>J0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+J0+") or object contains a cycle "+zr(t))}function zr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends g_{static getInstance(){return new bf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=1e3,f5=300*1e3,tv=30*1e3,p5=1.3,m5=3e4,g5="server_kill",nv=3;class Fn extends m_{constructor(e,n,i,o,l,c,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=Fn.nextPersistentConnectionId_++,this.log_=Uo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qs,this.maxReconnectDelay_=f5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(ct(l)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Vo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(c).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},c="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,d=>{const h=d.d,p=d.s;Fn.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bn(e,"w")){const i=Ui(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=eP(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,c=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},c="n";o&&(l.q=i,l.t=o),this.sendRequest(c,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const c={p:n,d:i};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ct(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hh("Unrecognized action received from server: "+ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>m5&&(this.reconnectDelay_=qs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*p5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Fn.nextConnectionId_++,l=this.lastSessionId;let c=!1,d=null;const h=function(){d?d.close():(c=!0,i())},p=function(v){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:h,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,x]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=x&&x.token,d=new a5(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,C=>{It(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(g5)},l))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&It(v),h())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],R0(this.interruptReasons_)&&(this.reconnectDelay_=qs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>xf(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new ke(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nv&&(this.reconnectDelay_=tv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+q1.replace(/\./g,"-")]=1,V1()?e["framework.cordova"]=1:Kk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rl.getInstance().currentlyOnline();return R0(this.interruptReasons_)&&e}}Fn.nextPersistentConnectionId_=0;Fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ye(Wi,e),o=new ye(Wi,n);return this.compare(i,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;class x_ extends Zl{static get __EMPTY_NODE(){return ol}static set __EMPTY_NODE(e){ol=e}compare(e,n){return ei(e.name,n.name)}isDefinedOn(e){throw Ji("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Yr,ol)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,ol)}toString(){return".key"}}const Fi=new x_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?i(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??at.RED,this.left=o??Bt.EMPTY_NODE,this.right=l??Bt.EMPTY_NODE}copy(e,n,i,o,l){return new at(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class y5{copy(e,n,i,o,l){return this}insert(e,n,i){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new al(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new al(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new al(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new al(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new y5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e){return ei(t.name,e.name)}function Tf(t,e){return ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;function x5(t){ph=t}const __=function(t){return typeof t=="number"?"number:"+Z1(t):"string:"+t},w_=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else G(t===ph||t.isEmpty(),"priority of unexpected type.");G(t===ph||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv;class ot{static set __childrenNodeConstructor(e){rv=e}static get __childrenNodeConstructor(){return rv}constructor(e,n=ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),w_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ot(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:ge(e)===".priority"?this.priorityNode_:ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ge(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(G(i!==".priority"||_r(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+__(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Z1(this.value_):e+=this.value_,this.lazyHash_=Q1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ot.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ot.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=ot.VALUE_TYPE_ORDER.indexOf(n),l=ot.VALUE_TYPE_ORDER.indexOf(i);return G(o>=0,"Unknown leaf type: "+n),G(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_,S_;function _5(t){C_=t}function w5(t){S_=t}class C5 extends Zl{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?ei(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Yr,new ot("[PRIORITY-POST]",S_))}makePost(e,n){const i=C_(e);return new ye(n,new ot("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ge=new C5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=Math.log(2);class E5{constructor(e){const n=l=>parseInt(Math.log(l)/S5,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ml=function(t,e,n,i){t.sort(e);const o=function(h,p){const y=p-h;let v,x;if(y===0)return null;if(y===1)return v=t[h],x=n?n(v):v,new at(x,v.node,at.BLACK,null,null);{const C=parseInt(y/2,10)+h,P=o(h,C),b=o(C+1,p);return v=t[C],x=n?n(v):v,new at(x,v.node,at.BLACK,P,b)}},l=function(h){let p=null,y=null,v=t.length;const x=function(P,b){const E=v-P,k=v;v-=P;const D=o(E+1,k),F=t[E],L=n?n(F):F;C(new at(L,F.node,b,null,D))},C=function(P){p?(p.left=P,p=P):(y=P,p=P)};for(let P=0;P<h.count;++P){const b=h.nextBitIsOne(),E=Math.pow(2,h.count-(P+1));b?x(E,at.BLACK):(x(E,at.BLACK),x(E,at.RED))}return y},c=new E5(t.length),d=l(c);return new Bt(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const Ni={};class On{static get Default(){return G(Ni&&Ge,"ChildrenNode.ts has not been loaded"),kd=kd||new On({".priority":Ni},{".priority":Ge}),kd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ui(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(ye.Wrap);let c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),i.push(c),c=l.getNext();let d;o?d=Ml(i,e.getCompare()):d=Ni;const h=e.toString(),p={...this.indexSet_};p[h]=e;const y={...this.indexes_};return y[h]=d,new On(y,p)}addToIndexes(e,n){const i=Tl(this.indexes_,(o,l)=>{const c=Ui(this.indexSet_,l);if(G(c,"Missing index implementation for "+l),o===Ni)if(c.isDefinedOn(e.node)){const d=[],h=n.getIterator(ye.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&d.push(p),p=h.getNext();return d.push(e),Ml(d,c.getCompare())}else return Ni;else{const d=n.get(e.name);let h=o;return d&&(h=h.remove(new ye(e.name,d))),h.insert(e,e.node)}});return new On(i,this.indexSet_)}removeFromIndexes(e,n){const i=Tl(this.indexes_,o=>{if(o===Ni)return o;{const l=n.get(e.name);return l?o.remove(new ye(e.name,l)):o}});return new On(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys;class he{static get EMPTY_NODE(){return Ys||(Ys=new he(new Bt(Tf),null,On.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&w_(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ys}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ys:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ye(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const c=o.isEmpty()?Ys:this.priorityNode_;return new he(o,c,l)}}updateChild(e,n){const i=ge(e);if(i===null)return n;{G(ge(e)!==".priority"||_r(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(je(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(Ge,(c,d)=>{n[c]=d.val(e),i++,l&&he.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*i){const c=[];for(const d in n)c[d]=n[d];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+__(this.getPriority().val())+":"),this.forEachChild(Ge,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":Q1(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new ye(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wo?-1:0}withIndex(e){if(e===Fi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Fi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ge),o=n.getIterator(Ge);let l=i.getNext(),c=o.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=i.getNext(),c=o.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Fi?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class b5 extends he{constructor(){super(new Bt(Tf),he.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const Wo=new b5;Object.defineProperties(ye,{MIN:{value:new ye(Wi,he.EMPTY_NODE)},MAX:{value:new ye(Yr,Wo)}});x_.__EMPTY_NODE=he.EMPTY_NODE;ot.__childrenNodeConstructor=he;x5(Wo);w5(Wo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=!0;function lt(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ot(n,lt(e))}if(!(t instanceof Array)&&T5){const n=[];let i=!1;if(xt(t,(c,d)=>{if(c.substring(0,1)!=="."){const h=lt(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ye(c,h)))}}),n.length===0)return he.EMPTY_NODE;const l=Ml(n,v5,c=>c.name,Tf);if(i){const c=Ml(n,Ge.getCompare());return new he(l,lt(e),new On({".priority":c},{".priority":Ge}))}else return new he(l,lt(e),On.Default)}else{let n=he.EMPTY_NODE;return xt(t,(i,o)=>{if(bn(t,i)&&i.substring(0,1)!=="."){const l=lt(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(lt(e))}}_5(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends Zl{constructor(e){super(),this.indexPath_=e,G(!_e(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?ei(e.name,n.name):l}makePost(e,n){const i=lt(e),o=he.EMPTY_NODE.updateChild(this.indexPath_,i);return new ye(n,o)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,Wo);return new ye(Yr,e)}toString(){return So(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5 extends Zl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ei(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const i=lt(e);return new ye(n,i)}toString(){return".value"}}const P5=new k5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){return{type:"value",snapshotNode:t}}function Hi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Eo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function I5(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,c){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(n)?c.trackChildChange(Eo(n,d)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Hi(n,i)):c.trackChildChange(bo(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ge,(o,l)=>{n.hasChild(o)||i.trackChildChange(Eo(o,l))}),n.isLeafNode()||n.forEachChild(Ge,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||i.trackChildChange(bo(o,l,c))}else i.trackChildChange(Hi(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.indexedFilter_=new Nf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=To.getStartPost_(e),this.endPost_=To.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,c){return this.matches(new ye(n,i))||(i=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,c)}updateFullNode(e,n,i){n.isLeafNode()&&(n=he.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(he.EMPTY_NODE);const l=this;return n.forEachChild(Ge,(c,d)=>{l.matches(new ye(c,d))||(o=o.updateImmediateChild(c,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new To(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,c){return this.rangedFilter_.matches(new ye(n,i))||(i=he.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,c):this.fullLimitUpdateChild_(e,n,i,l,c)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=he.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(he.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let c=0;for(;l.hasNext();){const d=l.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:o=o.updateImmediateChild(d.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let c;if(this.reverse_){const v=this.index_.getCompare();c=(x,C)=>v(C,x)}else c=this.index_.getCompare();const d=e;G(d.numChildren()===this.limit_,"");const h=new ye(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(h);if(d.hasChild(n)){const v=d.getImmediateChild(n);let x=o.getChildAfterChild(this.index_,p,this.reverse_);for(;x!=null&&(x.name===n||d.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const C=x==null?1:c(x,h);if(y&&!i.isEmpty()&&C>=0)return l!=null&&l.trackChildChange(bo(n,i,v)),d.updateImmediateChild(n,i);{l!=null&&l.trackChildChange(Eo(n,v));const b=d.updateImmediateChild(n,he.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(l!=null&&l.trackChildChange(Hi(x.name,x.node)),b.updateImmediateChild(x.name,x.node)):b}}else return i.isEmpty()?e:y&&c(p,h)>=0?(l!=null&&(l.trackChildChange(Eo(p.name,p.node)),l.trackChildChange(Hi(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wi}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new kf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function M5(t){return t.loadsAllData()?new Nf(t.getIndex()):t.hasLimit()?new R5(t):new To(t)}function iv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===P5?n="$value":t.index_===Fi?n="$key":(G(t.index_ instanceof N5,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ct(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ct(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ct(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ct(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ct(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends m_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Uo("p:rest:"),this.listens_={}}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=jl.getListenId_(e,i),d={};this.listens_[c]=d;const h=iv(e._queryParams);this.restRequest_(l+".json",h,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(l,v,!1,i),Ui(this.listens_,c)===d){let x;p?p===401?x="permission_denied":x="rest_error:"+p:x="ok",o(x,null)}})}unlisten(e,n){const i=jl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=iv(e._queryParams),i=e._path.toString(),o=new Vo;return this.restRequest_(i+".json",n,(l,c)=>{let d=c;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nP(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=xo(d.responseText)}catch{It("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&It("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return{value:null,children:new Map}}function b_(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ge(e);t.children.has(i)||t.children.set(i,Al());const o=t.children.get(i);e=je(e),b_(o,e,n)}}function mh(t,e,n){t.value!==null?n(e,t.value):A5(t,(i,o)=>{const l=new ke(e.toString()+"/"+i);mh(o,l,n)})}function A5(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&xt(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=10*1e3,L5=30*1e3,O5=300*1e3;class F5{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new D5(e);const i=ov+(L5-ov)*Math.random();oo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;xt(e,(o,l)=>{l>0&&bn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*O5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function Pf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function If(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=mn.ACK_USER_WRITE,this.source=Pf()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Dl(Ee(),n,this.revert)}}else return G(ge(this.path)===e,"operationForChild called for unrelated child."),new Dl(je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.source=e,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return _e(this.path)?new No(this.source,Ee()):new No(this.source,je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=mn.OVERWRITE}operationForChild(e){return _e(this.path)?new Qr(this.source,Ee(),this.snap.getImmediateChild(e)):new Qr(this.source,je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=mn.MERGE}operationForChild(e){if(_e(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new Qr(this.source,Ee(),n.value):new $i(this.source,Ee(),n)}else return G(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $i(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function B5(t,e,n,i){const o=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(I5(c.childName,c.snapshotNode))}),Qs(t,o,"child_removed",e,i,n),Qs(t,o,"child_added",e,i,n),Qs(t,o,"child_moved",l,i,n),Qs(t,o,"child_changed",e,i,n),Qs(t,o,"value",e,i,n),o}function Qs(t,e,n,i,o,l){const c=i.filter(d=>d.type===n);c.sort((d,h)=>U5(t,d,h)),c.forEach(d=>{const h=z5(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(h,t.query_))})})}function z5(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function U5(t,e,n){if(e.childName==null||n.childName==null)throw Ji("Should only compare child_ events.");const i=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t,e){return{eventCache:t,serverCache:e}}function ao(t,e,n,i){return Jl(new Xr(e,n,i),t.serverCache)}function T_(t,e,n,i){return Jl(t.eventCache,new Xr(e,n,i))}function gh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const W5=()=>(Pd||(Pd=new Bt(NI)),Pd);class Re{static fromObject(e){let n=new Re(null);return xt(e,(i,o)=>{n=n.set(new ke(i),o)}),n}constructor(e,n=W5()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(_e(e))return null;{const i=ge(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(je(e),n);return l!=null?{path:$e(new ke(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const n=ge(e),i=this.children.get(n);return i!==null?i.subtree(je(e)):new Re(null)}}set(e,n){if(_e(e))return new Re(n,this.children);{const i=ge(e),l=(this.children.get(i)||new Re(null)).set(je(e),n),c=this.children.insert(i,l);return new Re(this.value,c)}}remove(e){if(_e(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=ge(e),i=this.children.get(n);if(i){const o=i.remove(je(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Re(null):new Re(this.value,l)}else return this}}get(e){if(_e(e))return this.value;{const n=ge(e),i=this.children.get(n);return i?i.get(je(e)):null}}setTree(e,n){if(_e(e))return n;{const i=ge(e),l=(this.children.get(i)||new Re(null)).setTree(je(e),n);let c;return l.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,l),new Re(this.value,c)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_($e(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(_e(e))return null;{const l=ge(e),c=this.children.get(l);return c?c.findOnPath_(je(e),$e(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,i){if(_e(e))return this;{this.value&&i(n,this.value);const o=ge(e),l=this.children.get(o);return l?l.foreachOnPath_(je(e),$e(n,o),i):new Re(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_($e(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new Re(null))}}function lo(t,e,n){if(_e(e))return new gn(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const c=Vt(o,e);return l=l.updateChild(c,n),new gn(t.writeTree_.set(o,l))}else{const o=new Re(n),l=t.writeTree_.setTree(e,o);return new gn(l)}}}function yh(t,e,n){let i=t;return xt(n,(o,l)=>{i=lo(i,$e(e,o),l)}),i}function av(t,e){if(_e(e))return gn.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new gn(n)}}function vh(t,e){return ti(t,e)!=null}function ti(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vt(n.path,e)):null}function lv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(i,o)=>{e.push(new ye(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new ye(i,o.value))}),e}function vr(t,e){if(_e(e))return t;{const n=ti(t,e);return n!=null?new gn(new Re(n)):new gn(t.writeTree_.subtree(e))}}function xh(t){return t.writeTree_.isEmpty()}function Gi(t,e){return N_(Ee(),t.writeTree_,e)}function N_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(G(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=N_($e(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild($e(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){return R_(e,t)}function H5(t,e,n,i,o){G(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=lo(t.visibleWrites,e,n)),t.lastWriteId=i}function $5(t,e,n,i){G(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=yh(t.visibleWrites,e,n),t.lastWriteId=i}function G5(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function K5(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const d=t.allWrites[c];d.visible&&(c>=n&&q5(d,i.path)?o=!1:tn(i.path,d.path)&&(l=!0)),c--}if(o){if(l)return Y5(t),!0;if(i.snap)t.visibleWrites=av(t.visibleWrites,i.path);else{const d=i.children;xt(d,h=>{t.visibleWrites=av(t.visibleWrites,$e(i.path,h))})}return!0}else return!1}function q5(t,e){if(t.snap)return tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&tn($e(t.path,n),e))return!0;return!1}function Y5(t){t.visibleWrites=k_(t.allWrites,Q5,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Q5(t){return t.visible}function k_(t,e,n){let i=gn.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const c=l.path;let d;if(l.snap)tn(n,c)?(d=Vt(n,c),i=lo(i,d,l.snap)):tn(c,n)&&(d=Vt(c,n),i=lo(i,Ee(),l.snap.getChild(d)));else if(l.children){if(tn(n,c))d=Vt(n,c),i=yh(i,d,l.children);else if(tn(c,n))if(d=Vt(c,n),_e(d))i=yh(i,Ee(),l.children);else{const h=Ui(l.children,ge(d));if(h){const p=h.getChild(je(d));i=lo(i,Ee(),p)}}}else throw Ji("WriteRecord should have .snap or .children")}}return i}function P_(t,e,n,i,o){if(!i&&!o){const l=ti(t.visibleWrites,e);if(l!=null)return l;{const c=vr(t.visibleWrites,e);if(xh(c))return n;if(n==null&&!vh(c,Ee()))return null;{const d=n||he.EMPTY_NODE;return Gi(c,d)}}}else{const l=vr(t.visibleWrites,e);if(!o&&xh(l))return n;if(!o&&n==null&&!vh(l,Ee()))return null;{const c=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(tn(p.path,e)||tn(e,p.path))},d=k_(t.allWrites,c,e),h=n||he.EMPTY_NODE;return Gi(d,h)}}}function X5(t,e,n){let i=he.EMPTY_NODE;const o=ti(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ge,(l,c)=>{i=i.updateImmediateChild(l,c)}),i;if(n){const l=vr(t.visibleWrites,e);return n.forEachChild(Ge,(c,d)=>{const h=Gi(vr(l,new ke(c)),d);i=i.updateImmediateChild(c,h)}),lv(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const l=vr(t.visibleWrites,e);return lv(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function Z5(t,e,n,i,o){G(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=$e(e,n);if(vh(t.visibleWrites,l))return null;{const c=vr(t.visibleWrites,l);return xh(c)?o.getChild(n):Gi(c,o.getChild(n))}}function J5(t,e,n,i){const o=$e(e,n),l=ti(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const c=vr(t.visibleWrites,o);return Gi(c,i.getNode().getImmediateChild(n))}else return null}function eR(t,e){return ti(t.visibleWrites,e)}function tR(t,e,n,i,o,l,c){let d;const h=vr(t.visibleWrites,e),p=ti(h,Ee());if(p!=null)d=p;else if(n!=null)d=Gi(h,n);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const y=[],v=c.getCompare(),x=l?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let C=x.getNext();for(;C&&y.length<o;)v(C,i)!==0&&y.push(C),C=x.getNext();return y}else return[]}function nR(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Ll(t,e,n,i){return P_(t.writeTree,t.treePath,e,n,i)}function jf(t,e){return X5(t.writeTree,t.treePath,e)}function cv(t,e,n,i){return Z5(t.writeTree,t.treePath,e,n,i)}function Ol(t,e){return eR(t.writeTree,$e(t.treePath,e))}function rR(t,e,n,i,o,l){return tR(t.writeTree,t.treePath,e,n,i,o,l)}function Af(t,e,n){return J5(t.writeTree,t.treePath,e,n)}function I_(t,e){return R_($e(t.treePath,e),t.writeTree)}function R_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,bo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,Eo(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Hi(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,bo(i,e.snapshotNode,o.oldSnap));else throw Ji("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const M_=new sR;class Df{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Af(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zr(this.viewCache_),l=rR(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){return{filter:t}}function aR(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lR(t,e,n,i,o){const l=new iR;let c,d;if(n.type===mn.OVERWRITE){const p=n;p.source.fromUser?c=_h(t,e,p.path,p.snap,i,o,l):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!_e(p.path),c=Fl(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===mn.MERGE){const p=n;p.source.fromUser?c=uR(t,e,p.path,p.children,i,o,l):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),c=wh(t,e,p.path,p.children,i,o,d,l))}else if(n.type===mn.ACK_USER_WRITE){const p=n;p.revert?c=fR(t,e,p.path,i,o,l):c=dR(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===mn.LISTEN_COMPLETE)c=hR(t,e,n.path,i,l);else throw Ji("Unknown operation type: "+n.type);const h=l.getChanges();return cR(e,c,h),{viewCache:c,changes:h}}function cR(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=gh(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(E_(gh(e)))}}function j_(t,e,n,i,o,l){const c=e.eventCache;if(Ol(i,n)!=null)return e;{let d,h;if(_e(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Zr(e),y=p instanceof he?p:he.EMPTY_NODE,v=jf(i,y);d=t.filter.updateFullNode(e.eventCache.getNode(),v,l)}else{const p=Ll(i,Zr(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=ge(n);if(p===".priority"){G(_r(n)===1,"Can't have a priority with additional path components");const y=c.getNode();h=e.serverCache.getNode();const v=cv(i,n,y,h);v!=null?d=t.filter.updatePriority(y,v):d=c.getNode()}else{const y=je(n);let v;if(c.isCompleteForChild(p)){h=e.serverCache.getNode();const x=cv(i,n,c.getNode(),h);x!=null?v=c.getNode().getImmediateChild(p).updateChild(y,x):v=c.getNode().getImmediateChild(p)}else v=Af(i,p,e.serverCache);v!=null?d=t.filter.updateChild(c.getNode(),p,v,y,o,l):d=c.getNode()}}return ao(e,d,c.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function Fl(t,e,n,i,o,l,c,d){const h=e.serverCache;let p;const y=c?t.filter:t.filter.getIndexedFilter();if(_e(n))p=y.updateFullNode(h.getNode(),i,null);else if(y.filtersNodes()&&!h.isFiltered()){const C=h.getNode().updateChild(n,i);p=y.updateFullNode(h.getNode(),C,null)}else{const C=ge(n);if(!h.isCompleteForPath(n)&&_r(n)>1)return e;const P=je(n),E=h.getNode().getImmediateChild(C).updateChild(P,i);C===".priority"?p=y.updatePriority(h.getNode(),E):p=y.updateChild(h.getNode(),C,E,P,M_,null)}const v=T_(e,p,h.isFullyInitialized()||_e(n),y.filtersNodes()),x=new Df(o,v,l);return j_(t,v,n,o,x,d)}function _h(t,e,n,i,o,l,c){const d=e.eventCache;let h,p;const y=new Df(o,e,l);if(_e(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,c),h=ao(e,p,!0,t.filter.filtersNodes());else{const v=ge(n);if(v===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),h=ao(e,p,d.isFullyInitialized(),d.isFiltered());else{const x=je(n),C=d.getNode().getImmediateChild(v);let P;if(_e(x))P=i;else{const b=y.getCompleteChild(v);b!=null?Sf(x)===".priority"&&b.getChild(y_(x)).isEmpty()?P=b:P=b.updateChild(x,i):P=he.EMPTY_NODE}if(C.equals(P))h=e;else{const b=t.filter.updateChild(d.getNode(),v,P,x,y,c);h=ao(e,b,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function uv(t,e){return t.eventCache.isCompleteForChild(e)}function uR(t,e,n,i,o,l,c){let d=e;return i.foreach((h,p)=>{const y=$e(n,h);uv(e,ge(y))&&(d=_h(t,d,y,p,o,l,c))}),i.foreach((h,p)=>{const y=$e(n,h);uv(e,ge(y))||(d=_h(t,d,y,p,o,l,c))}),d}function dv(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function wh(t,e,n,i,o,l,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;_e(n)?p=i:p=new Re(null).setTree(n,i);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,x)=>{if(y.hasChild(v)){const C=e.serverCache.getNode().getImmediateChild(v),P=dv(t,C,x);h=Fl(t,h,new ke(v),P,o,l,c,d)}}),p.children.inorderTraversal((v,x)=>{const C=!e.serverCache.isCompleteForChild(v)&&x.value===null;if(!y.hasChild(v)&&!C){const P=e.serverCache.getNode().getImmediateChild(v),b=dv(t,P,x);h=Fl(t,h,new ke(v),b,o,l,c,d)}}),h}function dR(t,e,n,i,o,l,c){if(Ol(o,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(_e(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Fl(t,e,n,h.getNode().getChild(n),o,l,d,c);if(_e(n)){let p=new Re(null);return h.getNode().forEachChild(Fi,(y,v)=>{p=p.set(new ke(y),v)}),wh(t,e,n,p,o,l,d,c)}else return e}else{let p=new Re(null);return i.foreach((y,v)=>{const x=$e(n,y);h.isCompleteForPath(x)&&(p=p.set(y,h.getNode().getChild(x)))}),wh(t,e,n,p,o,l,d,c)}}function hR(t,e,n,i,o){const l=e.serverCache,c=T_(e,l.getNode(),l.isFullyInitialized()||_e(n),l.isFiltered());return j_(t,c,n,i,M_,o)}function fR(t,e,n,i,o,l){let c;if(Ol(i,n)!=null)return e;{const d=new Df(i,e,o),h=e.eventCache.getNode();let p;if(_e(n)||ge(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Ll(i,Zr(e));else{const v=e.serverCache.getNode();G(v instanceof he,"serverChildren would be complete if leaf node"),y=jf(i,v)}y=y,p=t.filter.updateFullNode(h,y,l)}else{const y=ge(n);let v=Af(i,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=h.getImmediateChild(y)),v!=null?p=t.filter.updateChild(h,y,v,je(n),d,l):e.eventCache.getNode().hasChild(y)?p=t.filter.updateChild(h,y,he.EMPTY_NODE,je(n),d,l):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Ll(i,Zr(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,l)))}return c=e.serverCache.isFullyInitialized()||Ol(i,Ee())!=null,ao(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Nf(i.getIndex()),l=M5(i);this.processor_=oR(l);const c=n.serverCache,d=n.eventCache,h=o.updateFullNode(he.EMPTY_NODE,c.getNode(),null),p=l.updateFullNode(he.EMPTY_NODE,d.getNode(),null),y=new Xr(h,c.isFullyInitialized(),o.filtersNodes()),v=new Xr(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Jl(v,y),this.eventGenerator_=new V5(this.query_)}get query(){return this.query_}}function mR(t){return t.viewCache_.serverCache.getNode()}function gR(t,e){const n=Zr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function hv(t){return t.eventRegistrations_.length===0}function yR(t,e){t.eventRegistrations_.push(e)}function fv(t,e,n){const i=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(n,o);c&&i.push(c)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const c=t.eventRegistrations_[l];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function pv(t,e,n,i){e.type===mn.MERGE&&e.source.queryId!==null&&(G(Zr(t.viewCache_),"We should always have a full cache before handling merges"),G(gh(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=lR(t.processor_,o,e,n,i);return aR(t.processor_,l.viewCache),G(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,A_(t,l.changes,l.viewCache.eventCache.getNode(),null)}function vR(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(l,c)=>{i.push(Hi(l,c))}),n.isFullyInitialized()&&i.push(E_(n.getNode())),A_(t,i,n.getNode(),e)}function A_(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return B5(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class xR{constructor(){this.views=new Map}}function _R(t){G(!Vl,"__referenceConstructor has already been defined"),Vl=t}function wR(){return G(Vl,"Reference.ts has not been loaded"),Vl}function CR(t){return t.views.size===0}function Lf(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return G(l!=null,"SyncTree gave us an op for an invalid query."),pv(l,e,n,i)}else{let l=[];for(const c of t.views.values())l=l.concat(pv(c,e,n,i));return l}}function SR(t,e,n,i,o){const l=e._queryIdentifier,c=t.views.get(l);if(!c){let d=Ll(n,o?i:null),h=!1;d?h=!0:i instanceof he?(d=jf(n,i),h=!1):(d=he.EMPTY_NODE,h=!1);const p=Jl(new Xr(d,h,!1),new Xr(i,o,!1));return new pR(e,p)}return c}function ER(t,e,n,i,o,l){const c=SR(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),yR(c,n),vR(c,n)}function bR(t,e,n,i){const o=e._queryIdentifier,l=[];let c=[];const d=wr(t);if(o==="default")for(const[h,p]of t.views.entries())c=c.concat(fv(p,n,i)),hv(p)&&(t.views.delete(h),p.query._queryParams.loadsAllData()||l.push(p.query));else{const h=t.views.get(o);h&&(c=c.concat(fv(h,n,i)),hv(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return d&&!wr(t)&&l.push(new(wR())(e._repo,e._path)),{removed:l,events:c}}function D_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vi(t,e){let n=null;for(const i of t.views.values())n=n||gR(i,e);return n}function L_(t,e){if(e._queryParams.loadsAllData())return ec(t);{const i=e._queryIdentifier;return t.views.get(i)}}function O_(t,e){return L_(t,e)!=null}function wr(t){return ec(t)!=null}function ec(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;function TR(t){G(!Bl,"__referenceConstructor has already been defined"),Bl=t}function NR(){return G(Bl,"Reference.ts has not been loaded"),Bl}let kR=1;class mv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=nR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F_(t,e,n,i,o){return H5(t.pendingWriteTree_,e,n,i,o),o?ns(t,new Qr(Pf(),e,n)):[]}function PR(t,e,n,i){$5(t.pendingWriteTree_,e,n,i);const o=Re.fromObject(n);return ns(t,new $i(Pf(),e,o))}function pr(t,e,n=!1){const i=G5(t.pendingWriteTree_,e);if(K5(t.pendingWriteTree_,e)){let l=new Re(null);return i.snap!=null?l=l.set(Ee(),!0):xt(i.children,c=>{l=l.set(new ke(c),!0)}),ns(t,new Dl(i.path,l,n))}else return[]}function tc(t,e,n){return ns(t,new Qr(If(),e,n))}function IR(t,e,n){const i=Re.fromObject(n);return ns(t,new $i(If(),e,i))}function RR(t,e){return ns(t,new No(If(),e))}function MR(t,e,n){const i=Ff(t,n);if(i){const o=Vf(i),l=o.path,c=o.queryId,d=Vt(l,e),h=new No(Rf(c),d);return Bf(t,l,h)}else return[]}function Ch(t,e,n,i,o=!1){const l=e._path,c=t.syncPointTree_.get(l);let d=[];if(c&&(e._queryIdentifier==="default"||O_(c,e))){const h=bR(c,e,n,i);CR(c)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=h.removed;if(d=h.events,!o){const y=p.findIndex(x=>x._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(l,(x,C)=>wr(C));if(y&&!v){const x=t.syncPointTree_.subtree(l);if(!x.isEmpty()){const C=DR(x);for(let P=0;P<C.length;++P){const b=C[P],E=b.query,k=z_(t,b);t.listenProvider_.startListening(co(E),zl(t,E),k.hashFn,k.onComplete)}}}!v&&p.length>0&&!i&&(y?t.listenProvider_.stopListening(co(e),null):p.forEach(x=>{const C=t.queryToTagMap.get(nc(x));t.listenProvider_.stopListening(co(x),C)}))}LR(t,p)}return d}function jR(t,e,n,i){const o=Ff(t,i);if(o!=null){const l=Vf(o),c=l.path,d=l.queryId,h=Vt(c,e),p=new Qr(Rf(d),h,n);return Bf(t,c,p)}else return[]}function AR(t,e,n,i){const o=Ff(t,i);if(o){const l=Vf(o),c=l.path,d=l.queryId,h=Vt(c,e),p=Re.fromObject(n),y=new $i(Rf(d),h,p);return Bf(t,c,y)}else return[]}function gv(t,e,n,i=!1){const o=e._path;let l=null,c=!1;t.syncPointTree_.foreachOnPath(o,(x,C)=>{const P=Vt(x,o);l=l||Vi(C,P),c=c||wr(C)});let d=t.syncPointTree_.get(o);d?(c=c||wr(d),l=l||Vi(d,Ee())):(d=new xR,t.syncPointTree_=t.syncPointTree_.set(o,d));let h;l!=null?h=!0:(h=!1,l=he.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((C,P)=>{const b=Vi(P,Ee());b&&(l=l.updateImmediateChild(C,b))}));const p=O_(d,e);if(!p&&!e._queryParams.loadsAllData()){const x=nc(e);G(!t.queryToTagMap.has(x),"View does not exist, but we have a tag");const C=OR();t.queryToTagMap.set(x,C),t.tagToQueryMap.set(C,x)}const y=Mf(t.pendingWriteTree_,o);let v=ER(d,e,n,y,l,h);if(!p&&!c&&!i){const x=L_(d,e);v=v.concat(FR(t,e,x))}return v}function Of(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(c,d)=>{const h=Vt(c,e),p=Vi(d,h);if(p)return p});return P_(o,e,l,n,!0)}function ns(t,e){return V_(e,t.syncPointTree_,null,Mf(t.pendingWriteTree_,Ee()))}function V_(t,e,n,i){if(_e(t.path))return B_(t,e,n,i);{const o=e.get(Ee());n==null&&o!=null&&(n=Vi(o,Ee()));let l=[];const c=ge(t.path),d=t.operationForChild(c),h=e.children.get(c);if(h&&d){const p=n?n.getImmediateChild(c):null,y=I_(i,c);l=l.concat(V_(d,h,p,y))}return o&&(l=l.concat(Lf(o,t,i,n))),l}}function B_(t,e,n,i){const o=e.get(Ee());n==null&&o!=null&&(n=Vi(o,Ee()));let l=[];return e.children.inorderTraversal((c,d)=>{const h=n?n.getImmediateChild(c):null,p=I_(i,c),y=t.operationForChild(c);y&&(l=l.concat(B_(y,d,h,p)))}),o&&(l=l.concat(Lf(o,t,i,n))),l}function z_(t,e){const n=e.query,i=zl(t,n);return{hashFn:()=>(mR(e)||he.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?MR(t,n._path,i):RR(t,n._path);{const l=II(o,n);return Ch(t,n,null,l)}}}}function zl(t,e){const n=nc(e);return t.queryToTagMap.get(n)}function nc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ff(t,e){return t.tagToQueryMap.get(e)}function Vf(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function Bf(t,e,n){const i=t.syncPointTree_.get(e);G(i,"Missing sync point for query tag that we're tracking");const o=Mf(t.pendingWriteTree_,e);return Lf(i,n,o,null)}function DR(t){return t.fold((e,n,i)=>{if(n&&wr(n))return[ec(n)];{let o=[];return n&&(o=D_(n)),xt(i,(l,c)=>{o=o.concat(c)}),o}})}function co(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(NR())(t._repo,t._path):t}function LR(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=nc(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function OR(){return kR++}function FR(t,e,n){const i=e._path,o=zl(t,e),l=z_(t,n),c=t.listenProvider_.startListening(co(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)G(!wr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((p,y,v)=>{if(!_e(p)&&y&&wr(y))return[ec(y).query];{let x=[];return y&&(x=x.concat(D_(y).map(C=>C.query))),xt(v,(C,P)=>{x=x.concat(P)}),x}});for(let p=0;p<h.length;++p){const y=h[p];t.listenProvider_.stopListening(co(y),zl(t,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zf(n)}node(){return this.node_}}class Uf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$e(this.path_,e);return new Uf(this.syncTree_,n)}node(){return Of(this.syncTree_,this.path_)}}const VR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yv=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return BR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zR(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},BR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},zR=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&G(!1,"Unexpected increment value: "+i);const o=e.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const c=o.getValue();return typeof c!="number"?i:c+i},U_=function(t,e,n,i){return Wf(e,new Uf(n,t),i)},W_=function(t,e,n){return Wf(t,new zf(e),n)};function Wf(t,e,n){const i=t.getPriority().val(),o=yv(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const c=t,d=yv(c.getValue(),e,n);return d!==c.getValue()||o!==c.getPriority().val()?new ot(d,lt(o)):t}else{const c=t;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new ot(o))),c.forEachChild(Ge,(d,h)=>{const p=Wf(h,e.getImmediateChild(d),n);p!==h&&(l=l.updateImmediateChild(d,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $f(t,e){let n=e instanceof ke?e:new ke(e),i=t,o=ge(n);for(;o!==null;){const l=Ui(i.node.children,o)||{children:{},childCount:0};i=new Hf(o,i,l),n=je(n),o=ge(n)}return i}function rs(t){return t.node.value}function H_(t,e){t.node.value=e,Sh(t)}function $_(t){return t.node.childCount>0}function UR(t){return rs(t)===void 0&&!$_(t)}function rc(t,e){xt(t.node.children,(n,i)=>{e(new Hf(n,t,i))})}function G_(t,e,n,i){n&&e(t),rc(t,o=>{G_(o,e,!0)})}function WR(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ho(t){return new ke(t.parent===null?t.name:Ho(t.parent)+"/"+t.name)}function Sh(t){t.parent!==null&&HR(t.parent,t.name,t)}function HR(t,e,n){const i=UR(n),o=bn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Sh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Sh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/[\[\].#$\/\u0000-\u001F\u007F]/,GR=/[\[\].#$\u0000-\u001F\u007F]/,Id=10*1024*1024,Gf=function(t){return typeof t=="string"&&t.length!==0&&!$R.test(t)},K_=function(t){return typeof t=="string"&&t.length!==0&&!GR.test(t)},KR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),K_(t)},qR=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vf(t)||t&&typeof t=="object"&&bn(t,".sv")},q_=function(t,e,n,i){i&&e===void 0||ic(Ql(t,"value"),e,n)},ic=function(t,e,n){const i=n instanceof ke?new u5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zr(i));if(typeof e=="function")throw new Error(t+"contains a function "+zr(i)+" with contents = "+e.toString());if(vf(e))throw new Error(t+"contains "+e.toString()+" "+zr(i));if(typeof e=="string"&&e.length>Id/3&&Xl(e)>Id)throw new Error(t+"contains a string greater than "+Id+" utf8 bytes "+zr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(xt(e,(c,d)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!Gf(c)))throw new Error(t+" contains an invalid key ("+c+") "+zr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);d5(i,c),ic(t,d,i),h5(i)}),o&&l)throw new Error(t+' contains ".value" child '+zr(i)+" in addition to actual children.")}},YR=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=So(i);for(let c=0;c<l.length;c++)if(!(l[c]===".priority"&&c===l.length-1)){if(!Gf(l[c]))throw new Error(t+"contains an invalid key ("+l[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(c5);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&tn(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},QR=function(t,e,n,i){const o=Ql(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];xt(e,(c,d)=>{const h=new ke(c);if(ic(o,d,$e(n,h)),Sf(h)===".priority"&&!qR(d))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(h)}),YR(o,l)},Y_=function(t,e,n,i){if(!K_(n))throw new Error(Ql(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XR=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Y_(t,e,n)},Kf=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ZR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KR(n))throw new Error(Ql(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sc(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!Ef(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Q_(t,e,n){sc(t,n),X_(t,i=>Ef(i,e))}function yn(t,e,n){sc(t,n),X_(t,i=>tn(i,e)||tn(e,i))}function X_(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(eM(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();so&&vt("event: "+n.toString()),ts(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="repo_interrupt",nM=25;class rM{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Al(),this.transactionQueueTree_=new Hf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iM(t,e,n){if(t.stats_=wf(t.repoInfo_),t.forceRestClient_||AI())t.server_=new jl(t.repoInfo_,(i,o,l,c)=>{vv(t,i,o,l,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Fn(t.repoInfo_,e,(i,o,l,c)=>{vv(t,i,o,l,c)},i=>{xv(t,i)},i=>{sM(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=VI(t.repoInfo_,()=>new F5(t.stats_,t.server_)),t.infoData_=new j5,t.infoSyncTree_=new mv({startListening:(i,o,l,c)=>{let d=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(d=tc(t.infoSyncTree_,i._path,h),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),qf(t,"connected",!1),t.serverSyncTree_=new mv({startListening:(i,o,l,c)=>(t.server_.listen(i,l,o,(d,h)=>{const p=c(d,h);yn(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function Z_(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oc(t){return VR({timestamp:Z_(t)})}function vv(t,e,n,i,o){t.dataUpdateCount++;const l=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(i){const h=Tl(n,p=>lt(p));c=AR(t.serverSyncTree_,l,h,o)}else{const h=lt(n);c=jR(t.serverSyncTree_,l,h,o)}else if(i){const h=Tl(n,p=>lt(p));c=IR(t.serverSyncTree_,l,h)}else{const h=lt(n);c=tc(t.serverSyncTree_,l,h)}let d=l;c.length>0&&(d=Ki(t,l)),yn(t.eventQueue_,d,c)}function xv(t,e){qf(t,"connected",e),e===!1&&lM(t)}function sM(t,e){xt(e,(n,i)=>{qf(t,n,i)})}function qf(t,e,n){const i=new ke("/.info/"+e),o=lt(n);t.infoData_.updateSnapshot(i,o);const l=tc(t.infoSyncTree_,i,o);yn(t.eventQueue_,i,l)}function Yf(t){return t.nextWriteId_++}function oM(t,e,n,i,o){ac(t,"set",{path:e.toString(),value:n,priority:i});const l=oc(t),c=lt(n,i),d=Of(t.serverSyncTree_,e),h=W_(c,d,l),p=Yf(t),y=F_(t.serverSyncTree_,e,h,p,!0);sc(t.eventQueue_,y),t.server_.put(e.toString(),c.val(!0),(x,C)=>{const P=x==="ok";P||It("set at "+e+" failed: "+x);const b=pr(t.serverSyncTree_,p,!P);yn(t.eventQueue_,e,b),Eh(t,o,x,C)});const v=Xf(t,e);Ki(t,v),yn(t.eventQueue_,v,[])}function aM(t,e,n,i){ac(t,"update",{path:e.toString(),value:n});let o=!0;const l=oc(t),c={};if(xt(n,(d,h)=>{o=!1,c[d]=U_($e(e,d),lt(h),t.serverSyncTree_,l)}),o)vt("update() called with empty data.  Don't do anything."),Eh(t,i,"ok",void 0);else{const d=Yf(t),h=PR(t.serverSyncTree_,e,c,d);sc(t.eventQueue_,h),t.server_.merge(e.toString(),n,(p,y)=>{const v=p==="ok";v||It("update at "+e+" failed: "+p);const x=pr(t.serverSyncTree_,d,!v),C=x.length>0?Ki(t,e):e;yn(t.eventQueue_,C,x),Eh(t,i,p,y)}),xt(n,p=>{const y=Xf(t,$e(e,p));Ki(t,y)}),yn(t.eventQueue_,e,[])}}function lM(t){ac(t,"onDisconnectEvents");const e=oc(t),n=Al();mh(t.onDisconnect_,Ee(),(o,l)=>{const c=U_(o,l,t.serverSyncTree_,e);b_(n,o,c)});let i=[];mh(n,Ee(),(o,l)=>{i=i.concat(tc(t.serverSyncTree_,o,l));const c=Xf(t,o);Ki(t,c)}),t.onDisconnect_=Al(),yn(t.eventQueue_,Ee(),i)}function cM(t,e,n){let i;ge(e._path)===".info"?i=gv(t.infoSyncTree_,e,n):i=gv(t.serverSyncTree_,e,n),Q_(t.eventQueue_,e._path,i)}function _v(t,e,n){let i;ge(e._path)===".info"?i=Ch(t.infoSyncTree_,e,n):i=Ch(t.serverSyncTree_,e,n),Q_(t.eventQueue_,e._path,i)}function uM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tM)}function ac(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function Eh(t,e,n,i){e&&ts(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const c=new Error(l);c.code=o,e(c)}})}function J_(t,e,n){return Of(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Qf(t,e=t.transactionQueueTree_){if(e||lc(t,e),rs(e)){const n=tw(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&dM(t,Ho(e),n)}else $_(e)&&rc(e,n=>{Qf(t,n)})}function dM(t,e,n){const i=n.map(p=>p.currentWriteId),o=J_(t,e,i);let l=o;const c=o.hash();for(let p=0;p<n.length;p++){const y=n[p];G(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Vt(e,y.path);l=l.updateChild(v,y.currentOutputSnapshotRaw)}const d=l.val(!0),h=e;t.server_.put(h.toString(),d,p=>{ac(t,"transaction put response",{path:h.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let x=0;x<n.length;x++)n[x].status=2,y=y.concat(pr(t.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&v.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();lc(t,$f(t.transactionQueueTree_,e)),Qf(t,t.transactionQueueTree_),yn(t.eventQueue_,e,y);for(let x=0;x<v.length;x++)ts(v[x])}else{if(p==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{It("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=p}Ki(t,e)}},c)}function Ki(t,e){const n=ew(t,e),i=Ho(n),o=tw(t,n);return hM(t,o,i),i}function hM(t,e,n){if(e.length===0)return;const i=[];let o=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],p=Vt(n,h.path);let y=!1,v;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)y=!0,v=h.abortReason,o=o.concat(pr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=nM)y=!0,v="maxretry",o=o.concat(pr(t.serverSyncTree_,h.currentWriteId,!0));else{const x=J_(t,h.path,c);h.currentInputSnapshot=x;const C=e[d].update(x.val());if(C!==void 0){ic("transaction failed: Data returned ",C,h.path);let P=lt(C);typeof C=="object"&&C!=null&&bn(C,".priority")||(P=P.updatePriority(x.getPriority()));const E=h.currentWriteId,k=oc(t),D=W_(P,x,k);h.currentOutputSnapshotRaw=P,h.currentOutputSnapshotResolved=D,h.currentWriteId=Yf(t),c.splice(c.indexOf(E),1),o=o.concat(F_(t.serverSyncTree_,h.path,D,h.currentWriteId,h.applyLocally)),o=o.concat(pr(t.serverSyncTree_,E,!0))}else y=!0,v="nodata",o=o.concat(pr(t.serverSyncTree_,h.currentWriteId,!0))}yn(t.eventQueue_,n,o),o=[],y&&(e[d].status=2,(function(x){setTimeout(x,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(v==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(v),!1,null))))}lc(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)ts(i[d]);Qf(t,t.transactionQueueTree_)}function ew(t,e){let n,i=t.transactionQueueTree_;for(n=ge(e);n!==null&&rs(i)===void 0;)i=$f(i,n),e=je(e),n=ge(e);return i}function tw(t,e){const n=[];return nw(t,e,n),n.sort((i,o)=>i.order-o.order),n}function nw(t,e,n){const i=rs(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);rc(e,o=>{nw(t,o,n)})}function lc(t,e){const n=rs(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,H_(e,n.length>0?n:void 0)}rc(e,i=>{lc(t,i)})}function Xf(t,e){const n=Ho(ew(t,e)),i=$f(t.transactionQueueTree_,e);return WR(i,o=>{Rd(t,o)}),Rd(t,i),G_(i,o=>{Rd(t,o)}),n}function Rd(t,e){const n=rs(e);if(n){const i=[];let o=[],l=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(G(l===c-1,"All SENT items should be at beginning of queue."),l=c,n[c].status=3,n[c].abortReason="set"):(G(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(pr(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&i.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?H_(e,void 0):n.length=l+1,yn(t.eventQueue_,Ho(e),o);for(let c=0;c<i.length;c++)ts(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function pM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const wv=function(t,e){const n=mM(t),i=n.namespace;n.domain==="firebase.com"&&Wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new l_(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new ke(n.pathString)}},mM=function(t){let e="",n="",i="",o="",l="",c=!0,d="https",h=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let y=t.indexOf("/");y===-1&&(y=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(y,v)),y<v&&(o=fM(t.substring(y,v)));const x=pM(t.substring(Math.min(t.length,v)));p=e.indexOf(":"),p>=0?(c=d==="https"||d==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const C=e.slice(0,p);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const P=e.indexOf(".");i=e.substring(0,P).toLowerCase(),n=e.substring(P+1),l=i}"ns"in x&&(l=x.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:c,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gM=(function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Cv.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let c=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Cv.charAt(e[o]);return G(c.length===20,"nextPushId: Length should be 20."),c}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class vM{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return _e(this._path)?null:Sf(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){const e=sv(this._queryParams),n=xf(e);return n==="{}"?"default":n}get _queryObject(){return sv(this._queryParams)}isEqual(e){if(e=es(e),!(e instanceof Zf))return!1;const n=this._repo===e._repo,i=Ef(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+l5(this._path)}}class Er extends Zf{constructor(e,n){super(e,n,new kf,!1)}get parent(){const e=y_(this._path);return e===null?null:new Er(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ul{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ke(e),i=ko(this.ref,e);return new Ul(this._node.getChild(n),i,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Ul(o,ko(this.ref,i),Ge)))}hasChild(e){const n=new ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dn(t,e){return t=es(t),t._checkNotDeleted("ref"),e!==void 0?ko(t._root,e):t._root}function ko(t,e){return t=es(t),ge(t._path)===null?XR("child","path",e):Y_("child","path",e),new Er(t._repo,$e(t._path,e))}function Sv(t,e){t=es(t),Kf("push",t._path),q_("push",e,t._path,!0);const n=Z_(t._repo),i=gM(n),o=ko(t,i),l=ko(t,i);let c;return c=Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Ev(t){return Kf("remove",t._path),bh(t,null)}function bh(t,e){t=es(t),Kf("set",t._path),q_("set",e,t._path,!1);const n=new Vo;return oM(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Md(t,e){QR("update",e,t._path);const n=new Vo;return aM(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Jf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new yM("value",this,new Ul(e.snapshotNode,new Er(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vM(this,e,n):null}matches(e){return e instanceof Jf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function _M(t,e,n,i,o){let l;if(typeof i=="object"&&(l=void 0,o=i),typeof i=="function"&&(l=i),o&&o.onlyOnce){const h=n,p=(y,v)=>{_v(t._repo,t,d),h(y,v)};p.userCallback=n.userCallback,p.context=n.context,n=p}const c=new xM(n,l||void 0),d=new Jf(c);return cM(t._repo,t,d),()=>_v(t._repo,t,d)}function bv(t,e,n,i){return _M(t,"value",e,n,i)}_R(Er);TR(Er);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="FIREBASE_DATABASE_EMULATOR_HOST",Th={};let CM=!1;function SM(t,e,n,i){const o=e.lastIndexOf(":"),l=e.substring(0,o),c=gf(l);t.repoInfo_=new l_(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function EM(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=wv(l,o),d=c.repoInfo,h;typeof process<"u"&&z0&&(h=z0[wM]),h?(l=`http://${h}?ns=${d.namespace}`,c=wv(l,o),d=c.repoInfo):c.repoInfo.secure;const p=new LI(t.name,t.options,e);ZR("Invalid Firebase Database URL",c),_e(c.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=TM(d,t,p,new DI(t,n));return new NM(y,t)}function bM(t,e){const n=Th[e];(!n||n[t.key]!==t)&&Wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uM(t),delete n[t.key]}function TM(t,e,n,i){let o=Th[e.name];o||(o={},Th[e.name]=o);let l=o[t.toURLString()];return l&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new rM(t,CM,n,i),o[t.toURLString()]=l,l}class NM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wn("Cannot call "+e+" on a deleted database.")}}function kM(t=oI(),e){const n=tI(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Bk("database");i&&PM(n,...i)}return n}function PM(t,e,n,i={}){t=es(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,l=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Nl(i,l.repoInfo_.emulatorOptions))return;Wn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new hl(hl.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:Uk(i.mockUserToken,t.app.options.projectId);c=new hl(d)}gf(e)&&(zk(e),$k("Database",!0)),SM(l,o,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){xI(sI),Pl(new _o("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return EM(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),Li(U0,W0,t),Li(U0,W0,"esm2020")}Fn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IM();const RM={apiKey:"AIzaSyClCgShs2mYOnVYwnAyOelND3_-SnkvanQ",authDomain:"cartes-6aecf.firebaseapp.com",databaseURL:"https://cartes-6aecf-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cartes-6aecf",storageBucket:"cartes-6aecf.firebasestorage.app",messagingSenderId:"571147797168",appId:"1:571147797168:web:e6a99aed2a70229e8db175"},MM=$1(RM),Ln=kM(MM),jM=["","","","","","","","","","","","","","","","","","","","","","","",""],Tv=[{min:0,title:"Novice des Cartes"},{min:1,title:"Apprenti Joueur"},{min:3,title:"Joueur Rgulier"},{min:5,title:"As des Cartes"},{min:10,title:"Matre du Jeu"},{min:20,title:"Grand Champion"},{min:50,title:"Lgende Vivante"},{min:100,title:"Dieu des Cartes"}],AM=[{value:"belote",label:"Belote"},{value:"tarot",label:"Tarot"},{value:"gin-bresilien",label:"Gin Brsilien"},{value:"poker",label:"Poker"},{value:"uno",label:"UNO"},{value:"rami",label:"Rami"},{value:"bataille",label:"Bataille"},{value:"president",label:"Prsident"},{value:"coinche",label:"Coinche"},{value:"bridge",label:"Bridge"},{value:"blackjack",label:"Blackjack"},{value:"autre",label:"Autre"}],ep=[{value:"epic",label:" pique",emoji:"",text:"Victoire pique"},{value:"chill",label:" Tranquille",emoji:"",text:"Partie tranquille"},{value:"intense",label:" Intense",emoji:"",text:"Partie intense"},{value:"funny",label:" Hilarant",emoji:"",text:"Partie hilarante"},{value:"dramatic",label:" Dramatique",emoji:"",text:"Fin dramatique"},{value:"revenge",label:" Revanche",emoji:"",text:"Revanche russie"},{value:"chaos",label:" Chaotique",emoji:"",text:"Chaos total"},{value:"tense",label:" Stressant",emoji:"",text:"Partie stressante"},{value:"legendary",label:" Lgendaire",emoji:"",text:"Partie lgendaire"}],$r=[{value:"comeback",icon:"",name:"Le Phnix",category:"performance",description:"Remporter la victoire aprs avoir t en trs mauvaise posture pendant la partie."},{value:"flawless",icon:"",name:"Sans Faute",category:"performance",description:"Gagner sans commettre une seule erreur stratgique notable."},{value:"domination",icon:"",name:"Domination Totale",category:"performance",description:"craser tous les adversaires avec un cart de score significatif."},{value:"clutch",icon:"",name:"Sang Froid",category:"performance",description:"Russir un coup dcisif sous pression extrme qui retourne la partie."},{value:"speedrun",icon:"",name:"clair",category:"performance",description:"Remporter la partie en un temps record, bien plus vite que la normale."},{value:"lucky-draw",icon:"",name:"Main du Destin",category:"chance",description:"Recevoir une main ou des cartes exceptionnellement favorables ds le dpart."},{value:"miracle",icon:"",name:"Miracle",category:"chance",description:"Gagner grce  un tirage ou un vnement improbable au dernier moment."},{value:"against-odds",icon:"",name:"Contre Toute Attente",category:"chance",description:"Victoire alors que les probabilits taient clairement contre vous."},{value:"mastermind",icon:"",name:"Cerveau",category:"strategie",description:"Victoire obtenue grce  une stratgie labore et parfaitement excute."},{value:"bluffer",icon:"",name:"Matre du Bluff",category:"strategie",description:"Gagner en faisant croire aux adversaires quelque chose de faux."},{value:"trap",icon:"",name:"Le Pige",category:"strategie",description:"Tendre un pige  un adversaire qui tombe dedans et perd la partie."},{value:"calculator",icon:"",name:"Calculateur",category:"strategie",description:"Compter les cartes ou calculer les probabilits pour prendre l'avantage."},{value:"reader",icon:"",name:"Lecteur d'mes",category:"strategie",description:"Deviner le jeu des adversaires en lisant leurs ractions et comportements."},{value:"photo-finish",icon:"",name:"Photo Finish",category:"timing",description:"Gagner avec le plus petit cart possible,  un cheveu de la dfaite."},{value:"last-card",icon:"",name:"Dernire Carte",category:"timing",description:"La victoire s'est joue littralement sur la toute dernire carte."},{value:"overtime",icon:"",name:"Prolongations",category:"timing",description:"Partie qui a dur beaucoup plus longtemps que prvu."},{value:"marathon",icon:"",name:"Marathon",category:"timing",description:"Partie exceptionnellement longue, une vraie preuve d'endurance."},{value:"underdog",icon:"",name:"Outsider",category:"social",description:"Gagner alors que personne ne vous donnait favori avant la partie."},{value:"giant-slayer",icon:"",name:"Tueur de Gants",category:"social",description:"Battre le joueur considr comme le meilleur ou le plus expriment."},{value:"redemption",icon:"",name:"Rdemption",category:"social",description:"Gagner aprs une srie de dfaites conscutives."},{value:"nemesis",icon:"",name:"Nmsis",category:"social",description:"Battre un adversaire qui vous avait battu plusieurs fois auparavant."},{value:"teacher",icon:"",name:"Le Professeur",category:"social",description:"Gagner tout en expliquant vos coups et en enseignant aux autres."},{value:"showman",icon:"",name:"Showman",category:"style",description:"Gagner avec panache, en faisant le spectacle et en divertissant la galerie."},{value:"silent",icon:"",name:"L'Ombre",category:"style",description:"Victoire obtenue en restant discret, sans attirer l'attention jusqu'au bout."},{value:"aggressive",icon:"",name:"Le Requin",category:"style",description:"Style de jeu trs agressif, mettant constamment la pression sur les adversaires."},{value:"patient",icon:"",name:"La Tortue",category:"style",description:"Victoire obtenue en jouant prudemment et en attendant le bon moment."},{value:"unpredictable",icon:"",name:"L'Imprvisible",category:"style",description:"Jouer de manire totalement imprvisible, dstabilisant tous les adversaires."},{value:"first-win",icon:"",name:"Premire Victoire",category:"special",description:"La toute premire victoire d'un joueur dans ce groupe."},{value:"streak-breaker",icon:"",name:"Briseur de Srie",category:"special",description:"Mettre fin  la srie de victoires d'un autre joueur."},{value:"perfect-hand",icon:"",name:"Main Parfaite",category:"special",description:"Obtenir une combinaison de cartes exceptionnellement rare."},{value:"anniversary",icon:"",name:"Cadeau d'Anniversaire",category:"special",description:"Gagner le jour de son anniversaire."},{value:"hat-trick",icon:"",name:"Coup du Chapeau",category:"special",description:"Troisime victoire conscutive de la soire."},{value:"tension",icon:"",name:"Haute Tension",category:"ambiance",description:"Partie o la tension tait palpable du dbut  la fin."},{value:"laughs",icon:"",name:"Fou Rire",category:"ambiance",description:"Partie marque par des moments hilarants et des fous rires."},{value:"drama",icon:"",name:"Digne d'un Film",category:"ambiance",description:"Rebondissements dignes d'un scnario de cinma."},{value:"salty",icon:"",name:"Rcolte de Sel",category:"ambiance",description:"Victoire qui a gnr beaucoup de frustration chez les perdants."},{value:"respect",icon:"",name:"Respect Mutuel",category:"ambiance",description:"Partie fair-play o tous les joueurs se sont respects."},{value:"night-owl",icon:"",name:"Oiseau de Nuit",category:"conditions",description:"Victoire obtenue trs tard dans la nuit (aprs minuit)."},{value:"early-bird",icon:"",name:"Lve-Tt",category:"conditions",description:"Partie joue tt le matin."},{value:"hangover",icon:"",name:"Lendemain Difficile",category:"conditions",description:"Gagner malgr un tat de fatigue ou les effets de la veille."},{value:"focused",icon:"",name:"Concentration Absolue",category:"conditions",description:"Victoire grce  une concentration sans faille du dbut  la fin."}],fl=[{value:"performance",label:" Performance",description:"Badges lis  la qualit de jeu et aux exploits"},{value:"chance",label:" Chance & Destin",description:"Quand la chance sourit au vainqueur"},{value:"strategie",label:" Stratgie",description:"Victoires tactiques et rflchies"},{value:"timing",label:" Timing",description:"Tout est une question de timing"},{value:"social",label:" Contexte Social",description:"L'histoire derrire la victoire"},{value:"style",label:" Style de Jeu",description:"Comment vous avez gagn"},{value:"special",label:" Moments Spciaux",description:"Occasions uniques et mmorables"},{value:"ambiance",label:" Ambiance",description:"L'atmosphre de la partie"},{value:"conditions",label:" Conditions",description:"Le contexte de la partie"}],Nv={belote:"bg-blue-500/20 text-blue-300",tarot:"bg-purple-500/20 text-purple-300",poker:"bg-red-500/20 text-red-300",uno:"bg-green-500/20 text-green-300",rami:"bg-orange-500/20 text-orange-300",bataille:"bg-pink-500/20 text-pink-300",president:"bg-yellow-500/20 text-yellow-300","gin-bresilien":"bg-amber-500/20 text-amber-300",coinche:"bg-indigo-500/20 text-indigo-300",bridge:"bg-teal-500/20 text-teal-300",blackjack:"bg-rose-500/20 text-rose-300",autre:"bg-gray-500/20 text-gray-300"},Nh={performance:"from-amber-500/20 to-orange-500/20 border-amber-500/30",chance:"from-green-500/20 to-emerald-500/20 border-green-500/30",strategie:"from-purple-500/20 to-violet-500/20 border-purple-500/30",timing:"from-blue-500/20 to-cyan-500/20 border-blue-500/30",social:"from-pink-500/20 to-rose-500/20 border-pink-500/30",style:"from-indigo-500/20 to-blue-500/20 border-indigo-500/30",special:"from-yellow-500/20 to-amber-500/20 border-yellow-500/30",ambiance:"from-red-500/20 to-pink-500/20 border-red-500/30",conditions:"from-slate-500/20 to-gray-500/20 border-slate-500/30"},kh=t=>{const e=new Date(t),n={day:"numeric",month:"long",year:"numeric"};return e.toLocaleDateString("fr-FR",n)},tp=t=>{let e=Tv[0].title;for(const n of Tv)t>=n.min&&(e=n.title);return e},DM=t=>{const e=ep.find(n=>n.value===t);return(e==null?void 0:e.emoji)||""},LM=t=>{const e=ep.find(n=>n.value===t);return(e==null?void 0:e.text)||"Partie de cartes"},Po=t=>$r.find(n=>n.value===t)||{icon:"",name:t},np=(t,e)=>{const n=e.filter(l=>l.winnerId===t).length,i=e.filter(l=>{var c;return l.winnerId===t||((c=l.participants)==null?void 0:c.includes(t))}).length,o=i>0?Math.round(n/i*100):0;return{wins:n,gamesPlayed:i,winRate:o}},rp=(t,e)=>{const n=[...e].sort((l,c)=>new Date(l.date)-new Date(c.date));let i=0,o=0;for(const l of n)l.winnerId===t?(i++,o=Math.max(o,i)):i=0;return{currentStreak:i,maxStreak:o}},OM=t=>{if(t.length===0)return{player:null,streak:0};const e=[...t].sort((o,l)=>new Date(l.date)-new Date(o.date)),n=e[0].winnerId;let i=0;for(const o of e)if(o.winnerId===n)i++;else break;return{player:n,streak:i}},rw=R.createContext(null);function FM({children:t}){const[e,n]=R.useState([]),[i,o]=R.useState([]),[l,c]=R.useState(!0);R.useEffect(()=>{const E=Dn(Ln,"players"),k=bv(E,L=>{const B=L.val();if(B){const Y=Object.keys(B).map(ie=>({id:ie,...B[ie]}));n(Y)}else n([])},L=>{console.error("Erreur chargement joueurs:",L),c(!1)}),D=Dn(Ln,"games"),F=bv(D,L=>{const B=L.val();if(B){const Y=Object.keys(B).map(ie=>({id:ie,...B[ie]}));Y.sort((ie,se)=>new Date(ie.createdAt)-new Date(se.createdAt)),o(Y)}else o([]);c(!1)},L=>{console.error("Erreur chargement parties:",L),c(!1)});return()=>{k(),F()}},[]),R.useEffect(()=>{e.length>0&&i.length>0&&!l&&e.forEach(async E=>{const k=i.filter(L=>L.winnerId===E.id).length,{currentStreak:D,maxStreak:F}=rp(E.id,i);if(E.wins!==k||E.maxStreak!==F||E.currentStreak!==D)try{const L=Dn(Ln,`players/${E.id}`);await Md(L,{wins:k,currentStreak:D,maxStreak:F})}catch(L){console.error("Erreur mise  jour stats:",L)}})},[i,l]);const b={players:e,games:i,loading:l,createPlayer:async(E,k="",D="")=>{try{const F={name:E.trim(),emoji:k,description:D,createdAt:new Date().toISOString(),wins:0,gamesPlayed:0,maxStreak:0,currentStreak:0},L=Dn(Ln,"players"),B=Sv(L);return await bh(B,F),{id:B.key,...F}}catch(F){throw console.error("Erreur cration joueur:",F),F}},updatePlayer:async(E,k)=>{try{const D=Dn(Ln,`players/${E}`);await Md(D,k)}catch(D){throw console.error("Erreur mise  jour joueur:",D),D}},deletePlayer:async E=>{try{const k=Dn(Ln,`players/${E}`);await Ev(k)}catch(k){throw console.error("Erreur suppression joueur:",k),k}},getPlayer:E=>e.find(k=>k.id===E),addGame:async E=>{try{const k={...E,createdAt:new Date().toISOString()},D=Dn(Ln,"games"),F=Sv(D);return await bh(F,k),{id:F.key,...k}}catch(k){throw console.error("Erreur ajout partie:",k),k}},updateGame:async(E,k)=>{try{const D=Dn(Ln,`games/${E}`);await Md(D,k)}catch(D){throw console.error("Erreur modification partie:",D),D}},getGame:E=>i.find(k=>k.id===E),deleteGame:async E=>{try{const k=Dn(Ln,`games/${E}`);await Ev(k)}catch(k){throw console.error("Erreur suppression partie:",k),k}}};return m.jsx(rw.Provider,{value:b,children:t})}function Hn(){const t=R.useContext(rw);if(!t)throw new Error("useGame must be used within a GameProvider");return t}function VM({stat:t,index:e}){const n=R.useRef(null),[i,o]=R.useState(!1),l=wl(0),c=wl(0),d={stiffness:150,damping:15},h=S0(ki(c,[-100,100],[25,-25]),d),p=S0(ki(l,[-100,100],[-25,25]),d),y=ki(l,[-100,100],[0,100]),v=ki(c,[-100,100],[0,100]),x=D=>{if(!n.current)return;const F=n.current.getBoundingClientRect(),L=F.left+F.width/2,B=F.top+F.height/2;l.set(D.clientX-L),c.set(D.clientY-B)},C=()=>{l.set(0),c.set(0)},P=()=>{o(!i)},E=["","","",""][e%4],k=e%4===1||e%4===2?"#ef4444":"#ffffff";return m.jsxs(V.div,{className:"relative perspective-1000 cursor-pointer",initial:{opacity:0,y:50,rotateY:-30},animate:{opacity:1,y:0,rotateY:0},transition:{delay:e*.15,duration:.6,type:"spring"},children:[m.jsxs(V.div,{ref:n,className:"relative w-full aspect-[3/4] preserve-3d",style:{rotateX:i?0:h,rotateY:i?180:p,transformStyle:"preserve-3d"},onMouseMove:x,onMouseLeave:C,onClick:P,whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:[m.jsxs(V.div,{className:"absolute inset-0 rounded-xl sm:rounded-2xl overflow-hidden backface-hidden",style:{backfaceVisibility:"hidden",background:`linear-gradient(135deg, ${t.bgFrom}, ${t.bgTo})`,boxShadow:`
              0 25px 50px -12px rgba(0, 0, 0, 0.5),
              0 0 0 1px rgba(255, 255, 255, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.2)
            `},children:[m.jsx("div",{className:"absolute inset-0 opacity-10",children:m.jsx("div",{className:"absolute top-0 left-0 w-full h-full",style:{backgroundImage:`repeating-linear-gradient(
                  45deg,
                  transparent,
                  transparent 10px,
                  rgba(255,255,255,0.03) 10px,
                  rgba(255,255,255,0.03) 20px
                )`}})}),m.jsxs("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 flex flex-col items-center",children:[m.jsx("span",{className:"text-xs sm:text-sm font-bold text-white/80",children:e+1}),m.jsx("span",{className:"text-sm sm:text-lg -mt-0.5",style:{color:k,opacity:.8},children:E})]}),m.jsxs("div",{className:"absolute bottom-2 sm:bottom-3 right-2 sm:right-3 flex flex-col items-center rotate-180",children:[m.jsx("span",{className:"text-xs sm:text-sm font-bold text-white/80",children:e+1}),m.jsx("span",{className:"text-sm sm:text-lg -mt-0.5",style:{color:k,opacity:.8},children:E})]}),m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 sm:p-4",children:[m.jsxs(V.div,{className:"relative mb-2 sm:mb-3",animate:{rotateY:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear",delay:e*.5},children:[m.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${t.iconFrom}, ${t.iconTo})`,boxShadow:`0 8px 32px ${t.iconShadow}`},children:m.jsx(t.icon,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white drop-shadow-lg"})}),m.jsx(V.div,{className:"absolute inset-0 rounded-xl sm:rounded-2xl",style:{background:`linear-gradient(135deg, ${t.iconFrom}, ${t.iconTo})`},animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:e*.3}})]}),m.jsx(V.div,{className:"text-xl sm:text-2xl md:text-3xl font-black text-white text-center truncate max-w-full px-2 drop-shadow-lg",style:{textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:t.value}),m.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm text-white/70 font-semibold uppercase tracking-wider mt-0.5 sm:mt-1",children:t.label})]}),m.jsx(V.div,{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(
                135deg, 
                transparent 40%, 
                rgba(255,255,255,0.1) 45%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0.1) 55%, 
                transparent 60%
              )`,backgroundSize:"200% 200%",backgroundPosition:ki([y,v],([D,F])=>`${D}% ${F}%`)}}),m.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl border border-white/20"})]}),m.jsxs(V.div,{className:"absolute inset-0 rounded-xl sm:rounded-2xl overflow-hidden backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",background:"linear-gradient(135deg, #1a1a2e, #16213e)",boxShadow:`
              0 25px 50px -12px rgba(0, 0, 0, 0.5),
              0 0 0 1px rgba(255, 255, 255, 0.1)
            `},children:[m.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              repeating-linear-gradient(45deg, rgba(212,175,55,0.1) 0px, rgba(212,175,55,0.1) 1px, transparent 1px, transparent 10px),
              repeating-linear-gradient(-45deg, rgba(212,175,55,0.1) 0px, rgba(212,175,55,0.1) 1px, transparent 1px, transparent 10px)
            `}}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"text-5xl sm:text-6xl md:text-7xl opacity-30",children:""}),m.jsx(V.div,{className:"absolute inset-0 flex items-center justify-center",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:m.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 border-2 border-gold/30 rounded-full"})})]})}),m.jsx("div",{className:"absolute inset-2 sm:inset-3 rounded-lg sm:rounded-xl border-2 border-gold/20"}),m.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl border border-gold/10"})]})]}),m.jsx(V.div,{className:"absolute -bottom-2 sm:-bottom-4 left-1/2 -translate-x-1/2 w-4/5 h-4 sm:h-6 rounded-full blur-xl",style:{background:t.shadowColor,opacity:.4},animate:{scaleX:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0}}),m.jsx(V.div,{className:"absolute -bottom-5 sm:-bottom-6 left-1/2 -translate-x-1/2 text-[8px] sm:text-[10px] text-white/30 whitespace-nowrap",initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,delay:2+e*.5},children:"Cliquez pour retourner"})]})}function BM(){const{players:t,games:e}=Hn(),n=e.length,i={};e.forEach(y=>{i[y.winnerId]=(i[y.winnerId]||0)+1});const o=Object.keys(i).sort((y,v)=>i[v]-i[y])[0],l=t.find(y=>y.id===o),{streak:c}=OM(e),d={};e.forEach(y=>{y.place&&(d[y.place]=(d[y.place]||0)+1)});const h=Object.keys(d).sort((y,v)=>d[v]-d[y])[0],p=[{icon:Yl,value:n,label:"Parties",bgFrom:"#1a1a2e",bgTo:"#2d1f47",iconFrom:"#f59e0b",iconTo:"#d97706",iconShadow:"rgba(245, 158, 11, 0.4)",shadowColor:"rgba(245, 158, 11, 0.5)"},{icon:df,value:(l==null?void 0:l.name)||"-",label:"Champion",bgFrom:"#1a1a2e",bgTo:"#2d2d1f",iconFrom:"#eab308",iconTo:"#ca8a04",iconShadow:"rgba(234, 179, 8, 0.4)",shadowColor:"rgba(234, 179, 8, 0.5)"},{icon:ik,value:c,label:"Srie",bgFrom:"#1a1a2e",bgTo:"#3d1f1f",iconFrom:"#f97316",iconTo:"#dc2626",iconShadow:"rgba(249, 115, 22, 0.4)",shadowColor:"rgba(249, 115, 22, 0.5)"},{icon:Cl,value:h||"-",label:"Lieu favori",bgFrom:"#1a1a2e",bgTo:"#1f3d2d",iconFrom:"#10b981",iconTo:"#059669",iconShadow:"rgba(16, 185, 129, 0.4)",shadowColor:"rgba(16, 185, 129, 0.5)"}];return m.jsxs("section",{className:"mb-8 sm:mb-10 md:mb-12",children:[m.jsxs(V.div,{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[m.jsx("div",{className:"w-1 h-5 sm:h-6 bg-gradient-to-b from-gold to-amber-600 rounded-full"}),m.jsx("h2",{className:"text-base sm:text-lg font-semibold text-white/80",children:"Statistiques Rapides"})]}),m.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:p.map((y,v)=>m.jsx(VM,{stat:y,index:v},y.label))})]})}function zM(){const{players:t,games:e}=Hn(),n={};e.forEach(c=>{n[c.winnerId]=(n[c.winnerId]||0)+1});const i=t.map(c=>({...c,wins:n[c.id]||0})).sort((c,d)=>d.wins-c.wins).slice(0,3),o=[{position:2,medal:"",height:80,heightMd:120,gradient:"podium-second",delay:.4,y:30,yMd:40},{position:1,medal:"",height:110,heightMd:160,gradient:"podium-first",delay:.2,y:0,yMd:0,crown:!0},{position:3,medal:"",height:60,heightMd:80,gradient:"podium-third",delay:.6,y:50,yMd:80}],l=[1,0,2];return m.jsx("div",{className:"flex items-end justify-center gap-2 sm:gap-4 md:gap-6 py-6 md:py-10 perspective-1000 px-2",children:l.map((c,d)=>{const h=o[c],p=i[h.position-1];return m.jsxs(V.div,{className:"flex flex-col items-center flex-1 max-w-[140px] md:max-w-none",initial:{opacity:0,y:100,rotateX:45},animate:{opacity:1,y:0,rotateX:0},transition:{delay:h.delay,duration:.8,type:"spring",stiffness:80},style:{marginTop:h.y},children:[h.crown&&m.jsx(V.div,{className:"text-3xl md:text-5xl crown-float mb-1 md:mb-2",initial:{y:-50,opacity:0,scale:0},animate:{y:0,opacity:1,scale:1},transition:{delay:.8,type:"spring",stiffness:200},children:""}),p?m.jsx(zt,{to:`/players/${p.id}`,children:m.jsx(V.div,{className:"avatar-3d w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 text-2xl sm:text-3xl md:text-4xl mb-2 md:mb-3 cursor-pointer",whileHover:{scale:1.2,rotate:[0,-10,10,0],transition:{duration:.5}},children:p.emoji||h.medal})}):m.jsx(V.div,{className:"avatar-3d w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 text-2xl sm:text-3xl md:text-4xl mb-2 md:mb-3 opacity-30",children:h.medal}),p?m.jsx(zt,{to:`/players/${p.id}`,className:"group",children:m.jsx(V.div,{className:"font-display text-sm sm:text-base md:text-xl font-bold text-white mb-0.5 md:mb-1 text-center group-hover:text-gold transition-colors line-clamp-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:h.delay+.3},children:p.name})}):m.jsx(V.div,{className:"font-display text-sm sm:text-base md:text-xl font-bold text-white/30 mb-0.5 md:mb-1 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:h.delay+.3},children:"-"}),m.jsxs(V.div,{className:"text-xs sm:text-sm text-gold/80 mb-1 md:mb-2 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:h.delay+.4},children:[(p==null?void 0:p.wins)||0," victoire",((p==null?void 0:p.wins)||0)!==1?"s":""]}),p&&m.jsx(zt,{to:`/players/${p.id}`,className:"hidden sm:block",children:m.jsxs(V.div,{className:"flex items-center gap-1 text-xs text-white/40 hover:text-gold transition-colors mb-2 md:mb-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:h.delay+.5},whileHover:{scale:1.05},children:[m.jsx(hf,{className:"w-3 h-3"}),m.jsx("span",{children:"Profil"})]})}),m.jsx(V.div,{className:`podium-stand ${h.gradient} w-full sm:w-24 md:w-32 lg:w-40 text-2xl sm:text-3xl md:text-4xl`,style:{height:h.height},initial:{height:0},animate:{height:h.height},transition:{delay:h.delay+.2,duration:.6,type:"spring",stiffness:100},whileHover:{scale:1.05,transition:{duration:.2}},children:m.jsx("span",{className:"relative z-10",children:h.position})})]},h.position)})})}function UM(){const{players:t,games:e}=Hn(),n=t.map(o=>{const{wins:l,gamesPlayed:c,winRate:d}=np(o.id,e),{maxStreak:h}=rp(o.id,e);return{...o,wins:l,gamesPlayed:c,winRate:d,maxStreak:h}}).sort((o,l)=>l.wins-o.wins),i=o=>o===1?{class:"rank-1",emoji:""}:o===2?{class:"rank-2",emoji:""}:o===3?{class:"rank-3",emoji:""}:{class:"bg-white/5 text-white/50",emoji:null};return m.jsx(V.div,{className:"leaderboard-table",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-white/5",children:[m.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-white/30 uppercase tracking-wider w-20",children:"Rang"}),m.jsx("th",{className:"px-6 py-4 text-left text-[11px] font-bold text-white/30 uppercase tracking-wider",children:"Joueur"}),m.jsx("th",{className:"px-6 py-4 text-center text-[11px] font-bold text-white/30 uppercase tracking-wider w-28",children:"Victoires"}),m.jsx("th",{className:"px-6 py-4 text-center text-[11px] font-bold text-white/30 uppercase tracking-wider w-24 hidden md:table-cell",children:"Taux"}),m.jsx("th",{className:"px-6 py-4 text-center text-[11px] font-bold text-white/30 uppercase tracking-wider w-28 hidden md:table-cell",children:"Srie Max"}),m.jsx("th",{className:"px-6 py-4 text-center text-[11px] font-bold text-white/30 uppercase tracking-wider w-24",children:"Profil"})]})}),m.jsxs("tbody",{children:[n.map((o,l)=>{const c=l+1,d=i(c);return m.jsxs(V.tr,{className:"table-row group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05,duration:.3},whileHover:{backgroundColor:"rgba(212, 175, 55, 0.03)"},children:[m.jsx("td",{className:"px-6 py-4",children:m.jsx(V.div,{className:`rank-badge ${d.class}`,whileHover:{scale:1.1,rotate:5},children:d.emoji||c})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs(zt,{to:`/players/${o.id}`,className:"flex items-center gap-4 group/link",children:[m.jsx(V.div,{className:"avatar-3d w-12 h-12 text-2xl",whileHover:{scale:1.15},children:o.emoji||""}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-white group-hover/link:text-gold transition-colors",children:o.name}),m.jsx("div",{className:"text-xs text-white/30",children:tp(o.wins)})]})]})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx(V.span,{className:"font-display text-2xl font-bold bg-gradient-to-r from-gold to-amber-300 bg-clip-text text-transparent",whileHover:{scale:1.2},children:o.wins})}),m.jsx("td",{className:"px-6 py-4 text-center hidden md:table-cell",children:m.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-white/5 text-white/70",children:[o.winRate,"%"]})}),m.jsx("td",{className:"px-6 py-4 text-center hidden md:table-cell",children:m.jsxs("span",{className:"text-orange-400 font-medium flex items-center justify-center gap-1",children:[m.jsx("span",{className:"text-lg",children:""})," ",o.maxStreak]})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx(zt,{to:`/players/${o.id}`,children:m.jsxs(V.button,{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gold/10 border border-gold/20 text-gold text-sm hover:bg-gold/20 hover:border-gold/40 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[m.jsx(hf,{className:"w-3.5 h-3.5"}),m.jsx("span",{children:"Voir"})]})})})]},o.id)}),n.length===0&&m.jsx("tr",{children:m.jsxs("td",{colSpan:6,className:"px-6 py-16 text-center text-white/30",children:[m.jsx("div",{className:"text-4xl mb-2",children:""}),"Aucun joueur enregistr"]})})]})]})})}const WM={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},HM={hidden:{opacity:0,y:30,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function $M({onEditGame:t}){const{players:e,games:n,getPlayer:i,deleteGame:o}=Hn(),[l,c]=R.useState(""),[d,h]=R.useState(""),[p,y]=R.useState({open:!1,gameId:null,gameName:""});let v=[...n];l&&(v=v.filter(b=>b.winnerId===l)),d&&(v=v.filter(b=>b.place===d)),v.sort((b,E)=>new Date(E.date)-new Date(b.date));const x=[...new Set(n.map(b=>b.place).filter(Boolean))],C=b=>{const E=i(b.winnerId);y({open:!0,gameId:b.id,gameName:`${(E==null?void 0:E.name)||"Inconnu"} - ${kh(b.date)}`})},P=async()=>{if(p.gameId)try{await o(p.gameId)}catch(b){console.error("Erreur suppression:",b)}};return m.jsxs(V.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-6 md:mb-8",children:[m.jsxs("h2",{className:"font-display text-2xl md:text-3xl font-bold text-white flex items-center gap-2 md:gap-3",children:[m.jsx(V.span,{className:"text-red-500 text-3xl md:text-4xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:""}),"Historique"]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[m.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[m.jsx(rk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gold/60 pointer-events-none z-10"}),m.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"form-input py-2.5 text-sm w-full sm:min-w-[180px] text-white",style:{paddingLeft:"2.5rem"},children:[m.jsx("option",{value:"",children:"Tous les joueurs"}),e.map(b=>m.jsxs("option",{value:b.id,children:[b.emoji," ",b.name]},b.id))]})]}),m.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[m.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gold/60 pointer-events-none z-10"}),m.jsxs("select",{value:d,onChange:b=>h(b.target.value),className:"form-input py-2.5 text-sm w-full sm:min-w-[180px] text-white",style:{paddingLeft:"2.5rem"},children:[m.jsx("option",{value:"",children:"Tous les lieux"}),x.map(b=>m.jsx("option",{value:b,children:b},b))]})]})]})]}),m.jsx(Zi,{mode:"popLayout",children:v.length>0?m.jsx(V.div,{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",variants:WM,initial:"hidden",animate:"show",children:v.map(b=>{var D,F,L;const E=i(b.winnerId),k=Nv[b.gameType]||Nv.autre;return m.jsxs(V.div,{className:"game-card group",variants:HM,layout:!0,whileHover:{y:-5},children:[m.jsxs("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[m.jsx(V.span,{className:`px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide ${k}`,whileHover:{scale:1.05},children:b.gameType}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/40",children:[m.jsx(k1,{className:"w-3.5 h-3.5"}),m.jsx("span",{children:kh(b.date)})]})]}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[E?m.jsx(zt,{to:`/players/${E.id}`,children:m.jsx(V.div,{className:"avatar-3d w-14 h-14 text-3xl winner-badge cursor-pointer",whileHover:{scale:1.1,rotate:5},children:E.emoji||""})}):m.jsx("div",{className:"avatar-3d w-14 h-14 text-3xl opacity-50",children:""}),m.jsxs("div",{children:[E?m.jsx(zt,{to:`/players/${E.id}`,className:"group",children:m.jsx("h4",{className:"font-display text-xl font-bold bg-gradient-to-r from-gold to-amber-300 bg-clip-text text-transparent group-hover:from-amber-200 group-hover:to-yellow-100 transition-all",children:E.name})}):m.jsx("h4",{className:"font-display text-xl font-bold text-white/50",children:"Joueur inconnu"}),m.jsxs("p",{className:"text-sm text-white/40 flex items-center gap-1",children:[m.jsx("span",{children:DM(b.mood)}),m.jsx("span",{children:LM(b.mood)})]})]})]}),E&&m.jsx(zt,{to:`/players/${E.id}`,children:m.jsxs(V.div,{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs text-white/40 hover:text-gold hover:bg-gold/10 transition-all",whileHover:{scale:1.05},children:[m.jsx(hf,{className:"w-3 h-3"}),m.jsx("span",{children:"Profil"})]})})]}),b.place&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/40",children:[m.jsx(Cl,{className:"w-4 h-4"}),m.jsx("span",{children:b.place})]}),((D=b.badges)==null?void 0:D.length)>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:b.badges.map(B=>{const Y=Po(B);return m.jsxs(V.span,{className:"px-2.5 py-1 rounded-lg text-xs bg-white/5 text-white/60 border border-white/5",title:Y.name,whileHover:{scale:1.1,backgroundColor:"rgba(212, 175, 55, 0.1)"},children:[Y.icon," ",Y.name]},B)})}),b.comment&&m.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-white/[0.02] text-sm text-white/50 italic border-l-2 border-gold/30",children:['"',b.comment,'"']})]}),m.jsxs("div",{className:"px-4 sm:px-5 py-3 sm:py-4 bg-white/[0.03] flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 border-t border-white/10 relative z-10",children:[m.jsxs("div",{className:"flex -space-x-2",children:[(F=b.participants)==null?void 0:F.slice(0,4).map(B=>{const Y=i(B);return m.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-white/10 border-2 border-card-black flex items-center justify-center text-xs sm:text-sm",title:(Y==null?void 0:Y.name)||"Inconnu",children:(Y==null?void 0:Y.emoji)||""},B)}),((L=b.participants)==null?void 0:L.length)>4&&m.jsxs("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gold/20 border-2 border-card-black flex items-center justify-center text-xs font-bold text-gold",children:["+",b.participants.length-4]}),(!b.participants||b.participants.length===0)&&m.jsx("span",{className:"text-xs text-white/30",children:"Aucun participant"})]}),m.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[m.jsxs("button",{type:"button",onClick:()=>t==null?void 0:t(b),className:"flex-1 sm:flex-none flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg bg-gold/10 border border-gold/30 text-gold hover:bg-gold/20 hover:border-gold/50 transition-all duration-200 text-xs sm:text-sm font-medium",children:[m.jsx(Sl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{children:"Modifier"})]}),m.jsxs("button",{type:"button",onClick:()=>C(b),className:"flex-1 sm:flex-none flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200 text-xs sm:text-sm font-medium",children:[m.jsx(pf,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m.jsx("span",{children:"Supprimer"})]})]})]})]},b.id)})}):m.jsxs(V.div,{className:"text-center py-20",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[m.jsx(V.div,{className:"text-8xl mb-6 opacity-30",animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0},children:""}),m.jsx("h3",{className:"font-display text-2xl text-white/50 mb-2",children:"Aucune partie enregistre"}),m.jsx("p",{className:"text-white/30",children:"Commencez  jouer et enregistrez votre premire victoire !"})]})}),m.jsx(I1,{isOpen:p.open,onClose:()=>y({open:!1,gameId:null,gameName:""}),onConfirm:P,title:"Supprimer cette partie ?",message:`tes-vous sr de vouloir supprimer la partie "${p.gameName}" ? Cette action est irrversible.`,confirmText:"Oui, supprimer",cancelText:"Non, annuler",variant:"danger"})]})}var ip={};(function t(e,n,i,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var T=new OffscreenCanvas(1,1),w=T.getContext("2d");w.fillRect(0,0,1,1);var A=T.transferToImageBitmap();w.createPattern(A,"no-repeat")}catch{return!1}return!0})();function h(){}function p(T){var w=n.exports.Promise,A=w!==void 0?w:e.Promise;return typeof A=="function"?new A(T):(T(h,h),null)}var y=(function(T,w){return{transform:function(A){if(T)return A;if(w.has(A))return w.get(A);var K=new OffscreenCanvas(A.width,A.height),q=K.getContext("2d");return q.drawImage(A,0,0),w.set(A,K),K},clear:function(){w.clear()}}})(d,new Map),v=(function(){var T=Math.floor(16.666666666666668),w,A,K={},q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(X){var J=Math.random();return K[J]=requestAnimationFrame(function Q(ee){q===ee||q+T-1<ee?(q=ee,delete K[J],X()):K[J]=requestAnimationFrame(Q)}),J},A=function(X){K[X]&&cancelAnimationFrame(K[X])}):(w=function(X){return setTimeout(X,T)},A=function(X){return clearTimeout(X)}),{frame:w,cancel:A}})(),x=(function(){var T,w,A={};function K(q){function X(J,Q){q.postMessage({options:J||{},callback:Q})}q.init=function(Q){var ee=Q.transferControlToOffscreen();q.postMessage({canvas:ee},[ee])},q.fire=function(Q,ee,ue){if(w)return X(Q,null),w;var we=Math.random().toString(36).slice(2);return w=p(function(be){function De(Ue){Ue.data.callback===we&&(delete A[we],q.removeEventListener("message",De),w=null,y.clear(),ue(),be())}q.addEventListener("message",De),X(Q,we),A[we]=De.bind(null,{data:{callback:we}})}),w},q.reset=function(){q.postMessage({reset:!0});for(var Q in A)A[Q](),delete A[Q]}}return function(){if(T)return T;if(!i&&l){var q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([q])))}catch(X){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",X),null}K(T)}return T}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function P(T,w){return w?w(T):T}function b(T){return T!=null}function E(T,w,A){return P(T&&b(T[w])?T[w]:C[w],A)}function k(T){return T<0?0:Math.floor(T)}function D(T,w){return Math.floor(Math.random()*(w-T))+T}function F(T){return parseInt(T,16)}function L(T){return T.map(B)}function B(T){var w=String(T).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:F(w.substring(0,2)),g:F(w.substring(2,4)),b:F(w.substring(4,6))}}function Y(T){var w=E(T,"origin",Object);return w.x=E(w,"x",Number),w.y=E(w,"y",Number),w}function ie(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function se(T){var w=T.getBoundingClientRect();T.width=w.width,T.height=w.height}function Te(T){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=T,w}function Pe(T,w,A,K,q,X,J,Q,ee){T.save(),T.translate(w,A),T.rotate(X),T.scale(K,q),T.arc(0,0,1,J,Q,ee),T.restore()}function tt(T){var w=T.angle*(Math.PI/180),A=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-w+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function bt(T,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var A=w.tick++/w.totalTicks,K=w.x+w.random*w.tiltCos,q=w.y+w.random*w.tiltSin,X=w.wobbleX+w.random*w.tiltCos,J=w.wobbleY+w.random*w.tiltSin;if(T.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-A)+")",T.beginPath(),c&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))T.fill(pe(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(X-K)*.1,Math.abs(J-q)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var Q=Math.PI/10*w.wobble,ee=Math.abs(X-K)*.1,ue=Math.abs(J-q)*.1,we=w.shape.bitmap.width*w.scalar,be=w.shape.bitmap.height*w.scalar,De=new DOMMatrix([Math.cos(Q)*ee,Math.sin(Q)*ee,-Math.sin(Q)*ue,Math.cos(Q)*ue,w.x,w.y]);De.multiplySelf(new DOMMatrix(w.shape.matrix));var Ue=T.createPattern(y.transform(w.shape.bitmap),"no-repeat");Ue.setTransform(De),T.globalAlpha=1-A,T.fillStyle=Ue,T.fillRect(w.x-we/2,w.y-be/2,we,be),T.globalAlpha=1}else if(w.shape==="circle")T.ellipse?T.ellipse(w.x,w.y,Math.abs(X-K)*w.ovalScalar,Math.abs(J-q)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):Pe(T,w.x,w.y,Math.abs(X-K)*w.ovalScalar,Math.abs(J-q)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var xe=Math.PI/2*3,pt=4*w.scalar,Rt=8*w.scalar,Tt=w.x,Gt=w.y,rn=5,_t=Math.PI/rn;rn--;)Tt=w.x+Math.cos(xe)*Rt,Gt=w.y+Math.sin(xe)*Rt,T.lineTo(Tt,Gt),xe+=_t,Tt=w.x+Math.cos(xe)*pt,Gt=w.y+Math.sin(xe)*pt,T.lineTo(Tt,Gt),xe+=_t;else T.moveTo(Math.floor(w.x),Math.floor(w.y)),T.lineTo(Math.floor(w.wobbleX),Math.floor(q)),T.lineTo(Math.floor(X),Math.floor(J)),T.lineTo(Math.floor(K),Math.floor(w.wobbleY));return T.closePath(),T.fill(),w.tick<w.totalTicks}function dt(T,w,A,K,q){var X=w.slice(),J=T.getContext("2d"),Q,ee,ue=p(function(we){function be(){Q=ee=null,J.clearRect(0,0,K.width,K.height),y.clear(),q(),we()}function De(){i&&!(K.width===o.width&&K.height===o.height)&&(K.width=T.width=o.width,K.height=T.height=o.height),!K.width&&!K.height&&(A(T),K.width=T.width,K.height=T.height),J.clearRect(0,0,K.width,K.height),X=X.filter(function(Ue){return bt(J,Ue)}),X.length?Q=v.frame(De):be()}Q=v.frame(De),ee=be});return{addFettis:function(we){return X=X.concat(we),ue},canvas:T,promise:ue,reset:function(){Q&&v.cancel(Q),ee&&ee()}}}function ht(T,w){var A=!T,K=!!E(w||{},"resize"),q=!1,X=E(w,"disableForReducedMotion",Boolean),J=l&&!!E(w||{},"useWorker"),Q=J?x():null,ee=A?ie:se,ue=T&&Q?!!T.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,be;function De(xe,pt,Rt){for(var Tt=E(xe,"particleCount",k),Gt=E(xe,"angle",Number),rn=E(xe,"spread",Number),_t=E(xe,"startVelocity",Number),$n=E(xe,"decay",Number),is=E(xe,"gravity",Number),$o=E(xe,"drift",Number),ss=E(xe,"colors",L),Go=E(xe,"ticks",Number),os=E(xe,"shapes"),as=E(xe,"scalar"),ni=!!E(xe,"flat"),ls=Y(xe),Gn=Tt,Tn=[],cc=T.width*ls.x,Ko=T.height*ls.y;Gn--;)Tn.push(tt({x:cc,y:Ko,angle:Gt,spread:rn,startVelocity:_t,color:ss[Gn%ss.length],shape:os[D(0,os.length)],ticks:Go,decay:$n,gravity:is,drift:$o,scalar:as,flat:ni}));return be?be.addFettis(Tn):(be=dt(T,Tn,ee,pt,Rt),be.promise)}function Ue(xe){var pt=X||E(xe,"disableForReducedMotion",Boolean),Rt=E(xe,"zIndex",Number);if(pt&&we)return p(function(_t){_t()});A&&be?T=be.canvas:A&&!T&&(T=Te(Rt),document.body.appendChild(T)),K&&!ue&&ee(T);var Tt={width:T.width,height:T.height};Q&&!ue&&Q.init(T),ue=!0,Q&&(T.__confetti_initialized=!0);function Gt(){if(Q){var _t={getBoundingClientRect:function(){if(!A)return T.getBoundingClientRect()}};ee(_t),Q.postMessage({resize:{width:_t.width,height:_t.height}});return}Tt.width=Tt.height=null}function rn(){be=null,K&&(q=!1,e.removeEventListener("resize",Gt)),A&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,ue=!1)}return K&&!q&&(q=!0,e.addEventListener("resize",Gt,!1)),Q?Q.fire(xe,Tt,rn):De(xe,Tt,rn)}return Ue.reset=function(){Q&&Q.reset(),be&&be.reset()},Ue}var ft;function nt(){return ft||(ft=ht(null,{useWorker:!0,resize:!0})),ft}function pe(T,w,A,K,q,X,J){var Q=new Path2D(T),ee=new Path2D;ee.addPath(Q,new DOMMatrix(w));var ue=new Path2D;return ue.addPath(ee,new DOMMatrix([Math.cos(J)*q,Math.sin(J)*q,-Math.sin(J)*X,Math.cos(J)*X,A,K])),ue}function $(T){if(!c)throw new Error("path confetti are not supported in this browser");var w,A;typeof T=="string"?w=T:(w=T.path,A=T.matrix);var K=new Path2D(w),q=document.createElement("canvas"),X=q.getContext("2d");if(!A){for(var J=1e3,Q=J,ee=J,ue=0,we=0,be,De,Ue=0;Ue<J;Ue+=2)for(var xe=0;xe<J;xe+=2)X.isPointInPath(K,Ue,xe,"nonzero")&&(Q=Math.min(Q,Ue),ee=Math.min(ee,xe),ue=Math.max(ue,Ue),we=Math.max(we,xe));be=ue-Q,De=we-ee;var pt=10,Rt=Math.min(pt/be,pt/De);A=[Rt,0,0,Rt,-Math.round(be/2+Q)*Rt,-Math.round(De/2+ee)*Rt]}return{type:"path",path:w,matrix:A}}function ae(T){var w,A=1,K="#000000",q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?w=T:(w=T.text,A="scalar"in T?T.scalar:A,q="fontFamily"in T?T.fontFamily:q,K="color"in T?T.color:K);var X=10*A,J=""+X+"px "+q,Q=new OffscreenCanvas(X,X),ee=Q.getContext("2d");ee.font=J;var ue=ee.measureText(w),we=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),be=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),De=2,Ue=ue.actualBoundingBoxLeft+De,xe=ue.actualBoundingBoxAscent+De;we+=De+De,be+=De+De,Q=new OffscreenCanvas(we,be),ee=Q.getContext("2d"),ee.font=J,ee.fillStyle=K,ee.fillText(w,Ue,xe);var pt=1/A;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[pt,0,0,pt,-we*pt/2,-be*pt/2]}}n.exports=function(){return nt().apply(this,arguments)},n.exports.reset=function(){nt().reset()},n.exports.create=ht,n.exports.shapeFromPath=$,n.exports.shapeFromText=ae})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ip,!1);const jd=ip.exports;ip.exports.create;const Ad={winnerId:"",date:new Date().toISOString().split("T")[0],time:"",place:"",gameType:"belote",mood:"epic",participants:[],badges:[],comment:""};function kv(t,e,n,i){const l=e.filter(x=>x.winnerId===t).length===0,c=["first-win","anniversary","night-owl","early-bird","streak-breaker","hat-trick"],d=$r.filter(x=>!c.includes(x.value)),h=Math.floor(Math.random()*3)+1,y=[...d].sort(()=>Math.random()-.5).slice(0,h).map(x=>x.value);if(l&&y.unshift("first-win"),i){const x=parseInt(i.split(":")[0]);x>=0&&x<6?y.push("night-owl"):x>=5&&x<8&&y.push("early-bird")}return e.filter(x=>x.winnerId===t).sort((x,C)=>new Date(C.date)-new Date(x.date)).slice(0,2).length===2&&y.push("hat-trick"),[...new Set(y)]}function GM({isOpen:t,onClose:e,onSuccess:n,editGame:i=null}){const{players:o,games:l,addGame:c,updateGame:d}=Hn(),h=!!i,[p,y]=R.useState(Ad),[v,x]=R.useState([]),[C,P]=R.useState(!1);R.useEffect(()=>{i?(y({winnerId:i.winnerId||"",date:i.date||new Date().toISOString().split("T")[0],time:i.time||"",place:i.place||"",gameType:i.gameType||"belote",mood:i.mood||"epic",participants:i.participants||[],badges:i.badges||[],comment:i.comment||""}),x(i.badges||[]),P(!0)):(y(Ad),x([]),P(!1))},[i,t]);const b=[...new Set(l.map(L=>L.place).filter(Boolean))],E=()=>{const L=["#D4AF37","#FFD700","#F4E4BA","#FFA500"];jd({particleCount:100,spread:70,origin:{y:.6},colors:L}),setTimeout(()=>{jd({particleCount:50,angle:60,spread:55,origin:{x:0},colors:L})},200),setTimeout(()=>{jd({particleCount:50,angle:120,spread:55,origin:{x:1},colors:L})},400)},k=async L=>{if(L.preventDefault(),!p.winnerId){alert("Veuillez slectionner un vainqueur");return}try{if(h)await d(i.id,{...p,badges:v}),n==null||n("Partie modifie !");else{const B=kv(p.winnerId,l,p.mood,p.time);await c({...p,badges:B}),E(),x(B),P(!0);const Y=B.map(ie=>Po(ie).icon).join(" ");n==null||n(` Victoire enregistre ! ${Y}`)}y(Ad),e()}catch(B){alert("Erreur lors de l'enregistrement"),console.error(B)}},D=L=>{y(B=>({...B,participants:B.participants.includes(L)?B.participants.filter(Y=>Y!==L):[...B.participants,L]}))},F=()=>{if(p.winnerId){const L=kv(p.winnerId,l,p.mood,p.time);x(L)}};return m.jsx(bk,{isOpen:t,onClose:e,title:h?m.jsxs(m.Fragment,{children:[m.jsx(Sl,{className:"w-6 h-6"})," Modifier la partie"]}):m.jsxs(m.Fragment,{children:[m.jsx(yk,{className:"w-6 h-6"})," Nouvelle Victoire"]}),children:m.jsxs("form",{onSubmit:k,children:[m.jsx(Tk,{children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:[m.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gold",children:[m.jsx(df,{className:"w-4 h-4"})," Le Grand Vainqueur"]}),m.jsxs("select",{value:p.winnerId,onChange:L=>y(B=>({...B,winnerId:L.target.value})),required:!0,className:"form-input",children:[m.jsx("option",{value:"",children:"Slectionner le champion..."}),o.map(L=>m.jsxs("option",{value:L.id,children:[L.emoji," ",L.name]},L.id))]}),o.length===0&&m.jsxs("p",{className:"text-xs text-white/30",children:["Pas de joueur ? ",m.jsx("a",{href:"/players",className:"text-gold hover:underline",children:"Crer un profil"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(k1,{className:"w-4 h-4"})," Date de la partie"]}),m.jsx("input",{type:"date",value:p.date,onChange:L=>y(B=>({...B,date:L.target.value})),required:!0,className:"form-input"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(ek,{className:"w-4 h-4"})," Heure"]}),m.jsx("input",{type:"time",value:p.time,onChange:L=>y(B=>({...B,time:L.target.value})),className:"form-input"})]}),m.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(Cl,{className:"w-4 h-4"})," Lieu de la bataille"]}),m.jsx("input",{type:"text",value:p.place,onChange:L=>y(B=>({...B,place:L.target.value})),placeholder:"Ex: Chez Marcel, Le Bar du Coin...",className:"form-input",list:"places-list"}),m.jsx("datalist",{id:"places-list",children:b.map(L=>m.jsx("option",{value:L},L))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(sk,{className:"w-4 h-4"})," Jeu de cartes"]}),m.jsx("select",{value:p.gameType,onChange:L=>y(B=>({...B,gameType:L.target.value})),className:"form-input",children:AM.map(L=>m.jsx("option",{value:L.value,children:L.label},L.value))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(_k,{className:"w-4 h-4"})," Ambiance"]}),m.jsx("select",{value:p.mood,onChange:L=>y(B=>({...B,mood:L.target.value})),className:"form-input",children:ep.map(L=>m.jsx("option",{value:L.value,children:L.label},L.value))})]}),m.jsxs("div",{className:"sm:col-span-2 space-y-3",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(El,{className:"w-4 h-4"})," Participants (les perdants )"]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.filter(L=>L.id!==p.winnerId).map(L=>m.jsxs(V.label,{className:`badge-option ${p.participants.includes(L.id)?"selected":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx("input",{type:"checkbox",checked:p.participants.includes(L.id),onChange:()=>D(L.id),className:"hidden"}),m.jsx("span",{className:"text-lg",children:L.emoji}),m.jsx("span",{className:"text-sm font-medium",children:L.name})]},L.id)),o.length<=1&&m.jsx("p",{className:"text-white/30 text-sm",children:"Ajoutez plus de joueurs"})]})]}),m.jsxs("div",{className:"sm:col-span-2 space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(dk,{className:"w-4 h-4"})," Commentaire pique"]}),m.jsx("textarea",{value:p.comment,onChange:L=>y(B=>({...B,comment:L.target.value})),rows:2,placeholder:"Racontez cette victoire lgendaire...",className:"form-input resize-none"})]}),!h&&m.jsx("div",{className:"sm:col-span-2",children:m.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-gold/10 to-amber-500/5 border border-gold/20",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gold/20 flex items-center justify-center",children:m.jsx(b0,{className:"w-5 h-5 text-gold"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gold",children:"Badges alatoires"}),m.jsx("p",{className:"text-xs text-white/50",children:"Les badges seront tirs au sort automatiquement ! "})]})]})}),h&&v.length>0&&m.jsxs("div",{className:"sm:col-span-2 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(ff,{className:"w-4 h-4"})," Badges obtenus"]}),m.jsxs(V.button,{type:"button",onClick:F,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gold/10 border border-gold/20 text-gold text-xs hover:bg-gold/20 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[m.jsx(b0,{className:"w-4 h-4"}),"Relancer"]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(L=>{const B=Po(L);return m.jsxs(V.div,{className:"flex items-center gap-2 px-3 py-2 rounded-xl glass-gold",initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:[m.jsx("span",{className:"text-xl",children:B.icon}),m.jsx("span",{className:"text-sm font-medium text-white",children:B.name})]},L)})})]})]})}),m.jsxs(Nk,{children:[m.jsxs(zi,{variant:"ghost",type:"button",onClick:e,children:[m.jsx(Fo,{className:"w-4 h-4"})," Annuler"]}),m.jsx(zi,{type:"submit",children:h?m.jsxs(m.Fragment,{children:[m.jsx(Sl,{className:"w-5 h-5"})," Enregistrer"]}):m.jsxs(m.Fragment,{children:[m.jsx(Yl,{className:"w-5 h-5"})," Enregistrer la victoire"]})})]})]})})}function KM({isModalOpen:t,setIsModalOpen:e}){const[n,i]=R.useState("podium"),[o,l]=R.useState(null),{showToast:c}=M1(),d=y=>{c(y||" Victoire enregistre !!")},h=y=>{l(y),e(!0)},p=()=>{e(!1),l(null)};return m.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-3 sm:px-4 py-6 sm:py-10",children:[m.jsx(BM,{}),m.jsxs(V.section,{className:"mb-8 sm:mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[m.jsxs("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 sm:gap-3",children:[m.jsx(V.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:m.jsx(df,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gold"})}),"Classement"]}),m.jsxs("div",{className:"flex gap-1 sm:gap-2 p-1 rounded-xl bg-white/[0.03] border border-white/5 self-start sm:self-auto",children:[m.jsxs("button",{onClick:()=>i("podium"),className:`view-btn text-xs sm:text-sm px-3 sm:px-4 py-1.5 sm:py-2 ${n==="podium"?"active":""}`,children:[m.jsx(vo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," Podium"]}),m.jsxs("button",{onClick:()=>i("list"),className:`view-btn text-xs sm:text-sm px-3 sm:px-4 py-1.5 sm:py-2 ${n==="list"?"active":""}`,children:[m.jsx(lk,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," Liste"]})]})]}),m.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:n==="podium"?m.jsx(zM,{}):m.jsx(UM,{})},n)]}),m.jsx($M,{onEditGame:h}),m.jsx(GM,{isOpen:t,onClose:p,onSuccess:d,editGame:o})]})}const qM={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},YM={hidden:{opacity:0,x:-20},show:{opacity:1,x:0,transition:{type:"spring",stiffness:100}}};function QM({onCreatePlayer:t}){const{players:e,games:n}=Hn();return m.jsxs("div",{children:[m.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:m.jsxs("div",{className:"glass-gold rounded-2xl overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gold/10",children:m.jsxs("h3",{className:"flex items-center gap-3 text-lg font-semibold text-gold",children:[m.jsx(N0,{className:"w-5 h-5"})," Nouveau Joueur"]})}),m.jsx("div",{className:"p-6",children:m.jsxs("form",{onSubmit:t,className:"flex gap-4",children:[m.jsx("input",{type:"text",name:"playerName",placeholder:"Nom du joueur...",className:"form-input flex-1",required:!0}),m.jsxs(zi,{type:"submit",children:[m.jsx(N0,{className:"w-5 h-5"}),m.jsx("span",{children:"Crer"})]})]})})]})}),e.length>0?m.jsx(V.div,{className:"grid gap-4 md:grid-cols-2",variants:qM,initial:"hidden",animate:"show",children:e.map(i=>{const o=np(i.id,n);return m.jsx(V.div,{variants:YM,children:m.jsx(zt,{to:`/players/${i.id}`,children:m.jsxs(V.div,{className:"flex items-center gap-4 p-5 rounded-2xl glass group",whileHover:{scale:1.02,transition:{type:"spring",stiffness:400}},children:[m.jsx(V.div,{className:"avatar-3d w-16 h-16 text-3xl",whileHover:{scale:1.1,rotate:10},children:i.emoji||""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg text-white group-hover:text-gold transition-colors",children:i.name}),m.jsx("p",{className:"text-sm text-white/40",children:tp(o.wins)})]}),m.jsxs("div",{className:"text-center mr-2",children:[m.jsx("div",{className:"font-display text-2xl font-bold bg-gradient-to-r from-gold to-amber-300 bg-clip-text text-transparent",children:o.wins}),m.jsx("div",{className:"text-xs text-white/30",children:"victoires"})]}),m.jsx(JN,{className:"w-5 h-5 text-white/20 group-hover:text-gold group-hover:translate-x-1 transition-all"})]})})},i.id)})}):m.jsxs(V.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[m.jsx(V.div,{className:"text-7xl mb-4 opacity-30",animate:{rotate:[0,10,-10,0]},transition:{duration:4,repeat:1/0},children:""}),m.jsx("p",{className:"text-white/40",children:"Aucun joueur cr"})]})]})}function Pv(t,e,n,i){const o=[...new Set(i.map(x=>x.gameType))],l=[...new Set(i.map(x=>x.place).filter(Boolean))],c=i.some(x=>{var C;return(C=x.badges)==null?void 0:C.includes("night-owl")}),d=i.some(x=>{var C;return(C=x.badges)==null?void 0:C.includes("early-bird")}),h=["mastermind","bluffer","trap","calculator","reader"],p=i.filter(x=>{var C;return(C=x.badges)==null?void 0:C.some(P=>h.includes(P))}).length,y=["lucky-draw","miracle","against-odds"],v=i.filter(x=>{var C;return(C=x.badges)==null?void 0:C.some(P=>y.includes(P))}).length;return[{icon:"",name:"Bienvenue",desc:"Rejoindre l'aventure",earned:!0,category:"debut"},{icon:"",name:"Premire Victoire",desc:"Remporter sa premire partie",earned:t.wins>=1,category:"debut"},{icon:"",name:"Habitu",desc:"Jouer 5 parties",earned:t.gamesPlayed>=5,category:"debut"},{icon:"",name:"toile Montante",desc:"5 victoires totales",earned:t.wins>=5,category:"victoires"},{icon:"",name:"Roi des Cartes",desc:"10 victoires totales",earned:t.wins>=10,category:"victoires"},{icon:"",name:"Champion",desc:"25 victoires totales",earned:t.wins>=25,category:"victoires"},{icon:"",name:"Lgende",desc:"50 victoires totales",earned:t.wins>=50,category:"victoires"},{icon:"",name:"Immortel",desc:"100 victoires totales",earned:t.wins>=100,category:"victoires"},{icon:"",name:"En Feu",desc:"3 victoires d'affile",earned:e>=3,category:"series"},{icon:"",name:"Inarrtable",desc:"5 victoires d'affile",earned:e>=5,category:"series"},{icon:"",name:"lectrique",desc:"7 victoires d'affile",earned:e>=7,category:"series"},{icon:"",name:"Ouragan",desc:"10 victoires d'affile",earned:e>=10,category:"series"},{icon:"",name:"Rgulier",desc:"20 parties joues",earned:t.gamesPlayed>=20,category:"regularite"},{icon:"",name:"Fidle",desc:"50 parties joues",earned:t.gamesPlayed>=50,category:"regularite"},{icon:"",name:"Vtran",desc:"100 parties joues",earned:t.gamesPlayed>=100,category:"regularite"},{icon:"",name:"Bon Ratio",desc:"Taux de victoire > 40%",earned:t.winRate>=40&&t.gamesPlayed>=5,category:"taux"},{icon:"",name:"Performant",desc:"Taux de victoire > 60%",earned:t.winRate>=60&&t.gamesPlayed>=10,category:"taux"},{icon:"",name:"Perfectionniste",desc:"Taux de victoire > 75%",earned:t.winRate>=75&&t.gamesPlayed>=10,category:"taux"},{icon:"",name:"lite",desc:"Taux de victoire > 90%",earned:t.winRate>=90&&t.gamesPlayed>=10,category:"taux"},{icon:"",name:"Polyvalent",desc:"Gagner  3 jeux diffrents",earned:o.length>=3,category:"diversite"},{icon:"",name:"Matre Multi-Jeux",desc:"Gagner  5 jeux diffrents",earned:o.length>=5,category:"diversite"},{icon:"",name:"Voyageur",desc:"Gagner dans 3 lieux diffrents",earned:l.length>=3,category:"diversite"},{icon:"",name:"Globe-Trotter",desc:"Gagner dans 5 lieux diffrents",earned:l.length>=5,category:"diversite"},{icon:"",name:"Collectionneur",desc:"Obtenir 5 badges diffrents",earned:n.length>=5,category:"badges"},{icon:"",name:"Archiviste",desc:"Obtenir 10 badges diffrents",earned:n.length>=10,category:"badges"},{icon:"",name:"Conservateur",desc:"Obtenir 20 badges diffrents",earned:n.length>=20,category:"badges"},{icon:"",name:"Matre Collectionneur",desc:"Obtenir 30 badges diffrents",earned:n.length>=30,category:"badges"},{icon:"",name:"Oiseau de Nuit",desc:"Gagner aprs minuit",earned:c,category:"special"},{icon:"",name:"Lve-Tt",desc:"Gagner tt le matin",earned:d,category:"special"},{icon:"",name:"Stratge",desc:"5 victoires avec badges stratgie",earned:p>=5,category:"special"},{icon:"",name:"Chanceux",desc:"3 victoires avec badges chance",earned:v>=3,category:"special"},{icon:"",name:"Sans Dfaut",desc:'10 victoires avec badge "Sans Faute"',earned:i.filter(x=>{var C;return(C=x.badges)==null?void 0:C.includes("flawless")}).length>=10,category:"domination"},{icon:"",name:"Dominateur",desc:'10 victoires avec badge "Domination"',earned:i.filter(x=>{var C;return(C=x.badges)==null?void 0:C.includes("domination")}).length>=10,category:"domination"},{icon:"",name:"Prdateur",desc:'5 victoires avec badge "Requin"',earned:i.filter(x=>{var C;return(C=x.badges)==null?void 0:C.includes("aggressive")}).length>=5,category:"domination"}]}function XM({player:t,onUpdate:e,onDelete:n}){const{games:i}=Hn(),[o,l]=R.useState({name:t.name,emoji:t.emoji||"",description:t.description||""}),[c,d]=R.useState(!1),h=np(t.id,i),{maxStreak:p}=rp(t.id,i),y=i.filter(k=>k.winnerId===t.id).sort((k,D)=>new Date(D.date)-new Date(k.date)),v=[...new Set(y.flatMap(k=>k.badges||[]))],x=fl.map(k=>({...k,badges:v.map(D=>$r.find(F=>F.value===D)).filter(D=>D&&D.category===k.value)})).filter(k=>k.badges.length>0),C=y.reduce((k,D)=>((D.badges||[]).forEach(F=>{k[F]=(k[F]||0)+1}),k),{}),P=k=>{k.preventDefault(),e(o)},b=()=>{d(!0)},E=()=>{n()};return m.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[m.jsxs(V.div,{className:"relative py-12 text-center",initial:{y:-20},animate:{y:0},children:[m.jsx(zt,{to:"/players",className:"absolute top-0 left-0",children:m.jsxs(V.div,{className:"nav-link",whileHover:{x:-5},children:[m.jsx(ZN,{className:"w-5 h-5"}),m.jsx("span",{children:"Retour"})]})}),m.jsxs(V.div,{className:"relative inline-block",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},children:[m.jsx("div",{className:"avatar-3d w-32 h-32 text-6xl glow-gold-intense",children:t.emoji||""}),h.wins>=5&&m.jsx(V.div,{className:"absolute -top-2 -right-2",animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},children:m.jsx(gk,{className:"w-8 h-8 text-gold fill-gold"})})]}),m.jsx(V.h2,{className:"font-display text-4xl font-bold bg-gradient-to-r from-white via-gold-light to-white bg-clip-text text-transparent mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:t.name}),m.jsx(V.p,{className:"text-gold/60 mt-2 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:tp(h.wins)}),t.description&&m.jsxs(V.p,{className:"text-white/50 mt-4 max-w-md mx-auto italic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},children:['"',t.description,'"']}),m.jsx(V.div,{className:"flex justify-center gap-10 mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[{value:h.wins,label:"Victoires",color:"from-gold to-amber-300"},{value:h.gamesPlayed,label:"Parties",color:"from-blue-400 to-cyan-300"},{value:`${h.winRate}%`,label:"Taux",color:"from-emerald-400 to-teal-300"},{value:p,label:"Srie Max",color:"from-orange-400 to-red-300"}].map((k,D)=>m.jsxs(V.div,{className:"text-center",whileHover:{scale:1.1},children:[m.jsx("div",{className:`font-display text-3xl font-bold bg-gradient-to-r ${k.color} bg-clip-text text-transparent`,children:k.value}),m.jsx("div",{className:"text-sm text-white/40 mt-1",children:k.label})]},k.label))})]}),m.jsx(V.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.jsxs("div",{className:"glass rounded-2xl overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-white/5 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(vo,{className:"w-5 h-5 text-gold"}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Collection de Badges"}),m.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gold/20 text-gold text-sm font-medium",children:[v.length," badges"]})]}),m.jsxs(zt,{to:"/badges",className:"text-sm text-white/40 hover:text-gold transition-colors flex items-center gap-1",children:["Voir tous les badges ",m.jsx(tk,{className:"w-3 h-3"})]})]}),m.jsx("div",{className:"p-6",children:x.length>0?m.jsx("div",{className:"space-y-6",children:x.map(k=>m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center gap-2 mb-3",children:m.jsx("span",{className:`px-3 py-1 rounded-lg text-sm bg-gradient-to-r ${Nh[k.value]} border`,children:k.label})}),m.jsx("div",{className:"flex flex-wrap gap-3",children:k.badges.map((D,F)=>m.jsxs(V.div,{className:"group relative flex items-center gap-3 px-4 py-3 rounded-xl glass-gold cursor-help",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:F*.05},whileHover:{scale:1.05},children:[m.jsx("span",{className:"text-2xl",children:D.icon}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-white text-sm",children:D.name}),m.jsxs("div",{className:"text-xs text-gold/60",children:["Obtenu ",C[D.value],"x"]})]}),m.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-black/90 rounded-lg text-xs text-white/80 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none w-48 text-center z-10",children:D.description})]},D.value))})]},k.value))}):m.jsxs("div",{className:"text-center py-10 text-white/30",children:[m.jsx("div",{className:"text-5xl mb-3 opacity-30",children:""}),m.jsx("p",{children:"Aucun badge obtenu pour le moment"}),m.jsx("p",{className:"text-sm mt-1",children:"Gagnez des parties pour collecter des badges !"})]})})]})}),m.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[m.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:m.jsxs("div",{className:"glass rounded-2xl overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-white/5 flex items-center gap-3",children:[m.jsx(Sl,{className:"w-5 h-5 text-gold"}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Modifier le profil"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("form",{onSubmit:P,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(xk,{className:"w-4 h-4"})," Nom"]}),m.jsx("input",{type:"text",value:o.name,onChange:k=>l(D=>({...D,name:k.target.value})),className:"form-input",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(mk,{className:"w-4 h-4"})," Avatar"]}),m.jsx("div",{className:"grid grid-cols-8 gap-2 p-3 bg-white/[0.02] rounded-xl border border-white/5",children:jM.map(k=>m.jsx(V.button,{type:"button",onClick:()=>l(D=>({...D,emoji:k})),className:`
                          w-10 h-10 rounded-lg flex items-center justify-center text-xl
                          transition-all
                          ${o.emoji===k?"bg-gold/20 ring-2 ring-gold shadow-lg shadow-gold/20":"hover:bg-white/5"}
                        `,whileHover:{scale:1.1},whileTap:{scale:.95},children:k},k))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white/60",children:[m.jsx(nk,{className:"w-4 h-4"})," Description"]}),m.jsx("textarea",{value:o.description,onChange:k=>l(D=>({...D,description:k.target.value})),rows:3,placeholder:"Une petite bio ou devise...",className:"form-input resize-none"})]}),m.jsxs(zi,{type:"submit",className:"w-full",children:[m.jsx(fk,{className:"w-5 h-5"})," Enregistrer"]})]}),m.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:m.jsxs(V.button,{onClick:b,className:"w-full py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-all text-sm flex items-center justify-center gap-2 border border-transparent hover:border-red-500/20",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(pf,{className:"w-4 h-4"})," Supprimer ce joueur"]})})]})]})}),m.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:m.jsxs("div",{className:"glass rounded-2xl overflow-hidden h-full",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-white/5 flex items-center gap-3",children:[m.jsx(Yl,{className:"w-5 h-5 text-gold"}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mes Victoires"}),m.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gold/20 text-gold text-sm font-medium",children:y.length})]}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:y.length>0?y.map((k,D)=>{var F;return m.jsxs(V.div,{className:"flex items-center gap-4 p-4 bg-white/[0.02] rounded-xl border border-white/5 hover:border-gold/20 transition-colors",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.05},children:[m.jsx("span",{className:"text-2xl",children:""}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-white capitalize",children:k.gameType}),m.jsxs("div",{className:"text-sm text-white/40",children:[kh(k.date),k.place&&`  ${k.place}`]})]}),((F=k.badges)==null?void 0:F.length)>0&&m.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[k.badges.slice(0,3).map(L=>m.jsx("span",{title:Po(L).name,className:"text-lg",children:Po(L).icon},L)),k.badges.length>3&&m.jsxs("span",{className:"text-xs text-white/40",children:["+",k.badges.length-3]})]})]},k.id)}):m.jsxs("div",{className:"text-center py-10 text-white/30",children:[m.jsx("div",{className:"text-4xl mb-2 opacity-50",children:""}),"Aucune victoire pour le moment..."]})})})]})})]}),m.jsx(V.div,{className:"mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.jsxs("div",{className:"glass rounded-2xl overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-white/5 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ck,{className:"w-5 h-5 text-gold"}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Accomplissements"})]}),m.jsx("span",{className:"text-sm text-white/40",children:(()=>{const k=Pv(h,p,v,y);return`${k.filter(F=>F.earned).length}/${k.length} dbloqus`})()})]}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 max-h-[400px] overflow-y-auto pr-2",children:Pv(h,p,v,y).map((k,D)=>m.jsxs(V.div,{className:`
                    flex items-center gap-3 px-4 py-3 rounded-xl border transition-all
                    ${k.earned?"glass-gold":"bg-white/[0.02] border-white/5 opacity-40 grayscale"}
                  `,initial:{opacity:0,scale:.9},animate:{opacity:k.earned?1:.4,scale:1},transition:{delay:.6+D*.02},whileHover:k.earned?{scale:1.02}:{},children:[m.jsx("span",{className:"text-2xl",children:k.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-white text-sm",children:k.name}),m.jsx("div",{className:"text-xs text-white/40 truncate",children:k.desc})]}),k.earned&&m.jsx("span",{className:"text-gold text-lg",children:""})]},k.name))})})]})}),m.jsx(I1,{isOpen:c,onClose:()=>d(!1),onConfirm:E,title:"Supprimer ce joueur ?",message:`tes-vous sr de vouloir supprimer "${t.name}" ? Toutes ses statistiques seront perdues. Cette action est irrversible.`,confirmText:"Oui, supprimer",cancelText:"Non, annuler",variant:"danger"})]})}function Iv(){const{playerId:t}=BS(),e=zv(),{players:n,createPlayer:i,updatePlayer:o,deletePlayer:l,getPlayer:c}=Hn(),{showToast:d}=M1(),[h,p]=R.useState(!1),y=t?c(t):null,v=async P=>{P.preventDefault();const b=P.target.playerName.value.trim();if(!b){d("Le nom est requis","error");return}p(!0);try{const E=await i(b);P.target.reset(),d(`${E.emoji} ${E.name} a rejoint la partie !`),e(`/players/${E.id}`)}catch{d("Erreur lors de la cration","error")}finally{p(!1)}},x=async P=>{try{await o(t,P),d("Profil mis  jour !")}catch{d("Erreur lors de la mise  jour","error")}},C=async()=>{try{await l(t),d("Joueur supprim"),e("/players")}catch{d("Erreur lors de la suppression","error")}};return t&&y?m.jsx("main",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:m.jsx(XM,{player:y,onUpdate:x,onDelete:C})}):m.jsxs("main",{className:"relative z-10 max-w-4xl mx-auto px-4 py-8",children:[m.jsx("div",{className:"flex items-center justify-between mb-8",children:m.jsxs("h2",{className:"font-display text-3xl font-bold text-white flex items-center gap-3",children:[m.jsx(El,{className:"w-8 h-8 text-gold"})," Joueurs"]})}),m.jsx(QM,{onCreatePlayer:v})]})}const ZM={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},JM={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100}}};function ej(){const[t,e]=R.useState(null),[n,i]=R.useState(""),[o,l]=R.useState(null),c=$r.filter(h=>{const p=!t||h.category===t,y=!n||h.name.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase());return p&&y}),d=fl.map(h=>({...h,badges:c.filter(p=>p.category===h.value)})).filter(h=>h.badges.length>0);return m.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-3 sm:px-4 py-6 sm:py-10",children:[m.jsxs(V.div,{className:"text-center mb-8 sm:mb-12",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[m.jsx(V.div,{className:"inline-flex items-center justify-center w-14 h-14 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-gold/20 to-amber-500/10 border border-gold/30 mb-4 sm:mb-6",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},children:m.jsx(vo,{className:"w-7 h-7 sm:w-10 sm:h-10 text-gold"})}),m.jsx("h1",{className:"font-display text-2xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-gold via-amber-300 to-gold bg-clip-text text-transparent mb-2 sm:mb-4",children:"Encyclopdie des Badges"}),m.jsx("p",{className:"text-white/50 text-sm sm:text-lg max-w-2xl mx-auto px-2",children:"Dcouvrez tous les badges et leurs significations."})]}),m.jsxs(V.div,{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[m.jsxs("div",{className:"glass rounded-xl p-3 sm:p-4 text-center",children:[m.jsx("div",{className:"text-xl sm:text-3xl font-bold text-gold",children:$r.length}),m.jsx("div",{className:"text-white/50 text-xs sm:text-sm",children:"Total"})]}),m.jsxs("div",{className:"glass rounded-xl p-3 sm:p-4 text-center",children:[m.jsx("div",{className:"text-xl sm:text-3xl font-bold text-purple-400",children:fl.length}),m.jsx("div",{className:"text-white/50 text-xs sm:text-sm",children:"Catgories"})]}),m.jsxs("div",{className:"glass rounded-xl p-3 sm:p-4 text-center",children:[m.jsx("div",{className:"text-xl sm:text-3xl font-bold text-emerald-400",children:$r.filter(h=>h.category==="special").length}),m.jsx("div",{className:"text-white/50 text-xs sm:text-sm",children:"Spciaux"})]}),m.jsxs("div",{className:"glass rounded-xl p-3 sm:p-4 text-center",children:[m.jsx("div",{className:"text-xl sm:text-3xl font-bold text-blue-400",children:$r.filter(h=>h.category==="strategie").length}),m.jsx("div",{className:"text-white/50 text-xs sm:text-sm",children:"Stratgie"})]})]}),m.jsxs(V.div,{className:"flex flex-col gap-3 sm:gap-4 mb-6 sm:mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsxs("div",{className:"relative",children:[m.jsx(pk,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-white/30"}),m.jsx("input",{type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"Rechercher un badge...",className:"form-input w-full pl-10 sm:pl-12 py-2.5 sm:py-3 text-sm sm:text-base"})]}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-3 px-3 sm:mx-0 sm:px-0 sm:flex-wrap scrollbar-hide",children:[m.jsx("button",{onClick:()=>e(null),className:`flex-shrink-0 px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${t===null?"bg-gold/20 text-gold border border-gold/30":"bg-white/5 text-white/60 border border-white/10 hover:bg-white/10"}`,children:"Tous"}),fl.map(h=>m.jsx("button",{onClick:()=>e(t===h.value?null:h.value),className:`flex-shrink-0 px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${t===h.value?"bg-gold/20 text-gold border border-gold/30":"bg-white/5 text-white/60 border border-white/10 hover:bg-white/10"}`,children:h.label},h.value))]})]}),n&&m.jsxs(V.p,{className:"text-white/50 mb-4 sm:mb-6 text-sm",initial:{opacity:0},animate:{opacity:1},children:[c.length," badge",c.length>1?"s":""," trouv",c.length>1?"s":""]}),m.jsx(Zi,{mode:"wait",children:m.jsx(V.div,{className:"space-y-8 sm:space-y-12",variants:ZM,initial:"hidden",animate:"show",children:d.map(h=>m.jsxs(V.section,{variants:JM,children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mb-4 sm:mb-6",children:[m.jsx("div",{className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-xl bg-gradient-to-r ${Nh[h.value]} border text-sm sm:text-base`,children:m.jsx("span",{children:h.label})}),m.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-white/10 to-transparent"}),m.jsx("span",{className:"text-white/30 text-xs sm:text-sm",children:h.badges.length})]}),m.jsx("p",{className:"text-white/40 text-xs sm:text-sm mb-4 sm:mb-6 -mt-2",children:h.description}),m.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:h.badges.map(p=>m.jsxs(V.div,{className:`group relative rounded-xl sm:rounded-2xl p-4 sm:p-5 cursor-pointer transition-all duration-300 ${(o==null?void 0:o.value)===p.value?`bg-gradient-to-br ${Nh[p.category]} border-2`:"bg-white/[0.03] border border-white/5 hover:border-white/20"}`,onClick:()=>l((o==null?void 0:o.value)===p.value?null:p),whileHover:{y:-3,scale:1.01},whileTap:{scale:.99},layout:!0,children:[m.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[m.jsx(V.div,{className:"w-11 h-11 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl bg-white/5 flex items-center justify-center text-2xl sm:text-3xl flex-shrink-0",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:p.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-display text-base sm:text-lg font-bold text-white group-hover:text-gold transition-colors",children:p.name}),m.jsx("p",{className:"text-white/50 text-xs sm:text-sm mt-1 leading-relaxed",children:p.description})]})]}),(o==null?void 0:o.value)===p.value&&m.jsx(V.div,{className:"absolute top-2 right-2 sm:top-3 sm:right-3",initial:{scale:0},animate:{scale:1},children:m.jsx(ff,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gold"})})]},p.value))})]},h.value))},t||"all")}),c.length===0&&m.jsxs(V.div,{className:"text-center py-16 sm:py-20",initial:{opacity:0},animate:{opacity:1},children:[m.jsx("div",{className:"text-5xl sm:text-6xl mb-4 opacity-30",children:""}),m.jsx("h3",{className:"text-lg sm:text-xl text-white/50 mb-2",children:"Aucun badge trouv"}),m.jsx("p",{className:"text-white/30 text-sm",children:"Essayez avec d'autres termes"})]}),m.jsx(V.div,{className:"mt-12 sm:mt-16 p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-r from-gold/5 to-amber-500/5 border border-gold/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:m.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[m.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gold/20 flex items-center justify-center flex-shrink-0",children:m.jsx(ak,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gold"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-display text-base sm:text-lg font-bold text-gold mb-1 sm:mb-2",children:"Comment obtenir des badges ?"}),m.jsx("p",{className:"text-white/60 text-sm leading-relaxed",children:"Les badges sont attribus alatoirement lors de l'enregistrement d'une victoire. Chaque badge raconte une partie de l'histoire de votre victoire !"})]})]})})]})}function tj(){return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[m.jsx(T1,{}),m.jsxs(V.div,{className:"text-center relative z-10",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[m.jsx(V.div,{className:"text-8xl mb-6",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:""}),m.jsx("h2",{className:"font-display text-2xl text-gold mb-2",children:"Chargement..."}),m.jsx("p",{className:"text-white/50",children:"Synchronisation avec la base de donnes"})]})]})}function nj(){const[t,e]=R.useState(!1),{loading:n}=Hn();return n?m.jsx(tj,{}):m.jsxs("div",{className:"min-h-screen flex flex-col",children:[m.jsx(T1,{}),m.jsx(Ck,{onNewGame:()=>e(!0)}),m.jsx("div",{className:"flex-1",children:m.jsxs(nE,{children:[m.jsx(Xs,{path:"/",element:m.jsx(KM,{isModalOpen:t,setIsModalOpen:e})}),m.jsx(Xs,{path:"/players",element:m.jsx(Iv,{})}),m.jsx(Xs,{path:"/players/:playerId",element:m.jsx(Iv,{})}),m.jsx(Xs,{path:"/badges",element:m.jsx(ej,{})})]})}),m.jsx(Sk,{})]})}function rj(){return m.jsx(kk,{children:m.jsx(nj,{})})}cS.createRoot(document.getElementById("root")).render(m.jsx(Mv.StrictMode,{children:m.jsx(cE,{children:m.jsx(FM,{children:m.jsx(rj,{})})})}));
